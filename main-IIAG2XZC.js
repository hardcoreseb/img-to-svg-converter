var vm=Object.create;var ks=Object.defineProperty,ym=Object.defineProperties,_m=Object.getOwnPropertyDescriptor,bm=Object.getOwnPropertyDescriptors,wm=Object.getOwnPropertyNames,wf=Object.getOwnPropertySymbols,Em=Object.getPrototypeOf,xf=Object.prototype.hasOwnProperty,xm=Object.prototype.propertyIsEnumerable;var Ef=(e,t,r)=>t in e?ks(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ue=(e,t)=>{for(var r in t||={})xf.call(t,r)&&Ef(e,r,t[r]);if(wf)for(var r of wf(t))xm.call(t,r)&&Ef(e,r,t[r]);return e},ft=(e,t)=>ym(e,bm(t));var wi=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Ht=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Dm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of wm(t))!xf.call(e,a)&&a!==r&&ks(e,a,{get:()=>t[a],enumerable:!(n=_m(t,a))||n.enumerable});return e};var Cm=(e,t,r)=>(r=e!=null?vm(Em(e)):{},Dm(t||!e||!e.__esModule?ks(r,"default",{value:e,enumerable:!0}):r,e));var nf=Ht((Bg,tf)=>{"use strict";if((typeof ze>"u"||!ze)&&typeof self<"u")var ze=self;(function(e){if(typeof Bg=="object"&&typeof tf<"u")tf.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof ze<"u"?t=ze:typeof global<"u"?t=global:typeof self<"u"?t=self:t=this,t.jimp=e()}})(function(){var e,t,r;return function(){function n(a,s,u){function c(f,h){if(!s[f]){if(!a[f]){var l=typeof wi=="function"&&wi;if(!h&&l)return l(f,!0);if(m)return m(f,!0);var o=new Error("Cannot find module '"+f+"'");throw o.code="MODULE_NOT_FOUND",o}var i=s[f]={exports:{}};a[f][0].call(i.exports,function(g){var y=a[f][1][g];return c(y||g)},i,i.exports,n,a,s,u)}return s[f].exports}for(var m=typeof wi=="function"&&wi,_=0;_<u.length;_++)c(u[_]);return c}return n}()({1:[function(n,a,s){function u(c){if(Array.isArray(c))return c}a.exports=u},{}],2:[function(n,a,s){function u(c){if(Array.isArray(c)){for(var m=0,_=new Array(c.length);m<c.length;m++)_[m]=c[m];return _}}a.exports=u},{}],3:[function(n,a,s){function u(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}a.exports=u},{}],4:[function(n,a,s){function u(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}a.exports=u},{}],5:[function(n,a,s){var u=n("./setPrototypeOf");function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function m(_,f,h){return c()?a.exports=m=Reflect.construct:a.exports=m=function(o,i,g){var y=[null];y.push.apply(y,i);var d=Function.bind.apply(o,y),v=new d;return g&&u(v,g.prototype),v},m.apply(null,arguments)}a.exports=m},{"./setPrototypeOf":18}],6:[function(n,a,s){function u(m,_){for(var f=0;f<_.length;f++){var h=_[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}function c(m,_,f){return _&&u(m.prototype,_),f&&u(m,f),m}a.exports=c},{}],7:[function(n,a,s){function u(c,m,_){return m in c?Object.defineProperty(c,m,{value:_,enumerable:!0,configurable:!0,writable:!0}):c[m]=_,c}a.exports=u},{}],8:[function(n,a,s){function u(){return a.exports=u=Object.assign||function(c){for(var m=1;m<arguments.length;m++){var _=arguments[m];for(var f in _)Object.prototype.hasOwnProperty.call(_,f)&&(c[f]=_[f])}return c},u.apply(this,arguments)}a.exports=u},{}],9:[function(n,a,s){function u(c){return a.exports=u=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},u(c)}a.exports=u},{}],10:[function(n,a,s){var u=n("./setPrototypeOf");function c(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),_&&u(m,_)}a.exports=c},{"./setPrototypeOf":18}],11:[function(n,a,s){function u(c){return c&&c.__esModule?c:{default:c}}a.exports=u},{}],12:[function(n,a,s){var u=n("../helpers/typeof");function c(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return c=function(){return _},_}function m(_){if(_&&_.__esModule)return _;if(_===null||u(_)!=="object"&&typeof _!="function")return{default:_};var f=c();if(f&&f.has(_))return f.get(_);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in _)if(Object.prototype.hasOwnProperty.call(_,o)){var i=l?Object.getOwnPropertyDescriptor(_,o):null;i&&(i.get||i.set)?Object.defineProperty(h,o,i):h[o]=_[o]}return h.default=_,f&&f.set(_,h),h}a.exports=m},{"../helpers/typeof":21}],13:[function(n,a,s){function u(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}a.exports=u},{}],14:[function(n,a,s){function u(c,m){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]"){var _=[],f=!0,h=!1,l=void 0;try{for(var o=c[Symbol.iterator](),i;!(f=(i=o.next()).done)&&(_.push(i.value),!(m&&_.length===m));f=!0);}catch(g){h=!0,l=g}finally{try{!f&&o.return!=null&&o.return()}finally{if(h)throw l}}return _}}a.exports=u},{}],15:[function(n,a,s){function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}a.exports=u},{}],16:[function(n,a,s){function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}a.exports=u},{}],17:[function(n,a,s){var u=n("../helpers/typeof"),c=n("./assertThisInitialized");function m(_,f){return f&&(u(f)==="object"||typeof f=="function")?f:c(_)}a.exports=m},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(n,a,s){function u(c,m){return a.exports=u=Object.setPrototypeOf||function(f,h){return f.__proto__=h,f},u(c,m)}a.exports=u},{}],19:[function(n,a,s){var u=n("./arrayWithHoles"),c=n("./iterableToArrayLimit"),m=n("./nonIterableRest");function _(f,h){return u(f)||c(f,h)||m()}a.exports=_},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(n,a,s){var u=n("./arrayWithoutHoles"),c=n("./iterableToArray"),m=n("./nonIterableSpread");function _(f){return u(f)||c(f)||m()}a.exports=_},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(n,a,s){function u(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(f){return typeof f}:u=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},u(m)}function c(m){return typeof Symbol=="function"&&u(Symbol.iterator)==="symbol"?a.exports=c=function(f){return u(f)}:a.exports=c=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":u(f)},c(m)}a.exports=c},{}],22:[function(n,a,s){a.exports=n("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(n,a,s){var u=n("./src/converter");function c(m,_){var f=new u(m,_);return function(h){return f.convert(h)}}c.BIN="01",c.OCT="01234567",c.DEC="0123456789",c.HEX="0123456789abcdef",a.exports=c},{"./src/converter":24}],24:[function(n,a,s){"use strict";function u(c,m){if(!c||!m||!c.length||!m.length)throw new Error("Bad alphabet");this.srcAlphabet=c,this.dstAlphabet=m}u.prototype.convert=function(c){var m,_,f,h={},l=this.srcAlphabet.length,o=this.dstAlphabet.length,i=c.length,g=typeof c=="string"?"":[];if(!this.isValid(c))throw new Error('Number "'+c+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return c;for(m=0;m<i;m++)h[m]=this.srcAlphabet.indexOf(c[m]);do{for(_=0,f=0,m=0;m<i;m++)_=_*l+h[m],_>=o?(h[f++]=parseInt(_/o,10),_=_%o):f>0&&(h[f++]=0);i=f,g=this.dstAlphabet.slice(_,_+1).concat(g)}while(f!==0);return g},u.prototype.isValid=function(c){for(var m=0;m<c.length;++m)if(this.srcAlphabet.indexOf(c[m])===-1)return!1;return!0},a.exports=u},{}],25:[function(n,a,s){(function(u){"use strict";var c=n("object-assign");function m(H,R){if(H===R)return 0;for(var j=H.length,Y=R.length,ne=0,re=Math.min(j,Y);ne<re;++ne)if(H[ne]!==R[ne]){j=H[ne],Y=R[ne];break}return j<Y?-1:Y<j?1:0}function _(H){return u.Buffer&&typeof u.Buffer.isBuffer=="function"?u.Buffer.isBuffer(H):!!(H!=null&&H._isBuffer)}var f=n("util/"),h=Object.prototype.hasOwnProperty,l=Array.prototype.slice,o=function(){return function(){}.name==="foo"}();function i(H){return Object.prototype.toString.call(H)}function g(H){return _(H)||typeof u.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(H):H?!!(H instanceof DataView||H.buffer&&H.buffer instanceof ArrayBuffer):!1}var y=a.exports=D,d=/\s*function\s+([^\(\s]*)\s*/;function v(H){if(f.isFunction(H)){if(o)return H.name;var R=H.toString(),j=R.match(d);return j&&j[1]}}y.AssertionError=function(R){this.name="AssertionError",this.actual=R.actual,this.expected=R.expected,this.operator=R.operator,R.message?(this.message=R.message,this.generatedMessage=!1):(this.message=w(this),this.generatedMessage=!0);var j=R.stackStartFunction||E;if(Error.captureStackTrace)Error.captureStackTrace(this,j);else{var Y=new Error;if(Y.stack){var ne=Y.stack,re=v(j),ie=ne.indexOf(`
`+re);if(ie>=0){var W=ne.indexOf(`
`,ie+1);ne=ne.substring(W+1)}this.stack=ne}}},f.inherits(y.AssertionError,Error);function p(H,R){return typeof H=="string"?H.length<R?H:H.slice(0,R):H}function b(H){if(o||!f.isFunction(H))return f.inspect(H);var R=v(H),j=R?": "+R:"";return"[Function"+j+"]"}function w(H){return p(b(H.actual),128)+" "+H.operator+" "+p(b(H.expected),128)}function E(H,R,j,Y,ne){throw new y.AssertionError({message:j,actual:H,expected:R,operator:Y,stackStartFunction:ne})}y.fail=E;function D(H,R){H||E(H,!0,R,"==",y.ok)}y.ok=D,y.equal=function(R,j,Y){R!=j&&E(R,j,Y,"==",y.equal)},y.notEqual=function(R,j,Y){R==j&&E(R,j,Y,"!=",y.notEqual)},y.deepEqual=function(R,j,Y){S(R,j,!1)||E(R,j,Y,"deepEqual",y.deepEqual)},y.deepStrictEqual=function(R,j,Y){S(R,j,!0)||E(R,j,Y,"deepStrictEqual",y.deepStrictEqual)};function S(H,R,j,Y){if(H===R)return!0;if(_(H)&&_(R))return m(H,R)===0;if(f.isDate(H)&&f.isDate(R))return H.getTime()===R.getTime();if(f.isRegExp(H)&&f.isRegExp(R))return H.source===R.source&&H.global===R.global&&H.multiline===R.multiline&&H.lastIndex===R.lastIndex&&H.ignoreCase===R.ignoreCase;if((H===null||typeof H!="object")&&(R===null||typeof R!="object"))return j?H===R:H==R;if(g(H)&&g(R)&&i(H)===i(R)&&!(H instanceof Float32Array||H instanceof Float64Array))return m(new Uint8Array(H.buffer),new Uint8Array(R.buffer))===0;if(_(H)!==_(R))return!1;Y=Y||{actual:[],expected:[]};var ne=Y.actual.indexOf(H);return ne!==-1&&ne===Y.expected.indexOf(R)?!0:(Y.actual.push(H),Y.expected.push(R),I(H,R,j,Y))}function C(H){return Object.prototype.toString.call(H)=="[object Arguments]"}function I(H,R,j,Y){if(H==null||R===null||R===void 0)return!1;if(f.isPrimitive(H)||f.isPrimitive(R))return H===R;if(j&&Object.getPrototypeOf(H)!==Object.getPrototypeOf(R))return!1;var ne=C(H),re=C(R);if(ne&&!re||!ne&&re)return!1;if(ne)return H=l.call(H),R=l.call(R),S(H,R,j);var ie=V(H),W=V(R),q,te;if(ie.length!==W.length)return!1;for(ie.sort(),W.sort(),te=ie.length-1;te>=0;te--)if(ie[te]!==W[te])return!1;for(te=ie.length-1;te>=0;te--)if(q=ie[te],!S(H[q],R[q],j,Y))return!1;return!0}y.notDeepEqual=function(R,j,Y){S(R,j,!1)&&E(R,j,Y,"notDeepEqual",y.notDeepEqual)},y.notDeepStrictEqual=T;function T(H,R,j){S(H,R,!0)&&E(H,R,j,"notDeepStrictEqual",T)}y.strictEqual=function(R,j,Y){R!==j&&E(R,j,Y,"===",y.strictEqual)},y.notStrictEqual=function(R,j,Y){R===j&&E(R,j,Y,"!==",y.notStrictEqual)};function M(H,R){if(!H||!R)return!1;if(Object.prototype.toString.call(R)=="[object RegExp]")return R.test(H);try{if(H instanceof R)return!0}catch{}return Error.isPrototypeOf(R)?!1:R.call({},H)===!0}function P(H){var R;try{H()}catch(j){R=j}return R}function N(H,R,j,Y){var ne;if(typeof R!="function")throw new TypeError('"block" argument must be a function');typeof j=="string"&&(Y=j,j=null),ne=P(R),Y=(j&&j.name?" ("+j.name+").":".")+(Y?" "+Y:"."),H&&!ne&&E(ne,j,"Missing expected exception"+Y);var re=typeof Y=="string",ie=!H&&f.isError(ne),W=!H&&ne&&!j;if((ie&&re&&M(ne,j)||W)&&E(ne,j,"Got unwanted exception"+Y),H&&ne&&j&&!M(ne,j)||!H&&ne)throw ne}y.throws=function(H,R,j){N(!0,H,R,j)},y.doesNotThrow=function(H,R,j){N(!1,H,R,j)},y.ifError=function(H){if(H)throw H};function G(H,R){H||E(H,!0,R,"==",G)}y.strict=c(G,y,{equal:y.strictEqual,deepEqual:y.deepStrictEqual,notEqual:y.notStrictEqual,notDeepEqual:y.notDeepStrictEqual}),y.strict.strict=y.strict;var V=Object.keys||function(H){var R=[];for(var j in H)h.call(H,j)&&R.push(j);return R}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{})},{"object-assign":84,"util/":28}],26:[function(n,a,s){typeof Object.create=="function"?a.exports=function(c,m){c.super_=m,c.prototype=Object.create(m.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(c,m){c.super_=m;var _=function(){};_.prototype=m.prototype,c.prototype=new _,c.prototype.constructor=c}},{}],27:[function(n,a,s){a.exports=function(c){return c&&typeof c=="object"&&typeof c.copy=="function"&&typeof c.fill=="function"&&typeof c.readUInt8=="function"}},{}],28:[function(n,a,s){(function(u,c){var m=/%[sdj%]/g;s.format=function(W){if(!I(W)){for(var q=[],te=0;te<arguments.length;te++)q.push(h(arguments[te]));return q.join(" ")}for(var te=1,K=arguments,J=K.length,le=String(W).replace(m,function(_e){if(_e==="%%")return"%";if(te>=J)return _e;switch(_e){case"%s":return String(K[te++]);case"%d":return Number(K[te++]);case"%j":try{return JSON.stringify(K[te++])}catch{return"[Circular]"}default:return _e}}),se=K[te];te<J;se=K[++te])D(se)||!N(se)?le+=" "+se:le+=" "+h(se);return le},s.deprecate=function(W,q){if(M(c.process))return function(){return s.deprecate(W,q).apply(this,arguments)};if(u.noDeprecation===!0)return W;var te=!1;function K(){if(!te){if(u.throwDeprecation)throw new Error(q);u.traceDeprecation?console.trace(q):console.error(q),te=!0}return W.apply(this,arguments)}return K};var _={},f;s.debuglog=function(W){if(M(f)&&(f=u.env.NODE_DEBUG||""),W=W.toUpperCase(),!_[W])if(new RegExp("\\b"+W+"\\b","i").test(f)){var q=u.pid;_[W]=function(){var te=s.format.apply(s,arguments);console.error("%s %d: %s",W,q,te)}}else _[W]=function(){};return _[W]};function h(W,q){var te={seen:[],stylize:o};return arguments.length>=3&&(te.depth=arguments[2]),arguments.length>=4&&(te.colors=arguments[3]),E(q)?te.showHidden=q:q&&s._extend(te,q),M(te.showHidden)&&(te.showHidden=!1),M(te.depth)&&(te.depth=2),M(te.colors)&&(te.colors=!1),M(te.customInspect)&&(te.customInspect=!0),te.colors&&(te.stylize=l),g(te,W,te.depth)}s.inspect=h,h.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},h.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(W,q){var te=h.styles[q];return te?"\x1B["+h.colors[te][0]+"m"+W+"\x1B["+h.colors[te][1]+"m":W}function o(W,q){return W}function i(W){var q={};return W.forEach(function(te,K){q[te]=!0}),q}function g(W,q,te){if(W.customInspect&&q&&H(q.inspect)&&q.inspect!==s.inspect&&!(q.constructor&&q.constructor.prototype===q)){var K=q.inspect(te,W);return I(K)||(K=g(W,K,te)),K}var J=y(W,q);if(J)return J;var le=Object.keys(q),se=i(le);if(W.showHidden&&(le=Object.getOwnPropertyNames(q)),V(q)&&(le.indexOf("message")>=0||le.indexOf("description")>=0))return d(q);if(le.length===0){if(H(q)){var _e=q.name?": "+q.name:"";return W.stylize("[Function"+_e+"]","special")}if(P(q))return W.stylize(RegExp.prototype.toString.call(q),"regexp");if(G(q))return W.stylize(Date.prototype.toString.call(q),"date");if(V(q))return d(q)}var ge="",Ee=!1,ae=["{","}"];if(w(q)&&(Ee=!0,ae=["[","]"]),H(q)){var oe=q.name?": "+q.name:"";ge=" [Function"+oe+"]"}if(P(q)&&(ge=" "+RegExp.prototype.toString.call(q)),G(q)&&(ge=" "+Date.prototype.toUTCString.call(q)),V(q)&&(ge=" "+d(q)),le.length===0&&(!Ee||q.length==0))return ae[0]+ge+ae[1];if(te<0)return P(q)?W.stylize(RegExp.prototype.toString.call(q),"regexp"):W.stylize("[Object]","special");W.seen.push(q);var Q;return Ee?Q=v(W,q,te,se,le):Q=le.map(function(Z){return p(W,q,te,se,Z,Ee)}),W.seen.pop(),b(Q,ge,ae)}function y(W,q){if(M(q))return W.stylize("undefined","undefined");if(I(q)){var te="'"+JSON.stringify(q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(te,"string")}if(C(q))return W.stylize(""+q,"number");if(E(q))return W.stylize(""+q,"boolean");if(D(q))return W.stylize("null","null")}function d(W){return"["+Error.prototype.toString.call(W)+"]"}function v(W,q,te,K,J){for(var le=[],se=0,_e=q.length;se<_e;++se)ie(q,String(se))?le.push(p(W,q,te,K,String(se),!0)):le.push("");return J.forEach(function(ge){ge.match(/^\d+$/)||le.push(p(W,q,te,K,ge,!0))}),le}function p(W,q,te,K,J,le){var se,_e,ge;if(ge=Object.getOwnPropertyDescriptor(q,J)||{value:q[J]},ge.get?ge.set?_e=W.stylize("[Getter/Setter]","special"):_e=W.stylize("[Getter]","special"):ge.set&&(_e=W.stylize("[Setter]","special")),ie(K,J)||(se="["+J+"]"),_e||(W.seen.indexOf(ge.value)<0?(D(te)?_e=g(W,ge.value,null):_e=g(W,ge.value,te-1),_e.indexOf(`
`)>-1&&(le?_e=_e.split(`
`).map(function(Ee){return"  "+Ee}).join(`
`).substr(2):_e=`
`+_e.split(`
`).map(function(Ee){return"   "+Ee}).join(`
`))):_e=W.stylize("[Circular]","special")),M(se)){if(le&&J.match(/^\d+$/))return _e;se=JSON.stringify(""+J),se.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(se=se.substr(1,se.length-2),se=W.stylize(se,"name")):(se=se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),se=W.stylize(se,"string"))}return se+": "+_e}function b(W,q,te){var K=0,J=W.reduce(function(le,se){return K++,se.indexOf(`
`)>=0&&K++,le+se.replace(/\u001b\[\d\d?m/g,"").length+1},0);return J>60?te[0]+(q===""?"":q+`
 `)+" "+W.join(`,
  `)+" "+te[1]:te[0]+q+" "+W.join(", ")+" "+te[1]}function w(W){return Array.isArray(W)}s.isArray=w;function E(W){return typeof W=="boolean"}s.isBoolean=E;function D(W){return W===null}s.isNull=D;function S(W){return W==null}s.isNullOrUndefined=S;function C(W){return typeof W=="number"}s.isNumber=C;function I(W){return typeof W=="string"}s.isString=I;function T(W){return typeof W=="symbol"}s.isSymbol=T;function M(W){return W===void 0}s.isUndefined=M;function P(W){return N(W)&&j(W)==="[object RegExp]"}s.isRegExp=P;function N(W){return typeof W=="object"&&W!==null}s.isObject=N;function G(W){return N(W)&&j(W)==="[object Date]"}s.isDate=G;function V(W){return N(W)&&(j(W)==="[object Error]"||W instanceof Error)}s.isError=V;function H(W){return typeof W=="function"}s.isFunction=H;function R(W){return W===null||typeof W=="boolean"||typeof W=="number"||typeof W=="string"||typeof W=="symbol"||typeof W>"u"}s.isPrimitive=R,s.isBuffer=n("./support/isBuffer");function j(W){return Object.prototype.toString.call(W)}function Y(W){return W<10?"0"+W.toString(10):W.toString(10)}var ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function re(){var W=new Date,q=[Y(W.getHours()),Y(W.getMinutes()),Y(W.getSeconds())].join(":");return[W.getDate(),ne[W.getMonth()],q].join(" ")}s.log=function(){console.log("%s - %s",re(),s.format.apply(s,arguments))},s.inherits=n("inherits"),s._extend=function(W,q){if(!q||!N(q))return W;for(var te=Object.keys(q),K=te.length;K--;)W[te[K]]=q[te[K]];return W};function ie(W,q){return Object.prototype.hasOwnProperty.call(W,q)}}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(n,a,s){"use strict";s.byteLength=o,s.toByteArray=g,s.fromByteArray=v;for(var u=[],c=[],m=typeof Uint8Array<"u"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,h=_.length;f<h;++f)u[f]=_[f],c[_.charCodeAt(f)]=f;c[45]=62,c[95]=63;function l(p){var b=p.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=p.indexOf("=");w===-1&&(w=b);var E=w===b?0:4-w%4;return[w,E]}function o(p){var b=l(p),w=b[0],E=b[1];return(w+E)*3/4-E}function i(p,b,w){return(b+w)*3/4-w}function g(p){var b,w=l(p),E=w[0],D=w[1],S=new m(i(p,E,D)),C=0,I=D>0?E-4:E,T;for(T=0;T<I;T+=4)b=c[p.charCodeAt(T)]<<18|c[p.charCodeAt(T+1)]<<12|c[p.charCodeAt(T+2)]<<6|c[p.charCodeAt(T+3)],S[C++]=b>>16&255,S[C++]=b>>8&255,S[C++]=b&255;return D===2&&(b=c[p.charCodeAt(T)]<<2|c[p.charCodeAt(T+1)]>>4,S[C++]=b&255),D===1&&(b=c[p.charCodeAt(T)]<<10|c[p.charCodeAt(T+1)]<<4|c[p.charCodeAt(T+2)]>>2,S[C++]=b>>8&255,S[C++]=b&255),S}function y(p){return u[p>>18&63]+u[p>>12&63]+u[p>>6&63]+u[p&63]}function d(p,b,w){for(var E,D=[],S=b;S<w;S+=3)E=(p[S]<<16&16711680)+(p[S+1]<<8&65280)+(p[S+2]&255),D.push(y(E));return D.join("")}function v(p){for(var b,w=p.length,E=w%3,D=[],S=16383,C=0,I=w-E;C<I;C+=S)D.push(d(p,C,C+S>I?I:C+S));return E===1?(b=p[w-1],D.push(u[b>>2]+u[b<<4&63]+"==")):E===2&&(b=(p[w-2]<<8)+p[w-1],D.push(u[b>>10]+u[b>>4&63]+u[b<<2&63]+"=")),D.join("")}},{}],30:[function(n,a,s){var u=n("./lib/encoder"),c=n("./lib/decoder");a.exports={encode:u,decode:c}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(n,a,s){(function(u){function c(m,_){if(this.pos=0,this.buffer=m,this.is_with_alpha=!!_,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}c.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var m=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(m);for(var _=0;_<m;_++){var f=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++),l=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.palette[_]={red:l,green:h,blue:f,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},c.prototype.parseRGBA=function(){var m="bit"+this.bitPP,_=this.width*this.height*4;this.data=new u(_),this[m]()},c.prototype.bit1=function(){for(var m=Math.ceil(this.width/8),_=m%4,f=this.height>=0?this.height-1:-this.height,f=this.height-1;f>=0;f--){for(var h=this.bottom_up?f:this.height-1-f,l=0;l<m;l++)for(var o=this.buffer.readUInt8(this.pos++),i=h*this.width*4+l*8*4,g=0;g<8&&l*8+g<this.width;g++){var y=this.palette[o>>7-g&1];this.data[i+g*4]=0,this.data[i+g*4+1]=y.blue,this.data[i+g*4+2]=y.green,this.data[i+g*4+3]=y.red}_!=0&&(this.pos+=4-_)}},c.prototype.bit4=function(){if(this.compress==2){let S=function(C){var I=this.palette[C];this.data[m]=0,this.data[m+1]=I.blue,this.data[m+2]=I.green,this.data[m+3]=I.red,m+=4};var D=S;this.data.fill(255);for(var m=0,_=this.bottom_up?this.height-1:0,f=!1;m<this.data.length;){var h=this.buffer.readUInt8(this.pos++),l=this.buffer.readUInt8(this.pos++);if(h==0)if(l==0){this.bottom_up?_--:_++,m=_*this.width*4,f=!1;continue}else{if(l==1)break;if(l==2){var o=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);this.bottom_up?_-=i:_+=i,m+=i*this.width*4+o*4}else{for(var g=this.buffer.readUInt8(this.pos++),y=0;y<l;y++)f?S.call(this,g&15):S.call(this,(g&240)>>4),y&1&&y+1<l&&(g=this.buffer.readUInt8(this.pos++)),f=!f;(l+1>>1&1)==1&&this.pos++}}else for(var y=0;y<h;y++)f?S.call(this,l&15):S.call(this,(l&240)>>4),f=!f}}else for(var d=Math.ceil(this.width/2),v=d%4,i=this.height-1;i>=0;i--){for(var p=this.bottom_up?i:this.height-1-i,o=0;o<d;o++){var l=this.buffer.readUInt8(this.pos++),m=p*this.width*4+o*2*4,b=l>>4,w=l&15,E=this.palette[b];if(this.data[m]=0,this.data[m+1]=E.blue,this.data[m+2]=E.green,this.data[m+3]=E.red,o*2+1>=this.width)break;E=this.palette[w],this.data[m+4]=0,this.data[m+4+1]=E.blue,this.data[m+4+2]=E.green,this.data[m+4+3]=E.red}v!=0&&(this.pos+=4-v)}},c.prototype.bit8=function(){if(this.compress==1){let b=function(w){var E=this.palette[w];this.data[m]=0,this.data[m+1]=E.blue,this.data[m+2]=E.green,this.data[m+3]=E.red,m+=4};var p=b;this.data.fill(255);for(var m=0,_=this.bottom_up?this.height-1:0;m<this.data.length;){var f=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++);if(f==0)if(h==0){this.bottom_up?_--:_++,m=_*this.width*4;continue}else{if(h==1)break;if(h==2){var l=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.bottom_up?_-=o:_+=o,m+=o*this.width*4+l*4}else{for(var i=0;i<h;i++){var g=this.buffer.readUInt8(this.pos++);b.call(this,g)}h&!0&&this.pos++}}else for(var i=0;i<f;i++)b.call(this,h)}}else for(var y=this.width%4,o=this.height-1;o>=0;o--){for(var d=this.bottom_up?o:this.height-1-o,l=0;l<this.width;l++){var h=this.buffer.readUInt8(this.pos++),m=d*this.width*4+l*4;if(h<this.palette.length){var v=this.palette[h];this.data[m]=0,this.data[m+1]=v.blue,this.data[m+2]=v.green,this.data[m+3]=v.red}else this.data[m]=0,this.data[m+1]=255,this.data[m+2]=255,this.data[m+3]=255}y!=0&&(this.pos+=4-y)}},c.prototype.bit15=function(){for(var m=this.width%3,_=parseInt("11111",2),f=_,h=this.height-1;h>=0;h--){for(var l=this.bottom_up?h:this.height-1-h,o=0;o<this.width;o++){var i=this.buffer.readUInt16LE(this.pos);this.pos+=2;var g=(i&f)/f*255|0,y=(i>>5&f)/f*255|0,d=(i>>10&f)/f*255|0,v=i>>15?255:0,p=l*this.width*4+o*4;this.data[p]=v,this.data[p+1]=g,this.data[p+2]=y,this.data[p+3]=d}this.pos+=m}},c.prototype.bit16=function(){var m=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var _=[0,0,0],f=0;f<16;f++)this.maskRed>>f&1&&_[0]++,this.maskGreen>>f&1&&_[1]++,this.maskBlue>>f&1&&_[2]++;_[1]+=_[0],_[2]+=_[1],_[0]=8-_[0],_[1]-=8,_[2]-=8;for(var h=this.height-1;h>=0;h--){for(var l=this.bottom_up?h:this.height-1-h,o=0;o<this.width;o++){var i=this.buffer.readUInt16LE(this.pos);this.pos+=2;var g=(i&this.maskBlue)<<_[0],y=(i&this.maskGreen)>>_[1],d=(i&this.maskRed)>>_[2],v=l*this.width*4+o*4;this.data[v]=0,this.data[v+1]=g,this.data[v+2]=y,this.data[v+3]=d}this.pos+=m}},c.prototype.bit24=function(){for(var m=this.height-1;m>=0;m--){for(var _=this.bottom_up?m:this.height-1-m,f=0;f<this.width;f++){var h=this.buffer.readUInt8(this.pos++),l=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),i=_*this.width*4+f*4;this.data[i]=0,this.data[i+1]=h,this.data[i+2]=l,this.data[i+3]=o}this.pos+=this.width%4}},c.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var m=this.height-1;m>=0;m--)for(var _=this.bottom_up?m:this.height-1-m,f=0;f<this.width;f++){var h=this.buffer.readUInt8(this.pos++),l=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),g=_*this.width*4+f*4;this.data[g]=h,this.data[g+1]=l,this.data[g+2]=o,this.data[g+3]=i}}else for(var m=this.height-1;m>=0;m--)for(var _=this.bottom_up?m:this.height-1-m,f=0;f<this.width;f++){var l=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++),g=_*this.width*4+f*4;this.data[g]=h,this.data[g+1]=l,this.data[g+2]=o,this.data[g+3]=i}},c.prototype.getData=function(){return this.data},a.exports=function(m){var _=new c(m);return _}}).call(this,n("buffer").Buffer)},{buffer:48}],32:[function(n,a,s){(function(u){function c(m){this.buffer=m.data,this.width=m.width,this.height=m.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}c.prototype.encode=function(){var m=new u(this.offset+this.rgbSize);this.pos=0,m.write(this.flag,this.pos,2),this.pos+=2,m.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,m.writeUInt32LE(this.reserved,this.pos),this.pos+=4,m.writeUInt32LE(this.offset,this.pos),this.pos+=4,m.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,m.writeUInt32LE(this.width,this.pos),this.pos+=4,m.writeInt32LE(-this.height,this.pos),this.pos+=4,m.writeUInt16LE(this.planes,this.pos),this.pos+=2,m.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,m.writeUInt32LE(this.compress,this.pos),this.pos+=4,m.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,m.writeUInt32LE(this.hr,this.pos),this.pos+=4,m.writeUInt32LE(this.vr,this.pos),this.pos+=4,m.writeUInt32LE(this.colors,this.pos),this.pos+=4,m.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var _=0,f=3*this.width+this.extraBytes,h=0;h<this.height;h++){for(var l=0;l<this.width;l++){var o=this.pos+h*f+l*3;_++,m[o]=this.buffer[_++],m[o+1]=this.buffer[_++],m[o+2]=this.buffer[_++]}if(this.extraBytes>0){var i=this.pos+h*f+this.width*3;m.fill(0,i,i+this.extraBytes)}}return m},a.exports=function(m,_){typeof _>"u"&&(_=100);var f=new c(m),h=f.encode();return{data:h,width:m.width,height:m.height}}}).call(this,n("buffer").Buffer)},{buffer:48}],33:[function(n,a,s){},{}],34:[function(n,a,s){(function(u,c){"use strict";var m=n("assert"),_=n("pako/lib/zlib/zstream"),f=n("pako/lib/zlib/deflate.js"),h=n("pako/lib/zlib/inflate.js"),l=n("pako/lib/zlib/constants");for(var o in l)s[o]=l[o];s.NONE=0,s.DEFLATE=1,s.INFLATE=2,s.GZIP=3,s.GUNZIP=4,s.DEFLATERAW=5,s.INFLATERAW=6,s.UNZIP=7;var i=31,g=139;function y(d){if(typeof d!="number"||d<s.DEFLATE||d>s.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=d,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}y.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,m(this.init_done,"close before init"),m(this.mode<=s.UNZIP),this.mode===s.DEFLATE||this.mode===s.GZIP||this.mode===s.DEFLATERAW?f.deflateEnd(this.strm):(this.mode===s.INFLATE||this.mode===s.GUNZIP||this.mode===s.INFLATERAW||this.mode===s.UNZIP)&&h.inflateEnd(this.strm),this.mode=s.NONE,this.dictionary=null},y.prototype.write=function(d,v,p,b,w,E,D){return this._write(!0,d,v,p,b,w,E,D)},y.prototype.writeSync=function(d,v,p,b,w,E,D){return this._write(!1,d,v,p,b,w,E,D)},y.prototype._write=function(d,v,p,b,w,E,D,S){if(m.equal(arguments.length,8),m(this.init_done,"write before init"),m(this.mode!==s.NONE,"already finalized"),m.equal(!1,this.write_in_progress,"write already in progress"),m.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,m.equal(!1,v===void 0,"must provide flush value"),this.write_in_progress=!0,v!==s.Z_NO_FLUSH&&v!==s.Z_PARTIAL_FLUSH&&v!==s.Z_SYNC_FLUSH&&v!==s.Z_FULL_FLUSH&&v!==s.Z_FINISH&&v!==s.Z_BLOCK)throw new Error("Invalid flush value");if(p==null&&(p=c.alloc(0),w=0,b=0),this.strm.avail_in=w,this.strm.input=p,this.strm.next_in=b,this.strm.avail_out=S,this.strm.output=E,this.strm.next_out=D,this.flush=v,!d)return this._process(),this._checkError()?this._afterSync():void 0;var C=this;return u.nextTick(function(){C._process(),C._after()}),this},y.prototype._afterSync=function(){var d=this.strm.avail_out,v=this.strm.avail_in;return this.write_in_progress=!1,[v,d]},y.prototype._process=function(){var d=null;switch(this.mode){case s.DEFLATE:case s.GZIP:case s.DEFLATERAW:this.err=f.deflate(this.strm,this.flush);break;case s.UNZIP:switch(this.strm.avail_in>0&&(d=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(d===null)break;if(this.strm.input[d]===i){if(this.gzip_id_bytes_read=1,d++,this.strm.avail_in===1)break}else{this.mode=s.INFLATE;break}case 1:if(d===null)break;this.strm.input[d]===g?(this.gzip_id_bytes_read=2,this.mode=s.GUNZIP):this.mode=s.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case s.INFLATE:case s.GUNZIP:case s.INFLATERAW:for(this.err=h.inflate(this.strm,this.flush),this.err===s.Z_NEED_DICT&&this.dictionary&&(this.err=h.inflateSetDictionary(this.strm,this.dictionary),this.err===s.Z_OK?this.err=h.inflate(this.strm,this.flush):this.err===s.Z_DATA_ERROR&&(this.err=s.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===s.GUNZIP&&this.err===s.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=h.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},y.prototype._checkError=function(){switch(this.err){case s.Z_OK:case s.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===s.Z_FINISH)return this._error("unexpected end of file"),!1;break;case s.Z_STREAM_END:break;case s.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},y.prototype._after=function(){if(this._checkError()){var d=this.strm.avail_out,v=this.strm.avail_in;this.write_in_progress=!1,this.callback(v,d),this.pending_close&&this.close()}},y.prototype._error=function(d){this.strm.msg&&(d=this.strm.msg),this.onerror(d,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},y.prototype.init=function(d,v,p,b,w){m(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),m(d>=8&&d<=15,"invalid windowBits"),m(v>=-1&&v<=9,"invalid compression level"),m(p>=1&&p<=9,"invalid memlevel"),m(b===s.Z_FILTERED||b===s.Z_HUFFMAN_ONLY||b===s.Z_RLE||b===s.Z_FIXED||b===s.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(v,d,p,b,w),this._setDictionary()},y.prototype.params=function(){throw new Error("deflateParams Not supported")},y.prototype.reset=function(){this._reset(),this._setDictionary()},y.prototype._init=function(d,v,p,b,w){switch(this.level=d,this.windowBits=v,this.memLevel=p,this.strategy=b,this.flush=s.Z_NO_FLUSH,this.err=s.Z_OK,(this.mode===s.GZIP||this.mode===s.GUNZIP)&&(this.windowBits+=16),this.mode===s.UNZIP&&(this.windowBits+=32),(this.mode===s.DEFLATERAW||this.mode===s.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new _,this.mode){case s.DEFLATE:case s.GZIP:case s.DEFLATERAW:this.err=f.deflateInit2(this.strm,this.level,s.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case s.INFLATE:case s.GUNZIP:case s.INFLATERAW:case s.UNZIP:this.err=h.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==s.Z_OK&&this._error("Init error"),this.dictionary=w,this.write_in_progress=!1,this.init_done=!0},y.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=s.Z_OK,this.mode){case s.DEFLATE:case s.DEFLATERAW:this.err=f.deflateSetDictionary(this.strm,this.dictionary);break;default:break}this.err!==s.Z_OK&&this._error("Failed to set dictionary")}},y.prototype._reset=function(){switch(this.err=s.Z_OK,this.mode){case s.DEFLATE:case s.DEFLATERAW:case s.GZIP:this.err=f.deflateReset(this.strm);break;case s.INFLATE:case s.INFLATERAW:case s.GUNZIP:this.err=h.inflateReset(this.strm);break;default:break}this.err!==s.Z_OK&&this._error("Failed to reset stream")},s.Zlib=y}).call(this,n("_process"),n("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(n,a,s){(function(u){"use strict";var c=n("buffer").Buffer,m=n("stream").Transform,_=n("./binding"),f=n("util"),h=n("assert").ok,l=n("buffer").kMaxLength,o="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";_.Z_MIN_WINDOWBITS=8,_.Z_MAX_WINDOWBITS=15,_.Z_DEFAULT_WINDOWBITS=15,_.Z_MIN_CHUNK=64,_.Z_MAX_CHUNK=1/0,_.Z_DEFAULT_CHUNK=16*1024,_.Z_MIN_MEMLEVEL=1,_.Z_MAX_MEMLEVEL=9,_.Z_DEFAULT_MEMLEVEL=8,_.Z_MIN_LEVEL=-1,_.Z_MAX_LEVEL=9,_.Z_DEFAULT_LEVEL=_.Z_DEFAULT_COMPRESSION;for(var i=Object.keys(_),g=0;g<i.length;g++){var y=i[g];y.match(/^Z/)&&Object.defineProperty(s,y,{enumerable:!0,value:_[y],writable:!1})}for(var d={Z_OK:_.Z_OK,Z_STREAM_END:_.Z_STREAM_END,Z_NEED_DICT:_.Z_NEED_DICT,Z_ERRNO:_.Z_ERRNO,Z_STREAM_ERROR:_.Z_STREAM_ERROR,Z_DATA_ERROR:_.Z_DATA_ERROR,Z_MEM_ERROR:_.Z_MEM_ERROR,Z_BUF_ERROR:_.Z_BUF_ERROR,Z_VERSION_ERROR:_.Z_VERSION_ERROR},v=Object.keys(d),p=0;p<v.length;p++){var b=v[p];d[d[b]]=b}Object.defineProperty(s,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),s.Deflate=D,s.Inflate=S,s.Gzip=C,s.Gunzip=I,s.DeflateRaw=T,s.InflateRaw=M,s.Unzip=P,s.createDeflate=function(R){return new D(R)},s.createInflate=function(R){return new S(R)},s.createDeflateRaw=function(R){return new T(R)},s.createInflateRaw=function(R){return new M(R)},s.createGzip=function(R){return new C(R)},s.createGunzip=function(R){return new I(R)},s.createUnzip=function(R){return new P(R)},s.deflate=function(R,j,Y){return typeof j=="function"&&(Y=j,j={}),w(new D(j),R,Y)},s.deflateSync=function(R,j){return E(new D(j),R)},s.gzip=function(R,j,Y){return typeof j=="function"&&(Y=j,j={}),w(new C(j),R,Y)},s.gzipSync=function(R,j){return E(new C(j),R)},s.deflateRaw=function(R,j,Y){return typeof j=="function"&&(Y=j,j={}),w(new T(j),R,Y)},s.deflateRawSync=function(R,j){return E(new T(j),R)},s.unzip=function(R,j,Y){return typeof j=="function"&&(Y=j,j={}),w(new P(j),R,Y)},s.unzipSync=function(R,j){return E(new P(j),R)},s.inflate=function(R,j,Y){return typeof j=="function"&&(Y=j,j={}),w(new S(j),R,Y)},s.inflateSync=function(R,j){return E(new S(j),R)},s.gunzip=function(R,j,Y){return typeof j=="function"&&(Y=j,j={}),w(new I(j),R,Y)},s.gunzipSync=function(R,j){return E(new I(j),R)},s.inflateRaw=function(R,j,Y){return typeof j=="function"&&(Y=j,j={}),w(new M(j),R,Y)},s.inflateRawSync=function(R,j){return E(new M(j),R)};function w(R,j,Y){var ne=[],re=0;R.on("error",W),R.on("end",q),R.end(j),ie();function ie(){for(var te;(te=R.read())!==null;)ne.push(te),re+=te.length;R.once("readable",ie)}function W(te){R.removeListener("end",q),R.removeListener("readable",ie),Y(te)}function q(){var te,K=null;re>=l?K=new RangeError(o):te=c.concat(ne,re),ne=[],R.close(),Y(K,te)}}function E(R,j){if(typeof j=="string"&&(j=c.from(j)),!c.isBuffer(j))throw new TypeError("Not a string or buffer");var Y=R._finishFlushFlag;return R._processChunk(j,Y)}function D(R){if(!(this instanceof D))return new D(R);G.call(this,R,_.DEFLATE)}function S(R){if(!(this instanceof S))return new S(R);G.call(this,R,_.INFLATE)}function C(R){if(!(this instanceof C))return new C(R);G.call(this,R,_.GZIP)}function I(R){if(!(this instanceof I))return new I(R);G.call(this,R,_.GUNZIP)}function T(R){if(!(this instanceof T))return new T(R);G.call(this,R,_.DEFLATERAW)}function M(R){if(!(this instanceof M))return new M(R);G.call(this,R,_.INFLATERAW)}function P(R){if(!(this instanceof P))return new P(R);G.call(this,R,_.UNZIP)}function N(R){return R===_.Z_NO_FLUSH||R===_.Z_PARTIAL_FLUSH||R===_.Z_SYNC_FLUSH||R===_.Z_FULL_FLUSH||R===_.Z_FINISH||R===_.Z_BLOCK}function G(R,j){var Y=this;if(this._opts=R=R||{},this._chunkSize=R.chunkSize||s.Z_DEFAULT_CHUNK,m.call(this,R),R.flush&&!N(R.flush))throw new Error("Invalid flush flag: "+R.flush);if(R.finishFlush&&!N(R.finishFlush))throw new Error("Invalid flush flag: "+R.finishFlush);if(this._flushFlag=R.flush||_.Z_NO_FLUSH,this._finishFlushFlag=typeof R.finishFlush<"u"?R.finishFlush:_.Z_FINISH,R.chunkSize&&(R.chunkSize<s.Z_MIN_CHUNK||R.chunkSize>s.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+R.chunkSize);if(R.windowBits&&(R.windowBits<s.Z_MIN_WINDOWBITS||R.windowBits>s.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+R.windowBits);if(R.level&&(R.level<s.Z_MIN_LEVEL||R.level>s.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+R.level);if(R.memLevel&&(R.memLevel<s.Z_MIN_MEMLEVEL||R.memLevel>s.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+R.memLevel);if(R.strategy&&R.strategy!=s.Z_FILTERED&&R.strategy!=s.Z_HUFFMAN_ONLY&&R.strategy!=s.Z_RLE&&R.strategy!=s.Z_FIXED&&R.strategy!=s.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+R.strategy);if(R.dictionary&&!c.isBuffer(R.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new _.Zlib(j);var ne=this;this._hadError=!1,this._handle.onerror=function(W,q){V(ne),ne._hadError=!0;var te=new Error(W);te.errno=q,te.code=s.codes[q],ne.emit("error",te)};var re=s.Z_DEFAULT_COMPRESSION;typeof R.level=="number"&&(re=R.level);var ie=s.Z_DEFAULT_STRATEGY;typeof R.strategy=="number"&&(ie=R.strategy),this._handle.init(R.windowBits||s.Z_DEFAULT_WINDOWBITS,re,R.memLevel||s.Z_DEFAULT_MEMLEVEL,ie,R.dictionary),this._buffer=c.allocUnsafe(this._chunkSize),this._offset=0,this._level=re,this._strategy=ie,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Y._handle},configurable:!0,enumerable:!0})}f.inherits(G,m),G.prototype.params=function(R,j,Y){if(R<s.Z_MIN_LEVEL||R>s.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+R);if(j!=s.Z_FILTERED&&j!=s.Z_HUFFMAN_ONLY&&j!=s.Z_RLE&&j!=s.Z_FIXED&&j!=s.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+j);if(this._level!==R||this._strategy!==j){var ne=this;this.flush(_.Z_SYNC_FLUSH,function(){h(ne._handle,"zlib binding closed"),ne._handle.params(R,j),ne._hadError||(ne._level=R,ne._strategy=j,Y&&Y())})}else u.nextTick(Y)},G.prototype.reset=function(){return h(this._handle,"zlib binding closed"),this._handle.reset()},G.prototype._flush=function(R){this._transform(c.alloc(0),"",R)},G.prototype.flush=function(R,j){var Y=this,ne=this._writableState;(typeof R=="function"||R===void 0&&!j)&&(j=R,R=_.Z_FULL_FLUSH),ne.ended?j&&u.nextTick(j):ne.ending?j&&this.once("end",j):ne.needDrain?j&&this.once("drain",function(){return Y.flush(R,j)}):(this._flushFlag=R,this.write(c.alloc(0),"",j))},G.prototype.close=function(R){V(this,R),u.nextTick(H,this)};function V(R,j){j&&u.nextTick(j),R._handle&&(R._handle.close(),R._handle=null)}function H(R){R.emit("close")}G.prototype._transform=function(R,j,Y){var ne,re=this._writableState,ie=re.ending||re.ended,W=ie&&(!R||re.length===R.length);if(R!==null&&!c.isBuffer(R))return Y(new Error("invalid input"));if(!this._handle)return Y(new Error("zlib binding closed"));W?ne=this._finishFlushFlag:(ne=this._flushFlag,R.length>=re.length&&(this._flushFlag=this._opts.flush||_.Z_NO_FLUSH)),this._processChunk(R,ne,Y)},G.prototype._processChunk=function(R,j,Y){var ne=R&&R.length,re=this._chunkSize-this._offset,ie=0,W=this,q=typeof Y=="function";if(!q){var te=[],K=0,J;this.on("error",function(Ee){J=Ee}),h(this._handle,"zlib binding closed");do var le=this._handle.writeSync(j,R,ie,ne,this._buffer,this._offset,re);while(!this._hadError&&ge(le[0],le[1]));if(this._hadError)throw J;if(K>=l)throw V(this),new RangeError(o);var se=c.concat(te,K);return V(this),se}h(this._handle,"zlib binding closed");var _e=this._handle.write(j,R,ie,ne,this._buffer,this._offset,re);_e.buffer=R,_e.callback=ge;function ge(Ee,ae){if(this&&(this.buffer=null,this.callback=null),!W._hadError){var oe=re-ae;if(h(oe>=0,"have should not go down"),oe>0){var Q=W._buffer.slice(W._offset,W._offset+oe);W._offset+=oe,q?W.push(Q):(te.push(Q),K+=Q.length)}if((ae===0||W._offset>=W._chunkSize)&&(re=W._chunkSize,W._offset=0,W._buffer=c.allocUnsafe(W._chunkSize)),ae===0){if(ie+=ne-Ee,ne=Ee,!q)return!0;var Z=W._handle.write(j,R,ie,ne,W._buffer,W._offset,W._chunkSize);Z.callback=ge,Z.buffer=R;return}if(!q)return!1;Y()}}},f.inherits(D,G),f.inherits(S,G),f.inherits(C,G),f.inherits(I,G),f.inherits(T,G),f.inherits(M,G),f.inherits(P,G)}).call(this,n("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(n,a,s){"use strict";var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(f,h){return Object.prototype.hasOwnProperty.call(f,h)}s.assign=function(f){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var l=h.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var o in l)c(l,o)&&(f[o]=l[o])}}return f},s.shrinkBuf=function(f,h){return f.length===h?f:f.subarray?f.subarray(0,h):(f.length=h,f)};var m={arraySet:function(f,h,l,o,i){if(h.subarray&&f.subarray){f.set(h.subarray(l,l+o),i);return}for(var g=0;g<o;g++)f[i+g]=h[l+g]},flattenChunks:function(f){var h,l,o,i,g,y;for(o=0,h=0,l=f.length;h<l;h++)o+=f[h].length;for(y=new Uint8Array(o),i=0,h=0,l=f.length;h<l;h++)g=f[h],y.set(g,i),i+=g.length;return y}},_={arraySet:function(f,h,l,o,i){for(var g=0;g<o;g++)f[i+g]=h[l+g]},flattenChunks:function(f){return[].concat.apply([],f)}};s.setTyped=function(f){f?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,m)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,_))},s.setTyped(u)},{}],37:[function(n,a,s){"use strict";function u(c,m,_,f){for(var h=c&65535|0,l=c>>>16&65535|0,o=0;_!==0;){o=_>2e3?2e3:_,_-=o;do h=h+m[f++]|0,l=l+h|0;while(--o);h%=65521,l%=65521}return h|l<<16|0}a.exports=u},{}],38:[function(n,a,s){"use strict";a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(n,a,s){"use strict";function u(){for(var _,f=[],h=0;h<256;h++){_=h;for(var l=0;l<8;l++)_=_&1?3988292384^_>>>1:_>>>1;f[h]=_}return f}var c=u();function m(_,f,h,l){var o=c,i=l+h;_^=-1;for(var g=l;g<i;g++)_=_>>>8^o[(_^f[g])&255];return _^-1}a.exports=m},{}],40:[function(n,a,s){"use strict";var u=n("../utils/common"),c=n("./trees"),m=n("./adler32"),_=n("./crc32"),f=n("./messages"),h=0,l=1,o=3,i=4,g=5,y=0,d=1,v=-2,p=-3,b=-5,w=-1,E=1,D=2,S=3,C=4,I=0,T=2,M=8,P=9,N=15,G=8,V=29,H=256,R=H+1+V,j=30,Y=19,ne=2*R+1,re=15,ie=3,W=258,q=W+ie+1,te=32,K=42,J=69,le=73,se=91,_e=103,ge=113,Ee=666,ae=1,oe=2,Q=3,Z=4,z=3;function $(x,fe){return x.msg=f[fe],fe}function O(x){return(x<<1)-(x>4?9:0)}function B(x){for(var fe=x.length;--fe>=0;)x[fe]=0}function U(x){var fe=x.state,ye=fe.pending;ye>x.avail_out&&(ye=x.avail_out),ye!==0&&(u.arraySet(x.output,fe.pending_buf,fe.pending_out,ye,x.next_out),x.next_out+=ye,fe.pending_out+=ye,x.total_out+=ye,x.avail_out-=ye,fe.pending-=ye,fe.pending===0&&(fe.pending_out=0))}function A(x,fe){c._tr_flush_block(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,fe),x.block_start=x.strstart,U(x.strm)}function k(x,fe){x.pending_buf[x.pending++]=fe}function ee(x,fe){x.pending_buf[x.pending++]=fe>>>8&255,x.pending_buf[x.pending++]=fe&255}function he(x,fe,ye,F){var ue=x.avail_in;return ue>F&&(ue=F),ue===0?0:(x.avail_in-=ue,u.arraySet(fe,x.input,x.next_in,ue,ye),x.state.wrap===1?x.adler=m(x.adler,fe,ue,ye):x.state.wrap===2&&(x.adler=_(x.adler,fe,ue,ye)),x.next_in+=ue,x.total_in+=ue,ue)}function we(x,fe){var ye=x.max_chain_length,F=x.strstart,ue,be,Ie=x.prev_length,Se=x.nice_match,Pe=x.strstart>x.w_size-q?x.strstart-(x.w_size-q):0,Fe=x.window,gt=x.w_mask,it=x.prev,Xe=x.strstart+W,lt=Fe[F+Ie-1],pt=Fe[F+Ie];x.prev_length>=x.good_match&&(ye>>=2),Se>x.lookahead&&(Se=x.lookahead);do if(ue=fe,!(Fe[ue+Ie]!==pt||Fe[ue+Ie-1]!==lt||Fe[ue]!==Fe[F]||Fe[++ue]!==Fe[F+1])){F+=2,ue++;do;while(Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&F<Xe);if(be=W-(Xe-F),F=Xe-W,be>Ie){if(x.match_start=fe,Ie=be,be>=Se)break;lt=Fe[F+Ie-1],pt=Fe[F+Ie]}}while((fe=it[fe&gt])>Pe&&--ye!==0);return Ie<=x.lookahead?Ie:x.lookahead}function pe(x){var fe=x.w_size,ye,F,ue,be,Ie;do{if(be=x.window_size-x.lookahead-x.strstart,x.strstart>=fe+(fe-q)){u.arraySet(x.window,x.window,fe,fe,0),x.match_start-=fe,x.strstart-=fe,x.block_start-=fe,F=x.hash_size,ye=F;do ue=x.head[--ye],x.head[ye]=ue>=fe?ue-fe:0;while(--F);F=fe,ye=F;do ue=x.prev[--ye],x.prev[ye]=ue>=fe?ue-fe:0;while(--F);be+=fe}if(x.strm.avail_in===0)break;if(F=he(x.strm,x.window,x.strstart+x.lookahead,be),x.lookahead+=F,x.lookahead+x.insert>=ie)for(Ie=x.strstart-x.insert,x.ins_h=x.window[Ie],x.ins_h=(x.ins_h<<x.hash_shift^x.window[Ie+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[Ie+ie-1])&x.hash_mask,x.prev[Ie&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=Ie,Ie++,x.insert--,!(x.lookahead+x.insert<ie)););}while(x.lookahead<q&&x.strm.avail_in!==0)}function Ce(x,fe){var ye=65535;for(ye>x.pending_buf_size-5&&(ye=x.pending_buf_size-5);;){if(x.lookahead<=1){if(pe(x),x.lookahead===0&&fe===h)return ae;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var F=x.block_start+ye;if((x.strstart===0||x.strstart>=F)&&(x.lookahead=x.strstart-F,x.strstart=F,A(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-q&&(A(x,!1),x.strm.avail_out===0))return ae}return x.insert=0,fe===i?(A(x,!0),x.strm.avail_out===0?Q:Z):(x.strstart>x.block_start&&(A(x,!1),x.strm.avail_out===0),ae)}function Me(x,fe){for(var ye,F;;){if(x.lookahead<q){if(pe(x),x.lookahead<q&&fe===h)return ae;if(x.lookahead===0)break}if(ye=0,x.lookahead>=ie&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+ie-1])&x.hash_mask,ye=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),ye!==0&&x.strstart-ye<=x.w_size-q&&(x.match_length=we(x,ye)),x.match_length>=ie)if(F=c._tr_tally(x,x.strstart-x.match_start,x.match_length-ie),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=ie){x.match_length--;do x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+ie-1])&x.hash_mask,ye=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!==0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else F=c._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(F&&(A(x,!1),x.strm.avail_out===0))return ae}return x.insert=x.strstart<ie-1?x.strstart:ie-1,fe===i?(A(x,!0),x.strm.avail_out===0?Q:Z):x.last_lit&&(A(x,!1),x.strm.avail_out===0)?ae:oe}function Ae(x,fe){for(var ye,F,ue;;){if(x.lookahead<q){if(pe(x),x.lookahead<q&&fe===h)return ae;if(x.lookahead===0)break}if(ye=0,x.lookahead>=ie&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+ie-1])&x.hash_mask,ye=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=ie-1,ye!==0&&x.prev_length<x.max_lazy_match&&x.strstart-ye<=x.w_size-q&&(x.match_length=we(x,ye),x.match_length<=5&&(x.strategy===E||x.match_length===ie&&x.strstart-x.match_start>4096)&&(x.match_length=ie-1)),x.prev_length>=ie&&x.match_length<=x.prev_length){ue=x.strstart+x.lookahead-ie,F=c._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-ie),x.lookahead-=x.prev_length-1,x.prev_length-=2;do++x.strstart<=ue&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+ie-1])&x.hash_mask,ye=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);while(--x.prev_length!==0);if(x.match_available=0,x.match_length=ie-1,x.strstart++,F&&(A(x,!1),x.strm.avail_out===0))return ae}else if(x.match_available){if(F=c._tr_tally(x,0,x.window[x.strstart-1]),F&&A(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return ae}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(F=c._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<ie-1?x.strstart:ie-1,fe===i?(A(x,!0),x.strm.avail_out===0?Q:Z):x.last_lit&&(A(x,!1),x.strm.avail_out===0)?ae:oe}function Oe(x,fe){for(var ye,F,ue,be,Ie=x.window;;){if(x.lookahead<=W){if(pe(x),x.lookahead<=W&&fe===h)return ae;if(x.lookahead===0)break}if(x.match_length=0,x.lookahead>=ie&&x.strstart>0&&(ue=x.strstart-1,F=Ie[ue],F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue])){be=x.strstart+W;do;while(F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&ue<be);x.match_length=W-(be-ue),x.match_length>x.lookahead&&(x.match_length=x.lookahead)}if(x.match_length>=ie?(ye=c._tr_tally(x,1,x.match_length-ie),x.lookahead-=x.match_length,x.strstart+=x.match_length,x.match_length=0):(ye=c._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++),ye&&(A(x,!1),x.strm.avail_out===0))return ae}return x.insert=0,fe===i?(A(x,!0),x.strm.avail_out===0?Q:Z):x.last_lit&&(A(x,!1),x.strm.avail_out===0)?ae:oe}function Ne(x,fe){for(var ye;;){if(x.lookahead===0&&(pe(x),x.lookahead===0)){if(fe===h)return ae;break}if(x.match_length=0,ye=c._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++,ye&&(A(x,!1),x.strm.avail_out===0))return ae}return x.insert=0,fe===i?(A(x,!0),x.strm.avail_out===0?Q:Z):x.last_lit&&(A(x,!1),x.strm.avail_out===0)?ae:oe}function ke(x,fe,ye,F,ue){this.good_length=x,this.max_lazy=fe,this.nice_length=ye,this.max_chain=F,this.func=ue}var Be;Be=[new ke(0,0,0,0,Ce),new ke(4,4,8,4,Me),new ke(4,5,16,8,Me),new ke(4,6,32,32,Me),new ke(4,4,16,16,Ae),new ke(8,16,32,32,Ae),new ke(8,16,128,128,Ae),new ke(8,32,128,256,Ae),new ke(32,128,258,1024,Ae),new ke(32,258,258,4096,Ae)];function je(x){x.window_size=2*x.w_size,B(x.head),x.max_lazy_match=Be[x.level].max_lazy,x.good_match=Be[x.level].good_length,x.nice_match=Be[x.level].nice_length,x.max_chain_length=Be[x.level].max_chain,x.strstart=0,x.block_start=0,x.lookahead=0,x.insert=0,x.match_length=x.prev_length=ie-1,x.match_available=0,x.ins_h=0}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(ne*2),this.dyn_dtree=new u.Buf16((2*j+1)*2),this.bl_tree=new u.Buf16((2*Y+1)*2),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(re+1),this.heap=new u.Buf16(2*R+1),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*R+1),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(x){var fe;return!x||!x.state?$(x,v):(x.total_in=x.total_out=0,x.data_type=T,fe=x.state,fe.pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?K:ge,x.adler=fe.wrap===2?0:1,fe.last_flush=h,c._tr_init(fe),y)}function me(x){var fe=ce(x);return fe===y&&je(x.state),fe}function De(x,fe){return!x||!x.state||x.state.wrap!==2?v:(x.state.gzhead=fe,y)}function de(x,fe,ye,F,ue,be){if(!x)return v;var Ie=1;if(fe===w&&(fe=6),F<0?(Ie=0,F=-F):F>15&&(Ie=2,F-=16),ue<1||ue>P||ye!==M||F<8||F>15||fe<0||fe>9||be<0||be>C)return $(x,v);F===8&&(F=9);var Se=new L;return x.state=Se,Se.strm=x,Se.wrap=Ie,Se.gzhead=null,Se.w_bits=F,Se.w_size=1<<Se.w_bits,Se.w_mask=Se.w_size-1,Se.hash_bits=ue+7,Se.hash_size=1<<Se.hash_bits,Se.hash_mask=Se.hash_size-1,Se.hash_shift=~~((Se.hash_bits+ie-1)/ie),Se.window=new u.Buf8(Se.w_size*2),Se.head=new u.Buf16(Se.hash_size),Se.prev=new u.Buf16(Se.w_size),Se.lit_bufsize=1<<ue+6,Se.pending_buf_size=Se.lit_bufsize*4,Se.pending_buf=new u.Buf8(Se.pending_buf_size),Se.d_buf=1*Se.lit_bufsize,Se.l_buf=3*Se.lit_bufsize,Se.level=fe,Se.strategy=be,Se.method=ye,me(x)}function ve(x,fe){return de(x,fe,M,N,G,I)}function X(x,fe){var ye,F,ue,be;if(!x||!x.state||fe>g||fe<0)return x?$(x,v):v;if(F=x.state,!x.output||!x.input&&x.avail_in!==0||F.status===Ee&&fe!==i)return $(x,x.avail_out===0?b:v);if(F.strm=x,ye=F.last_flush,F.last_flush=fe,F.status===K)if(F.wrap===2)x.adler=0,k(F,31),k(F,139),k(F,8),F.gzhead?(k(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),k(F,F.gzhead.time&255),k(F,F.gzhead.time>>8&255),k(F,F.gzhead.time>>16&255),k(F,F.gzhead.time>>24&255),k(F,F.level===9?2:F.strategy>=D||F.level<2?4:0),k(F,F.gzhead.os&255),F.gzhead.extra&&F.gzhead.extra.length&&(k(F,F.gzhead.extra.length&255),k(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(x.adler=_(x.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=J):(k(F,0),k(F,0),k(F,0),k(F,0),k(F,0),k(F,F.level===9?2:F.strategy>=D||F.level<2?4:0),k(F,z),F.status=ge);else{var Ie=M+(F.w_bits-8<<4)<<8,Se=-1;F.strategy>=D||F.level<2?Se=0:F.level<6?Se=1:F.level===6?Se=2:Se=3,Ie|=Se<<6,F.strstart!==0&&(Ie|=te),Ie+=31-Ie%31,F.status=ge,ee(F,Ie),F.strstart!==0&&(ee(F,x.adler>>>16),ee(F,x.adler&65535)),x.adler=1}if(F.status===J)if(F.gzhead.extra){for(ue=F.pending;F.gzindex<(F.gzhead.extra.length&65535)&&!(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),U(x),ue=F.pending,F.pending===F.pending_buf_size));)k(F,F.gzhead.extra[F.gzindex]&255),F.gzindex++;F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=le)}else F.status=le;if(F.status===le)if(F.gzhead.name){ue=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),U(x),ue=F.pending,F.pending===F.pending_buf_size)){be=1;break}F.gzindex<F.gzhead.name.length?be=F.gzhead.name.charCodeAt(F.gzindex++)&255:be=0,k(F,be)}while(be!==0);F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),be===0&&(F.gzindex=0,F.status=se)}else F.status=se;if(F.status===se)if(F.gzhead.comment){ue=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),U(x),ue=F.pending,F.pending===F.pending_buf_size)){be=1;break}F.gzindex<F.gzhead.comment.length?be=F.gzhead.comment.charCodeAt(F.gzindex++)&255:be=0,k(F,be)}while(be!==0);F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),be===0&&(F.status=_e)}else F.status=_e;if(F.status===_e&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&U(x),F.pending+2<=F.pending_buf_size&&(k(F,x.adler&255),k(F,x.adler>>8&255),x.adler=0,F.status=ge)):F.status=ge),F.pending!==0){if(U(x),x.avail_out===0)return F.last_flush=-1,y}else if(x.avail_in===0&&O(fe)<=O(ye)&&fe!==i)return $(x,b);if(F.status===Ee&&x.avail_in!==0)return $(x,b);if(x.avail_in!==0||F.lookahead!==0||fe!==h&&F.status!==Ee){var Pe=F.strategy===D?Ne(F,fe):F.strategy===S?Oe(F,fe):Be[F.level].func(F,fe);if((Pe===Q||Pe===Z)&&(F.status=Ee),Pe===ae||Pe===Q)return x.avail_out===0&&(F.last_flush=-1),y;if(Pe===oe&&(fe===l?c._tr_align(F):fe!==g&&(c._tr_stored_block(F,0,0,!1),fe===o&&(B(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),U(x),x.avail_out===0))return F.last_flush=-1,y}return fe!==i?y:F.wrap<=0?d:(F.wrap===2?(k(F,x.adler&255),k(F,x.adler>>8&255),k(F,x.adler>>16&255),k(F,x.adler>>24&255),k(F,x.total_in&255),k(F,x.total_in>>8&255),k(F,x.total_in>>16&255),k(F,x.total_in>>24&255)):(ee(F,x.adler>>>16),ee(F,x.adler&65535)),U(x),F.wrap>0&&(F.wrap=-F.wrap),F.pending!==0?y:d)}function xe(x){var fe;return!x||!x.state?v:(fe=x.state.status,fe!==K&&fe!==J&&fe!==le&&fe!==se&&fe!==_e&&fe!==ge&&fe!==Ee?$(x,v):(x.state=null,fe===ge?$(x,p):y))}function Te(x,fe){var ye=fe.length,F,ue,be,Ie,Se,Pe,Fe,gt;if(!x||!x.state||(F=x.state,Ie=F.wrap,Ie===2||Ie===1&&F.status!==K||F.lookahead))return v;for(Ie===1&&(x.adler=m(x.adler,fe,ye,0)),F.wrap=0,ye>=F.w_size&&(Ie===0&&(B(F.head),F.strstart=0,F.block_start=0,F.insert=0),gt=new u.Buf8(F.w_size),u.arraySet(gt,fe,ye-F.w_size,F.w_size,0),fe=gt,ye=F.w_size),Se=x.avail_in,Pe=x.next_in,Fe=x.input,x.avail_in=ye,x.next_in=0,x.input=fe,pe(F);F.lookahead>=ie;){ue=F.strstart,be=F.lookahead-(ie-1);do F.ins_h=(F.ins_h<<F.hash_shift^F.window[ue+ie-1])&F.hash_mask,F.prev[ue&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=ue,ue++;while(--be);F.strstart=ue,F.lookahead=ie-1,pe(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=ie-1,F.match_available=0,x.next_in=Pe,x.input=Fe,x.avail_in=Se,F.wrap=Ie,y}s.deflateInit=ve,s.deflateInit2=de,s.deflateReset=me,s.deflateResetKeep=ce,s.deflateSetHeader=De,s.deflate=X,s.deflateEnd=xe,s.deflateSetDictionary=Te,s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(n,a,s){"use strict";var u=30,c=12;a.exports=function(_,f){var h,l,o,i,g,y,d,v,p,b,w,E,D,S,C,I,T,M,P,N,G,V,H,R,j;h=_.state,l=_.next_in,R=_.input,o=l+(_.avail_in-5),i=_.next_out,j=_.output,g=i-(f-_.avail_out),y=i+(_.avail_out-257),d=h.dmax,v=h.wsize,p=h.whave,b=h.wnext,w=h.window,E=h.hold,D=h.bits,S=h.lencode,C=h.distcode,I=(1<<h.lenbits)-1,T=(1<<h.distbits)-1;e:do{D<15&&(E+=R[l++]<<D,D+=8,E+=R[l++]<<D,D+=8),M=S[E&I];t:for(;;){if(P=M>>>24,E>>>=P,D-=P,P=M>>>16&255,P===0)j[i++]=M&65535;else if(P&16){N=M&65535,P&=15,P&&(D<P&&(E+=R[l++]<<D,D+=8),N+=E&(1<<P)-1,E>>>=P,D-=P),D<15&&(E+=R[l++]<<D,D+=8,E+=R[l++]<<D,D+=8),M=C[E&T];n:for(;;){if(P=M>>>24,E>>>=P,D-=P,P=M>>>16&255,P&16){if(G=M&65535,P&=15,D<P&&(E+=R[l++]<<D,D+=8,D<P&&(E+=R[l++]<<D,D+=8)),G+=E&(1<<P)-1,G>d){_.msg="invalid distance too far back",h.mode=u;break e}if(E>>>=P,D-=P,P=i-g,G>P){if(P=G-P,P>p&&h.sane){_.msg="invalid distance too far back",h.mode=u;break e}if(V=0,H=w,b===0){if(V+=v-P,P<N){N-=P;do j[i++]=w[V++];while(--P);V=i-G,H=j}}else if(b<P){if(V+=v+b-P,P-=b,P<N){N-=P;do j[i++]=w[V++];while(--P);if(V=0,b<N){P=b,N-=P;do j[i++]=w[V++];while(--P);V=i-G,H=j}}}else if(V+=b-P,P<N){N-=P;do j[i++]=w[V++];while(--P);V=i-G,H=j}for(;N>2;)j[i++]=H[V++],j[i++]=H[V++],j[i++]=H[V++],N-=3;N&&(j[i++]=H[V++],N>1&&(j[i++]=H[V++]))}else{V=i-G;do j[i++]=j[V++],j[i++]=j[V++],j[i++]=j[V++],N-=3;while(N>2);N&&(j[i++]=j[V++],N>1&&(j[i++]=j[V++]))}}else if((P&64)===0){M=C[(M&65535)+(E&(1<<P)-1)];continue n}else{_.msg="invalid distance code",h.mode=u;break e}break}}else if((P&64)===0){M=S[(M&65535)+(E&(1<<P)-1)];continue t}else if(P&32){h.mode=c;break e}else{_.msg="invalid literal/length code",h.mode=u;break e}break}}while(l<o&&i<y);N=D>>3,l-=N,D-=N<<3,E&=(1<<D)-1,_.next_in=l,_.next_out=i,_.avail_in=l<o?5+(o-l):5-(l-o),_.avail_out=i<y?257+(y-i):257-(i-y),h.hold=E,h.bits=D}},{}],42:[function(n,a,s){"use strict";var u=n("../utils/common"),c=n("./adler32"),m=n("./crc32"),_=n("./inffast"),f=n("./inftrees"),h=0,l=1,o=2,i=4,g=5,y=6,d=0,v=1,p=2,b=-2,w=-3,E=-4,D=-5,S=8,C=1,I=2,T=3,M=4,P=5,N=6,G=7,V=8,H=9,R=10,j=11,Y=12,ne=13,re=14,ie=15,W=16,q=17,te=18,K=19,J=20,le=21,se=22,_e=23,ge=24,Ee=25,ae=26,oe=27,Q=28,Z=29,z=30,$=31,O=32,B=852,U=592,A=15,k=A;function ee(de){return(de>>>24&255)+(de>>>8&65280)+((de&65280)<<8)+((de&255)<<24)}function he(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function we(de){var ve;return!de||!de.state?b:(ve=de.state,de.total_in=de.total_out=ve.total=0,de.msg="",ve.wrap&&(de.adler=ve.wrap&1),ve.mode=C,ve.last=0,ve.havedict=0,ve.dmax=32768,ve.head=null,ve.hold=0,ve.bits=0,ve.lencode=ve.lendyn=new u.Buf32(B),ve.distcode=ve.distdyn=new u.Buf32(U),ve.sane=1,ve.back=-1,d)}function pe(de){var ve;return!de||!de.state?b:(ve=de.state,ve.wsize=0,ve.whave=0,ve.wnext=0,we(de))}function Ce(de,ve){var X,xe;return!de||!de.state||(xe=de.state,ve<0?(X=0,ve=-ve):(X=(ve>>4)+1,ve<48&&(ve&=15)),ve&&(ve<8||ve>15))?b:(xe.window!==null&&xe.wbits!==ve&&(xe.window=null),xe.wrap=X,xe.wbits=ve,pe(de))}function Me(de,ve){var X,xe;return de?(xe=new he,de.state=xe,xe.window=null,X=Ce(de,ve),X!==d&&(de.state=null),X):b}function Ae(de){return Me(de,k)}var Oe=!0,Ne,ke;function Be(de){if(Oe){var ve;for(Ne=new u.Buf32(512),ke=new u.Buf32(32),ve=0;ve<144;)de.lens[ve++]=8;for(;ve<256;)de.lens[ve++]=9;for(;ve<280;)de.lens[ve++]=7;for(;ve<288;)de.lens[ve++]=8;for(f(l,de.lens,0,288,Ne,0,de.work,{bits:9}),ve=0;ve<32;)de.lens[ve++]=5;f(o,de.lens,0,32,ke,0,de.work,{bits:5}),Oe=!1}de.lencode=Ne,de.lenbits=9,de.distcode=ke,de.distbits=5}function je(de,ve,X,xe){var Te,x=de.state;return x.window===null&&(x.wsize=1<<x.wbits,x.wnext=0,x.whave=0,x.window=new u.Buf8(x.wsize)),xe>=x.wsize?(u.arraySet(x.window,ve,X-x.wsize,x.wsize,0),x.wnext=0,x.whave=x.wsize):(Te=x.wsize-x.wnext,Te>xe&&(Te=xe),u.arraySet(x.window,ve,X-xe,Te,x.wnext),xe-=Te,xe?(u.arraySet(x.window,ve,X-xe,xe,0),x.wnext=xe,x.whave=x.wsize):(x.wnext+=Te,x.wnext===x.wsize&&(x.wnext=0),x.whave<x.wsize&&(x.whave+=Te))),0}function L(de,ve){var X,xe,Te,x,fe,ye,F,ue,be,Ie,Se,Pe,Fe,gt,it=0,Xe,lt,pt,It,qn,lr,ht,Pt,yt=new u.Buf8(4),Zt,qt,Yn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!de||!de.state||!de.output||!de.input&&de.avail_in!==0)return b;X=de.state,X.mode===Y&&(X.mode=ne),fe=de.next_out,Te=de.output,F=de.avail_out,x=de.next_in,xe=de.input,ye=de.avail_in,ue=X.hold,be=X.bits,Ie=ye,Se=F,Pt=d;e:for(;;)switch(X.mode){case C:if(X.wrap===0){X.mode=ne;break}for(;be<16;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}if(X.wrap&2&&ue===35615){X.check=0,yt[0]=ue&255,yt[1]=ue>>>8&255,X.check=m(X.check,yt,2,0),ue=0,be=0,X.mode=I;break}if(X.flags=0,X.head&&(X.head.done=!1),!(X.wrap&1)||(((ue&255)<<8)+(ue>>8))%31){de.msg="incorrect header check",X.mode=z;break}if((ue&15)!==S){de.msg="unknown compression method",X.mode=z;break}if(ue>>>=4,be-=4,ht=(ue&15)+8,X.wbits===0)X.wbits=ht;else if(ht>X.wbits){de.msg="invalid window size",X.mode=z;break}X.dmax=1<<ht,de.adler=X.check=1,X.mode=ue&512?R:Y,ue=0,be=0;break;case I:for(;be<16;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}if(X.flags=ue,(X.flags&255)!==S){de.msg="unknown compression method",X.mode=z;break}if(X.flags&57344){de.msg="unknown header flags set",X.mode=z;break}X.head&&(X.head.text=ue>>8&1),X.flags&512&&(yt[0]=ue&255,yt[1]=ue>>>8&255,X.check=m(X.check,yt,2,0)),ue=0,be=0,X.mode=T;case T:for(;be<32;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}X.head&&(X.head.time=ue),X.flags&512&&(yt[0]=ue&255,yt[1]=ue>>>8&255,yt[2]=ue>>>16&255,yt[3]=ue>>>24&255,X.check=m(X.check,yt,4,0)),ue=0,be=0,X.mode=M;case M:for(;be<16;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}X.head&&(X.head.xflags=ue&255,X.head.os=ue>>8),X.flags&512&&(yt[0]=ue&255,yt[1]=ue>>>8&255,X.check=m(X.check,yt,2,0)),ue=0,be=0,X.mode=P;case P:if(X.flags&1024){for(;be<16;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}X.length=ue,X.head&&(X.head.extra_len=ue),X.flags&512&&(yt[0]=ue&255,yt[1]=ue>>>8&255,X.check=m(X.check,yt,2,0)),ue=0,be=0}else X.head&&(X.head.extra=null);X.mode=N;case N:if(X.flags&1024&&(Pe=X.length,Pe>ye&&(Pe=ye),Pe&&(X.head&&(ht=X.head.extra_len-X.length,X.head.extra||(X.head.extra=new Array(X.head.extra_len)),u.arraySet(X.head.extra,xe,x,Pe,ht)),X.flags&512&&(X.check=m(X.check,xe,Pe,x)),ye-=Pe,x+=Pe,X.length-=Pe),X.length))break e;X.length=0,X.mode=G;case G:if(X.flags&2048){if(ye===0)break e;Pe=0;do ht=xe[x+Pe++],X.head&&ht&&X.length<65536&&(X.head.name+=String.fromCharCode(ht));while(ht&&Pe<ye);if(X.flags&512&&(X.check=m(X.check,xe,Pe,x)),ye-=Pe,x+=Pe,ht)break e}else X.head&&(X.head.name=null);X.length=0,X.mode=V;case V:if(X.flags&4096){if(ye===0)break e;Pe=0;do ht=xe[x+Pe++],X.head&&ht&&X.length<65536&&(X.head.comment+=String.fromCharCode(ht));while(ht&&Pe<ye);if(X.flags&512&&(X.check=m(X.check,xe,Pe,x)),ye-=Pe,x+=Pe,ht)break e}else X.head&&(X.head.comment=null);X.mode=H;case H:if(X.flags&512){for(;be<16;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}if(ue!==(X.check&65535)){de.msg="header crc mismatch",X.mode=z;break}ue=0,be=0}X.head&&(X.head.hcrc=X.flags>>9&1,X.head.done=!0),de.adler=X.check=0,X.mode=Y;break;case R:for(;be<32;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}de.adler=X.check=ee(ue),ue=0,be=0,X.mode=j;case j:if(X.havedict===0)return de.next_out=fe,de.avail_out=F,de.next_in=x,de.avail_in=ye,X.hold=ue,X.bits=be,p;de.adler=X.check=1,X.mode=Y;case Y:if(ve===g||ve===y)break e;case ne:if(X.last){ue>>>=be&7,be-=be&7,X.mode=oe;break}for(;be<3;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}switch(X.last=ue&1,ue>>>=1,be-=1,ue&3){case 0:X.mode=re;break;case 1:if(Be(X),X.mode=J,ve===y){ue>>>=2,be-=2;break e}break;case 2:X.mode=q;break;case 3:de.msg="invalid block type",X.mode=z}ue>>>=2,be-=2;break;case re:for(ue>>>=be&7,be-=be&7;be<32;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}if((ue&65535)!==(ue>>>16^65535)){de.msg="invalid stored block lengths",X.mode=z;break}if(X.length=ue&65535,ue=0,be=0,X.mode=ie,ve===y)break e;case ie:X.mode=W;case W:if(Pe=X.length,Pe){if(Pe>ye&&(Pe=ye),Pe>F&&(Pe=F),Pe===0)break e;u.arraySet(Te,xe,x,Pe,fe),ye-=Pe,x+=Pe,F-=Pe,fe+=Pe,X.length-=Pe;break}X.mode=Y;break;case q:for(;be<14;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}if(X.nlen=(ue&31)+257,ue>>>=5,be-=5,X.ndist=(ue&31)+1,ue>>>=5,be-=5,X.ncode=(ue&15)+4,ue>>>=4,be-=4,X.nlen>286||X.ndist>30){de.msg="too many length or distance symbols",X.mode=z;break}X.have=0,X.mode=te;case te:for(;X.have<X.ncode;){for(;be<3;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}X.lens[Yn[X.have++]]=ue&7,ue>>>=3,be-=3}for(;X.have<19;)X.lens[Yn[X.have++]]=0;if(X.lencode=X.lendyn,X.lenbits=7,Zt={bits:X.lenbits},Pt=f(h,X.lens,0,19,X.lencode,0,X.work,Zt),X.lenbits=Zt.bits,Pt){de.msg="invalid code lengths set",X.mode=z;break}X.have=0,X.mode=K;case K:for(;X.have<X.nlen+X.ndist;){for(;it=X.lencode[ue&(1<<X.lenbits)-1],Xe=it>>>24,lt=it>>>16&255,pt=it&65535,!(Xe<=be);){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}if(pt<16)ue>>>=Xe,be-=Xe,X.lens[X.have++]=pt;else{if(pt===16){for(qt=Xe+2;be<qt;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}if(ue>>>=Xe,be-=Xe,X.have===0){de.msg="invalid bit length repeat",X.mode=z;break}ht=X.lens[X.have-1],Pe=3+(ue&3),ue>>>=2,be-=2}else if(pt===17){for(qt=Xe+3;be<qt;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}ue>>>=Xe,be-=Xe,ht=0,Pe=3+(ue&7),ue>>>=3,be-=3}else{for(qt=Xe+7;be<qt;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}ue>>>=Xe,be-=Xe,ht=0,Pe=11+(ue&127),ue>>>=7,be-=7}if(X.have+Pe>X.nlen+X.ndist){de.msg="invalid bit length repeat",X.mode=z;break}for(;Pe--;)X.lens[X.have++]=ht}}if(X.mode===z)break;if(X.lens[256]===0){de.msg="invalid code -- missing end-of-block",X.mode=z;break}if(X.lenbits=9,Zt={bits:X.lenbits},Pt=f(l,X.lens,0,X.nlen,X.lencode,0,X.work,Zt),X.lenbits=Zt.bits,Pt){de.msg="invalid literal/lengths set",X.mode=z;break}if(X.distbits=6,X.distcode=X.distdyn,Zt={bits:X.distbits},Pt=f(o,X.lens,X.nlen,X.ndist,X.distcode,0,X.work,Zt),X.distbits=Zt.bits,Pt){de.msg="invalid distances set",X.mode=z;break}if(X.mode=J,ve===y)break e;case J:X.mode=le;case le:if(ye>=6&&F>=258){de.next_out=fe,de.avail_out=F,de.next_in=x,de.avail_in=ye,X.hold=ue,X.bits=be,_(de,Se),fe=de.next_out,Te=de.output,F=de.avail_out,x=de.next_in,xe=de.input,ye=de.avail_in,ue=X.hold,be=X.bits,X.mode===Y&&(X.back=-1);break}for(X.back=0;it=X.lencode[ue&(1<<X.lenbits)-1],Xe=it>>>24,lt=it>>>16&255,pt=it&65535,!(Xe<=be);){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}if(lt&&(lt&240)===0){for(It=Xe,qn=lt,lr=pt;it=X.lencode[lr+((ue&(1<<It+qn)-1)>>It)],Xe=it>>>24,lt=it>>>16&255,pt=it&65535,!(It+Xe<=be);){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}ue>>>=It,be-=It,X.back+=It}if(ue>>>=Xe,be-=Xe,X.back+=Xe,X.length=pt,lt===0){X.mode=ae;break}if(lt&32){X.back=-1,X.mode=Y;break}if(lt&64){de.msg="invalid literal/length code",X.mode=z;break}X.extra=lt&15,X.mode=se;case se:if(X.extra){for(qt=X.extra;be<qt;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}X.length+=ue&(1<<X.extra)-1,ue>>>=X.extra,be-=X.extra,X.back+=X.extra}X.was=X.length,X.mode=_e;case _e:for(;it=X.distcode[ue&(1<<X.distbits)-1],Xe=it>>>24,lt=it>>>16&255,pt=it&65535,!(Xe<=be);){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}if((lt&240)===0){for(It=Xe,qn=lt,lr=pt;it=X.distcode[lr+((ue&(1<<It+qn)-1)>>It)],Xe=it>>>24,lt=it>>>16&255,pt=it&65535,!(It+Xe<=be);){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}ue>>>=It,be-=It,X.back+=It}if(ue>>>=Xe,be-=Xe,X.back+=Xe,lt&64){de.msg="invalid distance code",X.mode=z;break}X.offset=pt,X.extra=lt&15,X.mode=ge;case ge:if(X.extra){for(qt=X.extra;be<qt;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}X.offset+=ue&(1<<X.extra)-1,ue>>>=X.extra,be-=X.extra,X.back+=X.extra}if(X.offset>X.dmax){de.msg="invalid distance too far back",X.mode=z;break}X.mode=Ee;case Ee:if(F===0)break e;if(Pe=Se-F,X.offset>Pe){if(Pe=X.offset-Pe,Pe>X.whave&&X.sane){de.msg="invalid distance too far back",X.mode=z;break}Pe>X.wnext?(Pe-=X.wnext,Fe=X.wsize-Pe):Fe=X.wnext-Pe,Pe>X.length&&(Pe=X.length),gt=X.window}else gt=Te,Fe=fe-X.offset,Pe=X.length;Pe>F&&(Pe=F),F-=Pe,X.length-=Pe;do Te[fe++]=gt[Fe++];while(--Pe);X.length===0&&(X.mode=le);break;case ae:if(F===0)break e;Te[fe++]=X.length,F--,X.mode=le;break;case oe:if(X.wrap){for(;be<32;){if(ye===0)break e;ye--,ue|=xe[x++]<<be,be+=8}if(Se-=F,de.total_out+=Se,X.total+=Se,Se&&(de.adler=X.check=X.flags?m(X.check,Te,Se,fe-Se):c(X.check,Te,Se,fe-Se)),Se=F,(X.flags?ue:ee(ue))!==X.check){de.msg="incorrect data check",X.mode=z;break}ue=0,be=0}X.mode=Q;case Q:if(X.wrap&&X.flags){for(;be<32;){if(ye===0)break e;ye--,ue+=xe[x++]<<be,be+=8}if(ue!==(X.total&4294967295)){de.msg="incorrect length check",X.mode=z;break}ue=0,be=0}X.mode=Z;case Z:Pt=v;break e;case z:Pt=w;break e;case $:return E;case O:default:return b}return de.next_out=fe,de.avail_out=F,de.next_in=x,de.avail_in=ye,X.hold=ue,X.bits=be,(X.wsize||Se!==de.avail_out&&X.mode<z&&(X.mode<oe||ve!==i))&&je(de,de.output,de.next_out,Se-de.avail_out)?(X.mode=$,E):(Ie-=de.avail_in,Se-=de.avail_out,de.total_in+=Ie,de.total_out+=Se,X.total+=Se,X.wrap&&Se&&(de.adler=X.check=X.flags?m(X.check,Te,Se,de.next_out-Se):c(X.check,Te,Se,de.next_out-Se)),de.data_type=X.bits+(X.last?64:0)+(X.mode===Y?128:0)+(X.mode===J||X.mode===ie?256:0),(Ie===0&&Se===0||ve===i)&&Pt===d&&(Pt=D),Pt)}function ce(de){if(!de||!de.state)return b;var ve=de.state;return ve.window&&(ve.window=null),de.state=null,d}function me(de,ve){var X;return!de||!de.state||(X=de.state,(X.wrap&2)===0)?b:(X.head=ve,ve.done=!1,d)}function De(de,ve){var X=ve.length,xe,Te,x;return!de||!de.state||(xe=de.state,xe.wrap!==0&&xe.mode!==j)?b:xe.mode===j&&(Te=1,Te=c(Te,ve,X,0),Te!==xe.check)?w:(x=je(de,ve,X,X),x?(xe.mode=$,E):(xe.havedict=1,d))}s.inflateReset=pe,s.inflateReset2=Ce,s.inflateResetKeep=we,s.inflateInit=Ae,s.inflateInit2=Me,s.inflate=L,s.inflateEnd=ce,s.inflateGetHeader=me,s.inflateSetDictionary=De,s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(n,a,s){"use strict";var u=n("../utils/common"),c=15,m=852,_=592,f=0,h=1,l=2,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(v,p,b,w,E,D,S,C){var I=C.bits,T=0,M=0,P=0,N=0,G=0,V=0,H=0,R=0,j=0,Y=0,ne,re,ie,W,q,te=null,K=0,J,le=new u.Buf16(c+1),se=new u.Buf16(c+1),_e=null,ge=0,Ee,ae,oe;for(T=0;T<=c;T++)le[T]=0;for(M=0;M<w;M++)le[p[b+M]]++;for(G=I,N=c;N>=1&&le[N]===0;N--);if(G>N&&(G=N),N===0)return E[D++]=1<<24|64<<16|0,E[D++]=1<<24|64<<16|0,C.bits=1,0;for(P=1;P<N&&le[P]===0;P++);for(G<P&&(G=P),R=1,T=1;T<=c;T++)if(R<<=1,R-=le[T],R<0)return-1;if(R>0&&(v===f||N!==1))return-1;for(se[1]=0,T=1;T<c;T++)se[T+1]=se[T]+le[T];for(M=0;M<w;M++)p[b+M]!==0&&(S[se[p[b+M]]++]=M);if(v===f?(te=_e=S,J=19):v===h?(te=o,K-=257,_e=i,ge-=257,J=256):(te=g,_e=y,J=-1),Y=0,M=0,T=P,q=D,V=G,H=0,ie=-1,j=1<<G,W=j-1,v===h&&j>m||v===l&&j>_)return 1;for(;;){Ee=T-H,S[M]<J?(ae=0,oe=S[M]):S[M]>J?(ae=_e[ge+S[M]],oe=te[K+S[M]]):(ae=96,oe=0),ne=1<<T-H,re=1<<V,P=re;do re-=ne,E[q+(Y>>H)+re]=Ee<<24|ae<<16|oe|0;while(re!==0);for(ne=1<<T-1;Y&ne;)ne>>=1;if(ne!==0?(Y&=ne-1,Y+=ne):Y=0,M++,--le[T]===0){if(T===N)break;T=p[b+S[M]]}if(T>G&&(Y&W)!==ie){for(H===0&&(H=G),q+=P,V=T-H,R=1<<V;V+H<N&&(R-=le[V+H],!(R<=0));)V++,R<<=1;if(j+=1<<V,v===h&&j>m||v===l&&j>_)return 1;ie=Y&W,E[ie]=G<<24|V<<16|q-D|0}}return Y!==0&&(E[q+Y]=T-H<<24|64<<16|0),C.bits=G,0}},{"../utils/common":36}],44:[function(n,a,s){"use strict";a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(n,a,s){"use strict";var u=n("../utils/common"),c=4,m=0,_=1,f=2;function h(L){for(var ce=L.length;--ce>=0;)L[ce]=0}var l=0,o=1,i=2,g=3,y=258,d=29,v=256,p=v+1+d,b=30,w=19,E=2*p+1,D=15,S=16,C=7,I=256,T=16,M=17,P=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=512,j=new Array((p+2)*2);h(j);var Y=new Array(b*2);h(Y);var ne=new Array(R);h(ne);var re=new Array(y-g+1);h(re);var ie=new Array(d);h(ie);var W=new Array(b);h(W);function q(L,ce,me,De,de){this.static_tree=L,this.extra_bits=ce,this.extra_base=me,this.elems=De,this.max_length=de,this.has_stree=L&&L.length}var te,K,J;function le(L,ce){this.dyn_tree=L,this.max_code=0,this.stat_desc=ce}function se(L){return L<256?ne[L]:ne[256+(L>>>7)]}function _e(L,ce){L.pending_buf[L.pending++]=ce&255,L.pending_buf[L.pending++]=ce>>>8&255}function ge(L,ce,me){L.bi_valid>S-me?(L.bi_buf|=ce<<L.bi_valid&65535,_e(L,L.bi_buf),L.bi_buf=ce>>S-L.bi_valid,L.bi_valid+=me-S):(L.bi_buf|=ce<<L.bi_valid&65535,L.bi_valid+=me)}function Ee(L,ce,me){ge(L,me[ce*2],me[ce*2+1])}function ae(L,ce){var me=0;do me|=L&1,L>>>=1,me<<=1;while(--ce>0);return me>>>1}function oe(L){L.bi_valid===16?(_e(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):L.bi_valid>=8&&(L.pending_buf[L.pending++]=L.bi_buf&255,L.bi_buf>>=8,L.bi_valid-=8)}function Q(L,ce){var me=ce.dyn_tree,De=ce.max_code,de=ce.stat_desc.static_tree,ve=ce.stat_desc.has_stree,X=ce.stat_desc.extra_bits,xe=ce.stat_desc.extra_base,Te=ce.stat_desc.max_length,x,fe,ye,F,ue,be,Ie=0;for(F=0;F<=D;F++)L.bl_count[F]=0;for(me[L.heap[L.heap_max]*2+1]=0,x=L.heap_max+1;x<E;x++)fe=L.heap[x],F=me[me[fe*2+1]*2+1]+1,F>Te&&(F=Te,Ie++),me[fe*2+1]=F,!(fe>De)&&(L.bl_count[F]++,ue=0,fe>=xe&&(ue=X[fe-xe]),be=me[fe*2],L.opt_len+=be*(F+ue),ve&&(L.static_len+=be*(de[fe*2+1]+ue)));if(Ie!==0){do{for(F=Te-1;L.bl_count[F]===0;)F--;L.bl_count[F]--,L.bl_count[F+1]+=2,L.bl_count[Te]--,Ie-=2}while(Ie>0);for(F=Te;F!==0;F--)for(fe=L.bl_count[F];fe!==0;)ye=L.heap[--x],!(ye>De)&&(me[ye*2+1]!==F&&(L.opt_len+=(F-me[ye*2+1])*me[ye*2],me[ye*2+1]=F),fe--)}}function Z(L,ce,me){var De=new Array(D+1),de=0,ve,X;for(ve=1;ve<=D;ve++)De[ve]=de=de+me[ve-1]<<1;for(X=0;X<=ce;X++){var xe=L[X*2+1];xe!==0&&(L[X*2]=ae(De[xe]++,xe))}}function z(){var L,ce,me,De,de,ve=new Array(D+1);for(me=0,De=0;De<d-1;De++)for(ie[De]=me,L=0;L<1<<N[De];L++)re[me++]=De;for(re[me-1]=De,de=0,De=0;De<16;De++)for(W[De]=de,L=0;L<1<<G[De];L++)ne[de++]=De;for(de>>=7;De<b;De++)for(W[De]=de<<7,L=0;L<1<<G[De]-7;L++)ne[256+de++]=De;for(ce=0;ce<=D;ce++)ve[ce]=0;for(L=0;L<=143;)j[L*2+1]=8,L++,ve[8]++;for(;L<=255;)j[L*2+1]=9,L++,ve[9]++;for(;L<=279;)j[L*2+1]=7,L++,ve[7]++;for(;L<=287;)j[L*2+1]=8,L++,ve[8]++;for(Z(j,p+1,ve),L=0;L<b;L++)Y[L*2+1]=5,Y[L*2]=ae(L,5);te=new q(j,N,v+1,p,D),K=new q(Y,G,0,b,D),J=new q(new Array(0),V,0,w,C)}function $(L){var ce;for(ce=0;ce<p;ce++)L.dyn_ltree[ce*2]=0;for(ce=0;ce<b;ce++)L.dyn_dtree[ce*2]=0;for(ce=0;ce<w;ce++)L.bl_tree[ce*2]=0;L.dyn_ltree[I*2]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function O(L){L.bi_valid>8?_e(L,L.bi_buf):L.bi_valid>0&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function B(L,ce,me,De){O(L),De&&(_e(L,me),_e(L,~me)),u.arraySet(L.pending_buf,L.window,ce,me,L.pending),L.pending+=me}function U(L,ce,me,De){var de=ce*2,ve=me*2;return L[de]<L[ve]||L[de]===L[ve]&&De[ce]<=De[me]}function A(L,ce,me){for(var De=L.heap[me],de=me<<1;de<=L.heap_len&&(de<L.heap_len&&U(ce,L.heap[de+1],L.heap[de],L.depth)&&de++,!U(ce,De,L.heap[de],L.depth));)L.heap[me]=L.heap[de],me=de,de<<=1;L.heap[me]=De}function k(L,ce,me){var De,de,ve=0,X,xe;if(L.last_lit!==0)do De=L.pending_buf[L.d_buf+ve*2]<<8|L.pending_buf[L.d_buf+ve*2+1],de=L.pending_buf[L.l_buf+ve],ve++,De===0?Ee(L,de,ce):(X=re[de],Ee(L,X+v+1,ce),xe=N[X],xe!==0&&(de-=ie[X],ge(L,de,xe)),De--,X=se(De),Ee(L,X,me),xe=G[X],xe!==0&&(De-=W[X],ge(L,De,xe)));while(ve<L.last_lit);Ee(L,I,ce)}function ee(L,ce){var me=ce.dyn_tree,De=ce.stat_desc.static_tree,de=ce.stat_desc.has_stree,ve=ce.stat_desc.elems,X,xe,Te=-1,x;for(L.heap_len=0,L.heap_max=E,X=0;X<ve;X++)me[X*2]!==0?(L.heap[++L.heap_len]=Te=X,L.depth[X]=0):me[X*2+1]=0;for(;L.heap_len<2;)x=L.heap[++L.heap_len]=Te<2?++Te:0,me[x*2]=1,L.depth[x]=0,L.opt_len--,de&&(L.static_len-=De[x*2+1]);for(ce.max_code=Te,X=L.heap_len>>1;X>=1;X--)A(L,me,X);x=ve;do X=L.heap[1],L.heap[1]=L.heap[L.heap_len--],A(L,me,1),xe=L.heap[1],L.heap[--L.heap_max]=X,L.heap[--L.heap_max]=xe,me[x*2]=me[X*2]+me[xe*2],L.depth[x]=(L.depth[X]>=L.depth[xe]?L.depth[X]:L.depth[xe])+1,me[X*2+1]=me[xe*2+1]=x,L.heap[1]=x++,A(L,me,1);while(L.heap_len>=2);L.heap[--L.heap_max]=L.heap[1],Q(L,ce),Z(me,Te,L.bl_count)}function he(L,ce,me){var De,de=-1,ve,X=ce[0*2+1],xe=0,Te=7,x=4;for(X===0&&(Te=138,x=3),ce[(me+1)*2+1]=65535,De=0;De<=me;De++)ve=X,X=ce[(De+1)*2+1],!(++xe<Te&&ve===X)&&(xe<x?L.bl_tree[ve*2]+=xe:ve!==0?(ve!==de&&L.bl_tree[ve*2]++,L.bl_tree[T*2]++):xe<=10?L.bl_tree[M*2]++:L.bl_tree[P*2]++,xe=0,de=ve,X===0?(Te=138,x=3):ve===X?(Te=6,x=3):(Te=7,x=4))}function we(L,ce,me){var De,de=-1,ve,X=ce[0*2+1],xe=0,Te=7,x=4;for(X===0&&(Te=138,x=3),De=0;De<=me;De++)if(ve=X,X=ce[(De+1)*2+1],!(++xe<Te&&ve===X)){if(xe<x)do Ee(L,ve,L.bl_tree);while(--xe!==0);else ve!==0?(ve!==de&&(Ee(L,ve,L.bl_tree),xe--),Ee(L,T,L.bl_tree),ge(L,xe-3,2)):xe<=10?(Ee(L,M,L.bl_tree),ge(L,xe-3,3)):(Ee(L,P,L.bl_tree),ge(L,xe-11,7));xe=0,de=ve,X===0?(Te=138,x=3):ve===X?(Te=6,x=3):(Te=7,x=4)}}function pe(L){var ce;for(he(L,L.dyn_ltree,L.l_desc.max_code),he(L,L.dyn_dtree,L.d_desc.max_code),ee(L,L.bl_desc),ce=w-1;ce>=3&&L.bl_tree[H[ce]*2+1]===0;ce--);return L.opt_len+=3*(ce+1)+5+5+4,ce}function Ce(L,ce,me,De){var de;for(ge(L,ce-257,5),ge(L,me-1,5),ge(L,De-4,4),de=0;de<De;de++)ge(L,L.bl_tree[H[de]*2+1],3);we(L,L.dyn_ltree,ce-1),we(L,L.dyn_dtree,me-1)}function Me(L){var ce=4093624447,me;for(me=0;me<=31;me++,ce>>>=1)if(ce&1&&L.dyn_ltree[me*2]!==0)return m;if(L.dyn_ltree[9*2]!==0||L.dyn_ltree[10*2]!==0||L.dyn_ltree[13*2]!==0)return _;for(me=32;me<v;me++)if(L.dyn_ltree[me*2]!==0)return _;return m}var Ae=!1;function Oe(L){Ae||(z(),Ae=!0),L.l_desc=new le(L.dyn_ltree,te),L.d_desc=new le(L.dyn_dtree,K),L.bl_desc=new le(L.bl_tree,J),L.bi_buf=0,L.bi_valid=0,$(L)}function Ne(L,ce,me,De){ge(L,(l<<1)+(De?1:0),3),B(L,ce,me,!0)}function ke(L){ge(L,o<<1,3),Ee(L,I,j),oe(L)}function Be(L,ce,me,De){var de,ve,X=0;L.level>0?(L.strm.data_type===f&&(L.strm.data_type=Me(L)),ee(L,L.l_desc),ee(L,L.d_desc),X=pe(L),de=L.opt_len+3+7>>>3,ve=L.static_len+3+7>>>3,ve<=de&&(de=ve)):de=ve=me+5,me+4<=de&&ce!==-1?Ne(L,ce,me,De):L.strategy===c||ve===de?(ge(L,(o<<1)+(De?1:0),3),k(L,j,Y)):(ge(L,(i<<1)+(De?1:0),3),Ce(L,L.l_desc.max_code+1,L.d_desc.max_code+1,X+1),k(L,L.dyn_ltree,L.dyn_dtree)),$(L),De&&O(L)}function je(L,ce,me){return L.pending_buf[L.d_buf+L.last_lit*2]=ce>>>8&255,L.pending_buf[L.d_buf+L.last_lit*2+1]=ce&255,L.pending_buf[L.l_buf+L.last_lit]=me&255,L.last_lit++,ce===0?L.dyn_ltree[me*2]++:(L.matches++,ce--,L.dyn_ltree[(re[me]+v+1)*2]++,L.dyn_dtree[se(ce)*2]++),L.last_lit===L.lit_bufsize-1}s._tr_init=Oe,s._tr_stored_block=Ne,s._tr_flush_block=Be,s._tr_tally=je,s._tr_align=ke},{"../utils/common":36}],46:[function(n,a,s){"use strict";function u(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a.exports=u},{}],47:[function(n,a,s){arguments[4][33][0].apply(s,arguments)},{dup:33}],48:[function(n,a,s){(function(o){"use strict";var c=n("base64-js"),m=n("ieee754"),_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=o,s.SlowBuffer=D,s.INSPECT_MAX_BYTES=50;var f=2147483647;s.kMaxLength=f,o.TYPED_ARRAY_SUPPORT=h(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var U=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(U,A),U.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function l(U){if(U>f)throw new RangeError('The value "'+U+'" is invalid for option "size"');var A=new Uint8Array(U);return Object.setPrototypeOf(A,o.prototype),A}function o(U,A,k){if(typeof U=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(U)}return i(U,A,k)}typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192;function i(U,A,k){if(typeof U=="string")return v(U,A);if(ArrayBuffer.isView(U))return p(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if($(U,ArrayBuffer)||U&&$(U.buffer,ArrayBuffer))return b(U,A,k);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=U.valueOf&&U.valueOf();if(ee!=null&&ee!==U)return o.from(ee,A,k);var he=w(U);if(he)return he;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return o.from(U[Symbol.toPrimitive]("string"),A,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}o.from=function(U,A,k){return i(U,A,k)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function g(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function y(U,A,k){return g(U),U<=0?l(U):A!==void 0?typeof k=="string"?l(U).fill(A,k):l(U).fill(A):l(U)}o.alloc=function(U,A,k){return y(U,A,k)};function d(U){return g(U),l(U<0?0:E(U)|0)}o.allocUnsafe=function(U){return d(U)},o.allocUnsafeSlow=function(U){return d(U)};function v(U,A){if((typeof A!="string"||A==="")&&(A="utf8"),!o.isEncoding(A))throw new TypeError("Unknown encoding: "+A);var k=S(U,A)|0,ee=l(k),he=ee.write(U,A);return he!==k&&(ee=ee.slice(0,he)),ee}function p(U){for(var A=U.length<0?0:E(U.length)|0,k=l(A),ee=0;ee<A;ee+=1)k[ee]=U[ee]&255;return k}function b(U,A,k){if(A<0||U.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<A+(k||0))throw new RangeError('"length" is outside of buffer bounds');var ee;return A===void 0&&k===void 0?ee=new Uint8Array(U):k===void 0?ee=new Uint8Array(U,A):ee=new Uint8Array(U,A,k),Object.setPrototypeOf(ee,o.prototype),ee}function w(U){if(o.isBuffer(U)){var A=E(U.length)|0,k=l(A);return k.length===0||U.copy(k,0,0,A),k}if(U.length!==void 0)return typeof U.length!="number"||O(U.length)?l(0):p(U);if(U.type==="Buffer"&&Array.isArray(U.data))return p(U.data)}function E(U){if(U>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return U|0}function D(U){return+U!=U&&(U=0),o.alloc(+U)}o.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==o.prototype},o.compare=function(A,k){if($(A,Uint8Array)&&(A=o.from(A,A.offset,A.byteLength)),$(k,Uint8Array)&&(k=o.from(k,k.offset,k.byteLength)),!o.isBuffer(A)||!o.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===k)return 0;for(var ee=A.length,he=k.length,we=0,pe=Math.min(ee,he);we<pe;++we)if(A[we]!==k[we]){ee=A[we],he=k[we];break}return ee<he?-1:he<ee?1:0},o.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(A,k){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return o.alloc(0);var ee;if(k===void 0)for(k=0,ee=0;ee<A.length;++ee)k+=A[ee].length;var he=o.allocUnsafe(k),we=0;for(ee=0;ee<A.length;++ee){var pe=A[ee];if($(pe,Uint8Array)&&(pe=o.from(pe)),!o.isBuffer(pe))throw new TypeError('"list" argument must be an Array of Buffers');pe.copy(he,we),we+=pe.length}return he};function S(U,A){if(o.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||$(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var k=U.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&k===0)return 0;for(var he=!1;;)switch(A){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return ae(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return Z(U).length;default:if(he)return ee?-1:ae(U).length;A=(""+A).toLowerCase(),he=!0}}o.byteLength=S;function C(U,A,k){var ee=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,A>>>=0,k<=A))return"";for(U||(U="utf8");;)switch(U){case"hex":return q(this,A,k);case"utf8":case"utf-8":return Y(this,A,k);case"ascii":return ie(this,A,k);case"latin1":case"binary":return W(this,A,k);case"base64":return j(this,A,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,A,k);default:if(ee)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),ee=!0}}o.prototype._isBuffer=!0;function I(U,A,k){var ee=U[A];U[A]=U[k],U[k]=ee}o.prototype.swap16=function(){var A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<A;k+=2)I(this,k,k+1);return this},o.prototype.swap32=function(){var A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<A;k+=4)I(this,k,k+3),I(this,k+1,k+2);return this},o.prototype.swap64=function(){var A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<A;k+=8)I(this,k,k+7),I(this,k+1,k+6),I(this,k+2,k+5),I(this,k+3,k+4);return this},o.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?Y(this,0,A):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(A){if(!o.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:o.compare(this,A)===0},o.prototype.inspect=function(){var A="",k=s.INSPECT_MAX_BYTES;return A=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(A+=" ... "),"<Buffer "+A+">"},_&&(o.prototype[_]=o.prototype.inspect),o.prototype.compare=function(A,k,ee,he,we){if($(A,Uint8Array)&&(A=o.from(A,A.offset,A.byteLength)),!o.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(k===void 0&&(k=0),ee===void 0&&(ee=A?A.length:0),he===void 0&&(he=0),we===void 0&&(we=this.length),k<0||ee>A.length||he<0||we>this.length)throw new RangeError("out of range index");if(he>=we&&k>=ee)return 0;if(he>=we)return-1;if(k>=ee)return 1;if(k>>>=0,ee>>>=0,he>>>=0,we>>>=0,this===A)return 0;for(var pe=we-he,Ce=ee-k,Me=Math.min(pe,Ce),Ae=this.slice(he,we),Oe=A.slice(k,ee),Ne=0;Ne<Me;++Ne)if(Ae[Ne]!==Oe[Ne]){pe=Ae[Ne],Ce=Oe[Ne];break}return pe<Ce?-1:Ce<pe?1:0};function T(U,A,k,ee,he){if(U.length===0)return-1;if(typeof k=="string"?(ee=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,O(k)&&(k=he?0:U.length-1),k<0&&(k=U.length+k),k>=U.length){if(he)return-1;k=U.length-1}else if(k<0)if(he)k=0;else return-1;if(typeof A=="string"&&(A=o.from(A,ee)),o.isBuffer(A))return A.length===0?-1:M(U,A,k,ee,he);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?he?Uint8Array.prototype.indexOf.call(U,A,k):Uint8Array.prototype.lastIndexOf.call(U,A,k):M(U,[A],k,ee,he);throw new TypeError("val must be string, number or Buffer")}function M(U,A,k,ee,he){var we=1,pe=U.length,Ce=A.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(U.length<2||A.length<2)return-1;we=2,pe/=2,Ce/=2,k/=2}function Me(Be,je){return we===1?Be[je]:Be.readUInt16BE(je*we)}var Ae;if(he){var Oe=-1;for(Ae=k;Ae<pe;Ae++)if(Me(U,Ae)===Me(A,Oe===-1?0:Ae-Oe)){if(Oe===-1&&(Oe=Ae),Ae-Oe+1===Ce)return Oe*we}else Oe!==-1&&(Ae-=Ae-Oe),Oe=-1}else for(k+Ce>pe&&(k=pe-Ce),Ae=k;Ae>=0;Ae--){for(var Ne=!0,ke=0;ke<Ce;ke++)if(Me(U,Ae+ke)!==Me(A,ke)){Ne=!1;break}if(Ne)return Ae}return-1}o.prototype.includes=function(A,k,ee){return this.indexOf(A,k,ee)!==-1},o.prototype.indexOf=function(A,k,ee){return T(this,A,k,ee,!0)},o.prototype.lastIndexOf=function(A,k,ee){return T(this,A,k,ee,!1)};function P(U,A,k,ee){k=Number(k)||0;var he=U.length-k;ee?(ee=Number(ee),ee>he&&(ee=he)):ee=he;var we=A.length;ee>we/2&&(ee=we/2);for(var pe=0;pe<ee;++pe){var Ce=parseInt(A.substr(pe*2,2),16);if(O(Ce))return pe;U[k+pe]=Ce}return pe}function N(U,A,k,ee){return z(ae(A,U.length-k),U,k,ee)}function G(U,A,k,ee){return z(oe(A),U,k,ee)}function V(U,A,k,ee){return G(U,A,k,ee)}function H(U,A,k,ee){return z(Z(A),U,k,ee)}function R(U,A,k,ee){return z(Q(A,U.length-k),U,k,ee)}o.prototype.write=function(A,k,ee,he){if(k===void 0)he="utf8",ee=this.length,k=0;else if(ee===void 0&&typeof k=="string")he=k,ee=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(ee)?(ee=ee>>>0,he===void 0&&(he="utf8")):(he=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var we=this.length-k;if((ee===void 0||ee>we)&&(ee=we),A.length>0&&(ee<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");for(var pe=!1;;)switch(he){case"hex":return P(this,A,k,ee);case"utf8":case"utf-8":return N(this,A,k,ee);case"ascii":return G(this,A,k,ee);case"latin1":case"binary":return V(this,A,k,ee);case"base64":return H(this,A,k,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,A,k,ee);default:if(pe)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),pe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(U,A,k){return A===0&&k===U.length?c.fromByteArray(U):c.fromByteArray(U.slice(A,k))}function Y(U,A,k){k=Math.min(U.length,k);for(var ee=[],he=A;he<k;){var we=U[he],pe=null,Ce=we>239?4:we>223?3:we>191?2:1;if(he+Ce<=k){var Me,Ae,Oe,Ne;switch(Ce){case 1:we<128&&(pe=we);break;case 2:Me=U[he+1],(Me&192)===128&&(Ne=(we&31)<<6|Me&63,Ne>127&&(pe=Ne));break;case 3:Me=U[he+1],Ae=U[he+2],(Me&192)===128&&(Ae&192)===128&&(Ne=(we&15)<<12|(Me&63)<<6|Ae&63,Ne>2047&&(Ne<55296||Ne>57343)&&(pe=Ne));break;case 4:Me=U[he+1],Ae=U[he+2],Oe=U[he+3],(Me&192)===128&&(Ae&192)===128&&(Oe&192)===128&&(Ne=(we&15)<<18|(Me&63)<<12|(Ae&63)<<6|Oe&63,Ne>65535&&Ne<1114112&&(pe=Ne))}}pe===null?(pe=65533,Ce=1):pe>65535&&(pe-=65536,ee.push(pe>>>10&1023|55296),pe=56320|pe&1023),ee.push(pe),he+=Ce}return re(ee)}var ne=4096;function re(U){var A=U.length;if(A<=ne)return String.fromCharCode.apply(String,U);for(var k="",ee=0;ee<A;)k+=String.fromCharCode.apply(String,U.slice(ee,ee+=ne));return k}function ie(U,A,k){var ee="";k=Math.min(U.length,k);for(var he=A;he<k;++he)ee+=String.fromCharCode(U[he]&127);return ee}function W(U,A,k){var ee="";k=Math.min(U.length,k);for(var he=A;he<k;++he)ee+=String.fromCharCode(U[he]);return ee}function q(U,A,k){var ee=U.length;(!A||A<0)&&(A=0),(!k||k<0||k>ee)&&(k=ee);for(var he="",we=A;we<k;++we)he+=B[U[we]];return he}function te(U,A,k){for(var ee=U.slice(A,k),he="",we=0;we<ee.length;we+=2)he+=String.fromCharCode(ee[we]+ee[we+1]*256);return he}o.prototype.slice=function(A,k){var ee=this.length;A=~~A,k=k===void 0?ee:~~k,A<0?(A+=ee,A<0&&(A=0)):A>ee&&(A=ee),k<0?(k+=ee,k<0&&(k=0)):k>ee&&(k=ee),k<A&&(k=A);var he=this.subarray(A,k);return Object.setPrototypeOf(he,o.prototype),he};function K(U,A,k){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+A>k)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUIntLE=function(A,k,ee){A=A>>>0,k=k>>>0,ee||K(A,k,this.length);for(var he=this[A],we=1,pe=0;++pe<k&&(we*=256);)he+=this[A+pe]*we;return he},o.prototype.readUIntBE=function(A,k,ee){A=A>>>0,k=k>>>0,ee||K(A,k,this.length);for(var he=this[A+--k],we=1;k>0&&(we*=256);)he+=this[A+--k]*we;return he},o.prototype.readUInt8=function(A,k){return A=A>>>0,k||K(A,1,this.length),this[A]},o.prototype.readUInt16LE=function(A,k){return A=A>>>0,k||K(A,2,this.length),this[A]|this[A+1]<<8},o.prototype.readUInt16BE=function(A,k){return A=A>>>0,k||K(A,2,this.length),this[A]<<8|this[A+1]},o.prototype.readUInt32LE=function(A,k){return A=A>>>0,k||K(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},o.prototype.readUInt32BE=function(A,k){return A=A>>>0,k||K(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},o.prototype.readIntLE=function(A,k,ee){A=A>>>0,k=k>>>0,ee||K(A,k,this.length);for(var he=this[A],we=1,pe=0;++pe<k&&(we*=256);)he+=this[A+pe]*we;return we*=128,he>=we&&(he-=Math.pow(2,8*k)),he},o.prototype.readIntBE=function(A,k,ee){A=A>>>0,k=k>>>0,ee||K(A,k,this.length);for(var he=k,we=1,pe=this[A+--he];he>0&&(we*=256);)pe+=this[A+--he]*we;return we*=128,pe>=we&&(pe-=Math.pow(2,8*k)),pe},o.prototype.readInt8=function(A,k){return A=A>>>0,k||K(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},o.prototype.readInt16LE=function(A,k){A=A>>>0,k||K(A,2,this.length);var ee=this[A]|this[A+1]<<8;return ee&32768?ee|4294901760:ee},o.prototype.readInt16BE=function(A,k){A=A>>>0,k||K(A,2,this.length);var ee=this[A+1]|this[A]<<8;return ee&32768?ee|4294901760:ee},o.prototype.readInt32LE=function(A,k){return A=A>>>0,k||K(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},o.prototype.readInt32BE=function(A,k){return A=A>>>0,k||K(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},o.prototype.readFloatLE=function(A,k){return A=A>>>0,k||K(A,4,this.length),m.read(this,A,!0,23,4)},o.prototype.readFloatBE=function(A,k){return A=A>>>0,k||K(A,4,this.length),m.read(this,A,!1,23,4)},o.prototype.readDoubleLE=function(A,k){return A=A>>>0,k||K(A,8,this.length),m.read(this,A,!0,52,8)},o.prototype.readDoubleBE=function(A,k){return A=A>>>0,k||K(A,8,this.length),m.read(this,A,!1,52,8)};function J(U,A,k,ee,he,we){if(!o.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>he||A<we)throw new RangeError('"value" argument is out of bounds');if(k+ee>U.length)throw new RangeError("Index out of range")}o.prototype.writeUIntLE=function(A,k,ee,he){if(A=+A,k=k>>>0,ee=ee>>>0,!he){var we=Math.pow(2,8*ee)-1;J(this,A,k,ee,we,0)}var pe=1,Ce=0;for(this[k]=A&255;++Ce<ee&&(pe*=256);)this[k+Ce]=A/pe&255;return k+ee},o.prototype.writeUIntBE=function(A,k,ee,he){if(A=+A,k=k>>>0,ee=ee>>>0,!he){var we=Math.pow(2,8*ee)-1;J(this,A,k,ee,we,0)}var pe=ee-1,Ce=1;for(this[k+pe]=A&255;--pe>=0&&(Ce*=256);)this[k+pe]=A/Ce&255;return k+ee},o.prototype.writeUInt8=function(A,k,ee){return A=+A,k=k>>>0,ee||J(this,A,k,1,255,0),this[k]=A&255,k+1},o.prototype.writeUInt16LE=function(A,k,ee){return A=+A,k=k>>>0,ee||J(this,A,k,2,65535,0),this[k]=A&255,this[k+1]=A>>>8,k+2},o.prototype.writeUInt16BE=function(A,k,ee){return A=+A,k=k>>>0,ee||J(this,A,k,2,65535,0),this[k]=A>>>8,this[k+1]=A&255,k+2},o.prototype.writeUInt32LE=function(A,k,ee){return A=+A,k=k>>>0,ee||J(this,A,k,4,4294967295,0),this[k+3]=A>>>24,this[k+2]=A>>>16,this[k+1]=A>>>8,this[k]=A&255,k+4},o.prototype.writeUInt32BE=function(A,k,ee){return A=+A,k=k>>>0,ee||J(this,A,k,4,4294967295,0),this[k]=A>>>24,this[k+1]=A>>>16,this[k+2]=A>>>8,this[k+3]=A&255,k+4},o.prototype.writeIntLE=function(A,k,ee,he){if(A=+A,k=k>>>0,!he){var we=Math.pow(2,8*ee-1);J(this,A,k,ee,we-1,-we)}var pe=0,Ce=1,Me=0;for(this[k]=A&255;++pe<ee&&(Ce*=256);)A<0&&Me===0&&this[k+pe-1]!==0&&(Me=1),this[k+pe]=(A/Ce>>0)-Me&255;return k+ee},o.prototype.writeIntBE=function(A,k,ee,he){if(A=+A,k=k>>>0,!he){var we=Math.pow(2,8*ee-1);J(this,A,k,ee,we-1,-we)}var pe=ee-1,Ce=1,Me=0;for(this[k+pe]=A&255;--pe>=0&&(Ce*=256);)A<0&&Me===0&&this[k+pe+1]!==0&&(Me=1),this[k+pe]=(A/Ce>>0)-Me&255;return k+ee},o.prototype.writeInt8=function(A,k,ee){return A=+A,k=k>>>0,ee||J(this,A,k,1,127,-128),A<0&&(A=255+A+1),this[k]=A&255,k+1},o.prototype.writeInt16LE=function(A,k,ee){return A=+A,k=k>>>0,ee||J(this,A,k,2,32767,-32768),this[k]=A&255,this[k+1]=A>>>8,k+2},o.prototype.writeInt16BE=function(A,k,ee){return A=+A,k=k>>>0,ee||J(this,A,k,2,32767,-32768),this[k]=A>>>8,this[k+1]=A&255,k+2},o.prototype.writeInt32LE=function(A,k,ee){return A=+A,k=k>>>0,ee||J(this,A,k,4,2147483647,-2147483648),this[k]=A&255,this[k+1]=A>>>8,this[k+2]=A>>>16,this[k+3]=A>>>24,k+4},o.prototype.writeInt32BE=function(A,k,ee){return A=+A,k=k>>>0,ee||J(this,A,k,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[k]=A>>>24,this[k+1]=A>>>16,this[k+2]=A>>>8,this[k+3]=A&255,k+4};function le(U,A,k,ee,he,we){if(k+ee>U.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function se(U,A,k,ee,he){return A=+A,k=k>>>0,he||le(U,A,k,4,34028234663852886e22,-34028234663852886e22),m.write(U,A,k,ee,23,4),k+4}o.prototype.writeFloatLE=function(A,k,ee){return se(this,A,k,!0,ee)},o.prototype.writeFloatBE=function(A,k,ee){return se(this,A,k,!1,ee)};function _e(U,A,k,ee,he){return A=+A,k=k>>>0,he||le(U,A,k,8,17976931348623157e292,-17976931348623157e292),m.write(U,A,k,ee,52,8),k+8}o.prototype.writeDoubleLE=function(A,k,ee){return _e(this,A,k,!0,ee)},o.prototype.writeDoubleBE=function(A,k,ee){return _e(this,A,k,!1,ee)},o.prototype.copy=function(A,k,ee,he){if(!o.isBuffer(A))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!he&&he!==0&&(he=this.length),k>=A.length&&(k=A.length),k||(k=0),he>0&&he<ee&&(he=ee),he===ee||A.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),A.length-k<he-ee&&(he=A.length-k+ee);var we=he-ee;if(this===A&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(k,ee,he);else if(this===A&&ee<k&&k<he)for(var pe=we-1;pe>=0;--pe)A[pe+k]=this[pe+ee];else Uint8Array.prototype.set.call(A,this.subarray(ee,he),k);return we},o.prototype.fill=function(A,k,ee,he){if(typeof A=="string"){if(typeof k=="string"?(he=k,k=0,ee=this.length):typeof ee=="string"&&(he=ee,ee=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!o.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(A.length===1){var we=A.charCodeAt(0);(he==="utf8"&&we<128||he==="latin1")&&(A=we)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(k<0||this.length<k||this.length<ee)throw new RangeError("Out of range index");if(ee<=k)return this;k=k>>>0,ee=ee===void 0?this.length:ee>>>0,A||(A=0);var pe;if(typeof A=="number")for(pe=k;pe<ee;++pe)this[pe]=A;else{var Ce=o.isBuffer(A)?A:o.from(A,he),Me=Ce.length;if(Me===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(pe=0;pe<ee-k;++pe)this[pe+k]=Ce[pe%Me]}return this};var ge=/[^+/0-9A-Za-z-_]/g;function Ee(U){if(U=U.split("=")[0],U=U.trim().replace(ge,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function ae(U,A){A=A||1/0;for(var k,ee=U.length,he=null,we=[],pe=0;pe<ee;++pe){if(k=U.charCodeAt(pe),k>55295&&k<57344){if(!he){if(k>56319){(A-=3)>-1&&we.push(239,191,189);continue}else if(pe+1===ee){(A-=3)>-1&&we.push(239,191,189);continue}he=k;continue}if(k<56320){(A-=3)>-1&&we.push(239,191,189),he=k;continue}k=(he-55296<<10|k-56320)+65536}else he&&(A-=3)>-1&&we.push(239,191,189);if(he=null,k<128){if((A-=1)<0)break;we.push(k)}else if(k<2048){if((A-=2)<0)break;we.push(k>>6|192,k&63|128)}else if(k<65536){if((A-=3)<0)break;we.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((A-=4)<0)break;we.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return we}function oe(U){for(var A=[],k=0;k<U.length;++k)A.push(U.charCodeAt(k)&255);return A}function Q(U,A){for(var k,ee,he,we=[],pe=0;pe<U.length&&!((A-=2)<0);++pe)k=U.charCodeAt(pe),ee=k>>8,he=k%256,we.push(he),we.push(ee);return we}function Z(U){return c.toByteArray(Ee(U))}function z(U,A,k,ee){for(var he=0;he<ee&&!(he+k>=A.length||he>=U.length);++he)A[he+k]=U[he];return he}function $(U,A){return U instanceof A||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===A.name}function O(U){return U!==U}var B=function(){for(var U="0123456789abcdef",A=new Array(256),k=0;k<16;++k)for(var ee=k*16,he=0;he<16;++he)A[ee+he]=U[k]+U[he];return A}()}).call(this,n("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(n,a,s){var u=n("buffer").Buffer;a.exports=function(c,m){if(u.isBuffer(c)&&u.isBuffer(m)){if(typeof c.equals=="function")return c.equals(m);if(c.length!==m.length)return!1;for(var _=0;_<c.length;_++)if(c[_]!==m[_])return!1;return!0}}},{buffer:48}],50:[function(n,a,s){a.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],51:[function(n,a,s){(function(u){function c(E){return Array.isArray?Array.isArray(E):w(E)==="[object Array]"}s.isArray=c;function m(E){return typeof E=="boolean"}s.isBoolean=m;function _(E){return E===null}s.isNull=_;function f(E){return E==null}s.isNullOrUndefined=f;function h(E){return typeof E=="number"}s.isNumber=h;function l(E){return typeof E=="string"}s.isString=l;function o(E){return typeof E=="symbol"}s.isSymbol=o;function i(E){return E===void 0}s.isUndefined=i;function g(E){return w(E)==="[object RegExp]"}s.isRegExp=g;function y(E){return typeof E=="object"&&E!==null}s.isObject=y;function d(E){return w(E)==="[object Date]"}s.isDate=d;function v(E){return w(E)==="[object Error]"||E instanceof Error}s.isError=v;function p(E){return typeof E=="function"}s.isFunction=p;function b(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||typeof E>"u"}s.isPrimitive=b,s.isBuffer=u.isBuffer;function w(E){return Object.prototype.toString.call(E)}}).call(this,{isBuffer:n("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(n,a,s){var u=Object.create||T,c=Object.keys||M,m=Function.prototype.bind||P;function _(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=u(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}a.exports=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._maxListeners=void 0;var f=10,h;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),h=l.x===0}catch{h=!1}h?Object.defineProperty(_,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(N){if(typeof N!="number"||N<0||N!==N)throw new TypeError('"defaultMaxListeners" must be a positive number');f=N}}):_.defaultMaxListeners=f,_.prototype.setMaxListeners=function(G){if(typeof G!="number"||G<0||isNaN(G))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=G,this};function o(N){return N._maxListeners===void 0?_.defaultMaxListeners:N._maxListeners}_.prototype.getMaxListeners=function(){return o(this)};function i(N,G,V){if(G)N.call(V);else for(var H=N.length,R=C(N,H),j=0;j<H;++j)R[j].call(V)}function g(N,G,V,H){if(G)N.call(V,H);else for(var R=N.length,j=C(N,R),Y=0;Y<R;++Y)j[Y].call(V,H)}function y(N,G,V,H,R){if(G)N.call(V,H,R);else for(var j=N.length,Y=C(N,j),ne=0;ne<j;++ne)Y[ne].call(V,H,R)}function d(N,G,V,H,R,j){if(G)N.call(V,H,R,j);else for(var Y=N.length,ne=C(N,Y),re=0;re<Y;++re)ne[re].call(V,H,R,j)}function v(N,G,V,H){if(G)N.apply(V,H);else for(var R=N.length,j=C(N,R),Y=0;Y<R;++Y)j[Y].apply(V,H)}_.prototype.emit=function(G){var V,H,R,j,Y,ne,re=G==="error";if(ne=this._events,ne)re=re&&ne.error==null;else if(!re)return!1;if(re){if(arguments.length>1&&(V=arguments[1]),V instanceof Error)throw V;var ie=new Error('Unhandled "error" event. ('+V+")");throw ie.context=V,ie;return!1}if(H=ne[G],!H)return!1;var W=typeof H=="function";switch(R=arguments.length,R){case 1:i(H,W,this);break;case 2:g(H,W,this,arguments[1]);break;case 3:y(H,W,this,arguments[1],arguments[2]);break;case 4:d(H,W,this,arguments[1],arguments[2],arguments[3]);break;default:for(j=new Array(R-1),Y=1;Y<R;Y++)j[Y-1]=arguments[Y];v(H,W,this,j)}return!0};function p(N,G,V,H){var R,j,Y;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(j=N._events,j?(j.newListener&&(N.emit("newListener",G,V.listener?V.listener:V),j=N._events),Y=j[G]):(j=N._events=u(null),N._eventsCount=0),!Y)Y=j[G]=V,++N._eventsCount;else if(typeof Y=="function"?Y=j[G]=H?[V,Y]:[Y,V]:H?Y.unshift(V):Y.push(V),!Y.warned&&(R=o(N),R&&R>0&&Y.length>R)){Y.warned=!0;var ne=new Error("Possible EventEmitter memory leak detected. "+Y.length+' "'+String(G)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');ne.name="MaxListenersExceededWarning",ne.emitter=N,ne.type=G,ne.count=Y.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",ne.name,ne.message)}return N}_.prototype.addListener=function(G,V){return p(this,G,V,!1)},_.prototype.on=_.prototype.addListener,_.prototype.prependListener=function(G,V){return p(this,G,V,!0)};function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var N=new Array(arguments.length),G=0;G<N.length;++G)N[G]=arguments[G];this.listener.apply(this.target,N)}}function w(N,G,V){var H={fired:!1,wrapFn:void 0,target:N,type:G,listener:V},R=m.call(b,H);return R.listener=V,H.wrapFn=R,R}_.prototype.once=function(G,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.on(G,w(this,G,V)),this},_.prototype.prependOnceListener=function(G,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(G,w(this,G,V)),this},_.prototype.removeListener=function(G,V){var H,R,j,Y,ne;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(R=this._events,!R)return this;if(H=R[G],!H)return this;if(H===V||H.listener===V)--this._eventsCount===0?this._events=u(null):(delete R[G],R.removeListener&&this.emit("removeListener",G,H.listener||V));else if(typeof H!="function"){for(j=-1,Y=H.length-1;Y>=0;Y--)if(H[Y]===V||H[Y].listener===V){ne=H[Y].listener,j=Y;break}if(j<0)return this;j===0?H.shift():S(H,j),H.length===1&&(R[G]=H[0]),R.removeListener&&this.emit("removeListener",G,ne||V)}return this},_.prototype.removeAllListeners=function(G){var V,H,R;if(H=this._events,!H)return this;if(!H.removeListener)return arguments.length===0?(this._events=u(null),this._eventsCount=0):H[G]&&(--this._eventsCount===0?this._events=u(null):delete H[G]),this;if(arguments.length===0){var j=c(H),Y;for(R=0;R<j.length;++R)Y=j[R],Y!=="removeListener"&&this.removeAllListeners(Y);return this.removeAllListeners("removeListener"),this._events=u(null),this._eventsCount=0,this}if(V=H[G],typeof V=="function")this.removeListener(G,V);else if(V)for(R=V.length-1;R>=0;R--)this.removeListener(G,V[R]);return this};function E(N,G,V){var H=N._events;if(!H)return[];var R=H[G];return R?typeof R=="function"?V?[R.listener||R]:[R]:V?I(R):C(R,R.length):[]}_.prototype.listeners=function(G){return E(this,G,!0)},_.prototype.rawListeners=function(G){return E(this,G,!1)},_.listenerCount=function(N,G){return typeof N.listenerCount=="function"?N.listenerCount(G):D.call(N,G)},_.prototype.listenerCount=D;function D(N){var G=this._events;if(G){var V=G[N];if(typeof V=="function")return 1;if(V)return V.length}return 0}_.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function S(N,G){for(var V=G,H=V+1,R=N.length;H<R;V+=1,H+=1)N[V]=N[H];N.pop()}function C(N,G){for(var V=new Array(G),H=0;H<G;++H)V[H]=N[H];return V}function I(N){for(var G=new Array(N.length),V=0;V<G.length;++V)G[V]=N[V].listener||N[V];return G}function T(N){var G=function(){};return G.prototype=N,new G}function M(N){var G=[];for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&G.push(V);return V}function P(N){var G=this;return function(){return G.apply(N,arguments)}}},{}],53:[function(n,a,s){var u=n("./lib/parser");function c(){return(0,eval)("this")}a.exports={create:function(m,_){if(_=_||c(),m instanceof _.ArrayBuffer){var f=n("./lib/dom-bufferstream");return new u(new f(m,0,m.byteLength,!0,_))}else{var h=n("./lib/bufferstream");return new u(new h(m,0,m.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(n,a,s){function u(c,m,_,f){this.buffer=c,this.offset=m||0,_=typeof _=="number"?_:c.length,this.endPosition=this.offset+_,this.setBigEndian(f)}u.prototype={setBigEndian:function(c){this.bigEndian=!!c},nextUInt8:function(){var c=this.buffer.readUInt8(this.offset);return this.offset+=1,c},nextInt8:function(){var c=this.buffer.readInt8(this.offset);return this.offset+=1,c},nextUInt16:function(){var c=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,c},nextUInt32:function(){var c=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,c},nextInt16:function(){var c=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,c},nextInt32:function(){var c=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,c},nextFloat:function(){var c=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,c},nextDouble:function(){var c=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,c},nextBuffer:function(c){var m=this.buffer.slice(this.offset,this.offset+c);return this.offset+=c,m},remainingLength:function(){return this.endPosition-this.offset},nextString:function(c){var m=this.buffer.toString("utf8",this.offset,this.offset+c);return this.offset+=c,m},mark:function(){var c=this;return{openWithOffset:function(m){return m=(m||0)+this.offset,new u(c.buffer,m,c.endPosition-m,c.bigEndian)},offset:this.offset}},offsetFrom:function(c){return this.offset-c.offset},skip:function(c){this.offset+=c},branch:function(c,m){return m=typeof m=="number"?m:this.endPosition-(this.offset+c),new u(this.buffer,this.offset+c,m,this.bigEndian)}},a.exports=u},{}],55:[function(n,a,s){function u(o){return parseInt(o,10)}var c=3600,m=60;function _(o,i){o=o.map(u),i=i.map(u);var g=o[0],y=o[1]-1,d=o[2],v=i[0],p=i[1],b=i[2],w=Date.UTC(g,y,d,v,p,b,0),E=w/1e3;return E}function f(o){var i=o.substr(0,10).split("-"),g=o.substr(11,8).split(":"),y=o.substr(19,6),d=y.split(":").map(u),v=d[0]*c+d[1]*m,p=_(i,g);if(p-=v,typeof p=="number"&&!isNaN(p))return p}function h(o){var i=o.split(" "),g=i[0].split(":"),y=i[1].split(":"),d=_(g,y);if(typeof d=="number"&&!isNaN(d))return d}function l(o){var i=o.length===19&&o.charAt(4)===":",g=o.length===25&&o.charAt(10)==="T",y;if(g)return f(o);if(i)return h(o)}a.exports={parseDateWithSpecFormat:h,parseDateWithTimezoneFormat:f,parseExifDate:l}},{}],56:[function(n,a,s){function u(c,m,_,f,h,l){this.global=h,m=m||0,_=_||c.byteLength-m,this.arrayBuffer=c.slice(m,m+_),this.view=new h.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(f),this.offset=0,this.parentOffset=(l||0)+m}u.prototype={setBigEndian:function(c){this.littleEndian=!c},nextUInt8:function(){var c=this.view.getUint8(this.offset);return this.offset+=1,c},nextInt8:function(){var c=this.view.getInt8(this.offset);return this.offset+=1,c},nextUInt16:function(){var c=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,c},nextUInt32:function(){var c=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,c},nextInt16:function(){var c=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,c},nextInt32:function(){var c=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,c},nextFloat:function(){var c=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,c},nextDouble:function(){var c=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,c},nextBuffer:function(c){var m=this.arrayBuffer.slice(this.offset,this.offset+c);return this.offset+=c,m},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(c){var m=this.arrayBuffer.slice(this.offset,this.offset+c);return m=String.fromCharCode.apply(null,new this.global.Uint8Array(m)),this.offset+=c,m},mark:function(){var c=this;return{openWithOffset:function(m){return m=(m||0)+this.offset,new u(c.arrayBuffer,m,c.arrayBuffer.byteLength-m,!c.littleEndian,c.global,c.parentOffset)},offset:this.offset,getParentOffset:function(){return c.parentOffset}}},offsetFrom:function(c){return this.parentOffset+this.offset-(c.offset+c.getParentOffset())},skip:function(c){this.offset+=c},branch:function(c,m){return m=typeof m=="number"?m:this.arrayBuffer.byteLength-(this.offset+c),new u(this.arrayBuffer,this.offset+c,m,!this.littleEndian,this.global,this.parentOffset)}},a.exports=u},{}],57:[function(n,a,s){a.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(n,a,s){function u(h,l){switch(h){case 1:return l.nextUInt8();case 3:return l.nextUInt16();case 4:return l.nextUInt32();case 5:return[l.nextUInt32(),l.nextUInt32()];case 6:return l.nextInt8();case 8:return l.nextUInt16();case 9:return l.nextUInt32();case 10:return[l.nextInt32(),l.nextInt32()];case 11:return l.nextFloat();case 12:return l.nextDouble();default:throw new Error("Invalid format while decoding: "+h)}}function c(h){switch(h){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function m(h,l){var o=l.nextUInt16(),i=l.nextUInt16(),g=c(i),y=l.nextUInt32(),d=g*y,v,p,b;if(d>4&&(l=h.openWithOffset(l.nextUInt32())),i===2){v=l.nextString(y);var w=v.indexOf("\0");w!==-1&&(v=v.substr(0,w))}else if(i===7)v=l.nextBuffer(y);else if(i!==0)for(v=[],b=0;b<y;++b)v.push(u(i,l));return d<4&&l.skip(4-d),[o,v,i]}function _(h,l,o){var i=l.nextUInt16(),g,y;for(y=0;y<i;++y)g=m(h,l),o(g[0],g[1],g[2])}function f(h){var l=h.nextString(6);if(l!=="Exif\0\0")throw new Error("Invalid EXIF header");var o=h.mark(),i=h.nextUInt16();if(i===18761)h.setBigEndian(!1);else if(i===19789)h.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(h.nextUInt16()!==42)throw new Error("Invalid TIFF data");return o}a.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(h,l){var o;try{o=f(h)}catch{return!1}var i,g,y,d=o.openWithOffset(h.nextUInt32()),v=this.IFD0;_(o,d,function(C,I,T){switch(C){case 34853:g=I[0];break;case 34665:i=I[0];break;default:l(v,C,I,T);break}});var p=d.nextUInt32();if(p!==0){var b=o.openWithOffset(p);_(o,b,l.bind(null,this.IFD1))}if(g){var w=o.openWithOffset(g);_(o,w,l.bind(null,this.GPSIFD))}if(i){var E=o.openWithOffset(i),D=this.InteropIFD;_(o,E,function(C,I,T){C===40965?y=I[0]:l(D,C,I,T)})}if(y){var S=o.openWithOffset(y);_(o,S,l.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(n,a,s){a.exports={parseSections:function(u,c){var m,_;for(u.setBigEndian(!0);u.remainingLength()>0&&_!==218;){if(u.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");_=u.nextUInt8(),_>=208&&_<=217||_===218?m=0:m=u.nextUInt16()-2,c(_,u.branch(0,m)),u.skip(m)}},getSizeFromSOFSection:function(u){return u.skip(1),{height:u.nextUInt16(),width:u.nextUInt16()}},getSectionName:function(u){var c,m;switch(u){case 216:c="SOI";break;case 196:c="DHT";break;case 219:c="DQT";break;case 221:c="DRI";break;case 218:c="SOS";break;case 254:c="COM";break;case 217:c="EOI";break;default:u>=224&&u<=239?(c="APP",m=u-224):u>=192&&u<=207&&u!==196&&u!==200&&u!==204?(c="SOF",m=u-192):u>=208&&u<=215&&(c="RST",m=u-208);break}var _={name:c};return typeof m=="number"&&(_.index=m),_}}},{}],60:[function(n,a,s){var u=n("./jpeg"),c=n("./exif"),m=n("./simplify");function _(h,l,o,i,g,y,d){this.startMarker=h,this.tags=l,this.imageSize=o,this.thumbnailOffset=i,this.thumbnailLength=g,this.thumbnailType=y,this.app1Offset=d}_.prototype={hasThumbnail:function(h){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof h!="string"?!0:h.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:h.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var h=this._getThumbnailStream(),l;return u.parseSections(h,function(o,i){u.getSectionName(o).name==="SOF"&&(l=u.getSizeFromSOFSection(i))}),l}};function f(h){this.stream=h,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}f.prototype={enableBinaryFields:function(h){return this.flags.readBinaryTags=!!h,this},enablePointers:function(h){return this.flags.hidePointers=!h,this},enableTagNames:function(h){return this.flags.resolveTagNames=!!h,this},enableImageSize:function(h){return this.flags.imageSize=!!h,this},enableReturnTags:function(h){return this.flags.returnTags=!!h,this},enableSimpleValues:function(h){return this.flags.simplifyValues=!!h,this},parse:function(){var h=this.stream.mark(),l=h.openWithOffset(0),o=this.flags,i,g,y,d,v,p,b,w,E;return o.resolveTagNames&&(b=n("./exif-tags")),o.resolveTagNames?(i={},w=function(D){return i[D.name]},E=function(D,S){i[D.name]=S}):(i=[],w=function(D){var S;for(S=0;S<i.length;++S)if(i[S].type===D.type&&i[S].section===D.section)return i.value},E=function(D,S){var C;for(C=0;C<i.length;++C)if(i[C].type===D.type&&i[C].section===D.section){i.value=S;return}}),u.parseSections(l,function(D,S){var C,I=S.offsetFrom(h);D===225?(C=c.parseTags(S,function(T,M,P,N){if(!(!o.readBinaryTags&&N===7)){if(M===513){if(y=P[0],o.hidePointers)return}else if(M===514){if(d=P[0],o.hidePointers)return}else if(M===259&&(v=P[0],o.hidePointers))return;if(o.returnTags)if(o.simplifyValues&&(P=m.simplifyValue(P,N)),o.resolveTagNames){var G=T===c.GPSIFD?b.gps:b.exif,V=G[M];V||(V=b.exif[M]),i.hasOwnProperty(V)||(i[V]=P)}else i.push({section:T,type:M,value:P})}}),C&&(p=I)):o.imageSize&&u.getSectionName(D).name==="SOF"&&(g=u.getSizeFromSOFSection(S))}),o.simplifyValues&&(m.castDegreeValues(w,E),m.castDateValues(w,E)),new _(h,i,g,y,d,v,p)}},a.exports=f},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(n,a,s){var u=n("./exif"),c=n("./date"),m=[{section:u.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:u.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],_=[{section:u.SubIFD,type:306,name:"ModifyDate"},{section:u.SubIFD,type:36867,name:"DateTimeOriginal"},{section:u.SubIFD,type:36868,name:"CreateDate"},{section:u.SubIFD,type:306,name:"ModifyDate"}];a.exports={castDegreeValues:function(f,h){m.forEach(function(l){var o=f(l);if(o){var i=f({section:l.section,type:l.refType,name:l.refName}),g=i===l.posVal?1:-1,y=(o[0]+o[1]/60+o[2]/3600)*g;h(l,y)}})},castDateValues:function(f,h){_.forEach(function(l){var o=f(l);if(o){var i=c.parseExifDate(o);typeof i<"u"&&h(l,i)}})},simplifyValue:function(f,h){return Array.isArray(f)&&(f=f.map(function(l){return h===10||h===5?l[0]/l[1]:l}),f.length===1&&(f=f[0])),f}}},{"./date":55,"./exif":58}],62:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireDefault"),c=u(n("@babel/runtime/helpers/toConsumableArray")),m=function(o){return(0,c.default)(o).map(function(i){return i.charCodeAt(0)})},_=m("META-INF/mozilla.rsa"),f=m("[Content_Types].xml"),h=m("_rels/.rels");a.exports=function(l){var o=l instanceof Uint8Array?l:new Uint8Array(l);if(!(o&&o.length>1))return null;var i=function(T,M){M=Object.assign({offset:0},M);for(var P=0;P<T.length;P++)if(M.mask){if(T[P]!==(M.mask[P]&o[P+M.offset]))return!1}else if(T[P]!==o[P+M.offset])return!1;return!0},g=function(T,M){return i(m(T),M)};if(i([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(i([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(i([71,73,70]))return{ext:"gif",mime:"image/gif"};if(i([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(i([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((i([73,73,42,0])||i([77,77,0,42]))&&i([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(i([73,73,42,0])||i([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(i([66,77]))return{ext:"bmp",mime:"image/bmp"};if(i([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(i([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(i([80,75,3,4])){if(i([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(i(_,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(g("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(g("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(g("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var y=function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return T.findIndex(function(P,N,G){return N>=M&&G[N]===80&&G[N+1]===75&&G[N+2]===3&&G[N+3]===4})},d=0,v=!1,p=null;do{var b=d+30;if(v||(v=i(f,{offset:b})||i(h,{offset:b})),p||(g("word/",{offset:b})?p={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:g("ppt/",{offset:b})?p={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:g("xl/",{offset:b})&&(p={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),v&&p)return p;d=y(o,b)}while(d>=0);if(p)return p}if(i([80,75])&&(o[2]===3||o[2]===5||o[2]===7)&&(o[3]===4||o[3]===6||o[3]===8))return{ext:"zip",mime:"application/zip"};if(i([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(i([82,97,114,33,26,7])&&(o[6]===0||o[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(i([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(i([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(i([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(i([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(i([51,103,112,53])||i([0,0,0])&&i([102,116,121,112],{offset:4})&&(i([109,112,52,49],{offset:8})||i([109,112,52,50],{offset:8})||i([105,115,111,109],{offset:8})||i([105,115,111,50],{offset:8})||i([109,109,112,52],{offset:8})||i([77,52,86],{offset:8})||i([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(i([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(i([26,69,223,163])){var w=o.subarray(4,4100),E=w.findIndex(function(I,T,M){return M[T]===66&&M[T+1]===130});if(E!==-1){var D=E+3,S=function(T){return(0,c.default)(T).every(function(M,P){return w[D+P]===M.charCodeAt(0)})};if(S("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(S("webm"))return{ext:"webm",mime:"video/webm"}}}if(i([0,0,0,20,102,116,121,112,113,116,32,32])||i([102,114,101,101],{offset:4})||i([102,116,121,112,113,116,32,32],{offset:4})||i([109,100,97,116],{offset:4})||i([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(i([82,73,70,70])){if(i([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(i([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(i([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(i([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(i([0,0,1,186])||i([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(i([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var C=0;C<2&&C<o.length-16;C++){if(i([73,68,51],{offset:C})||i([255,226],{offset:C,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(i([255,228],{offset:C,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(i([255,248],{offset:C,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(i([255,240],{offset:C,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(i([102,116,121,112,77,52,65],{offset:4})||i([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(i([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(i([79,103,103,83]))return i([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:i([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:i([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:i([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:i([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(i([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(i([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(i([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(i([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(i([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(i([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((o[0]===67||o[0]===70)&&i([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(i([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(i([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(i([119,79,70,70])&&(i([0,1,0,0],{offset:4})||i([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(i([119,79,70,50])&&(i([0,1,0,0],{offset:4})||i([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(i([76,80],{offset:34})&&(i([0,0,1],{offset:8})||i([1,0,2],{offset:8})||i([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(i([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(i([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(i([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(i([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(i([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(i([37,33]))return{ext:"ps",mime:"application/postscript"};if(i([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(i([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(i([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(i([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(i([77,83,67,70])||i([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(i([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(i([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(i([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(i([31,160])||i([31,157]))return{ext:"Z",mime:"application/x-compress"};if(i([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(i([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(i([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(i([71],{offset:4})&&(i([71],{offset:192})||i([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(i([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(i([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(i([0,0,0,12,106,80,32,32,13,10,135,10])){if(i([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(i([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(i([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(i([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(i([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(g("<?xml "))return{ext:"xml",mime:"application/xml"};if(i([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(i([102,116,121,112],{offset:4})){if(i([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(i([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(i([104,101,105,99],{offset:8})||i([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(i([104,101,118,99],{offset:8})||i([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return i([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(n,a,s){"use strict";var u=n("is-callable"),c=Object.prototype.toString,m=Object.prototype.hasOwnProperty,_=function(i,g,y){for(var d=0,v=i.length;d<v;d++)m.call(i,d)&&(y==null?g(i[d],d,i):g.call(y,i[d],d,i))},f=function(i,g,y){for(var d=0,v=i.length;d<v;d++)y==null?g(i.charAt(d),d,i):g.call(y,i.charAt(d),d,i)},h=function(i,g,y){for(var d in i)m.call(i,d)&&(y==null?g(i[d],d,i):g.call(y,i[d],d,i))},l=function(i,g,y){if(!u(g))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=y),c.call(i)==="[object Array]"?_(i,g,d):typeof i=="string"?f(i,g,d):h(i,g,d)};a.exports=l},{"is-callable":77}],64:[function(n,a,s){"use strict";function u(f,h,l,g){var i=0,g=g===void 0?{}:g,y=g.loop===void 0?null:g.loop,d=g.palette===void 0?null:g.palette;if(h<=0||l<=0||h>65535||l>65535)throw new Error("Width/Height invalid.");function v(I){var T=I.length;if(T<2||T>256||T&T-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return T}f[i++]=71,f[i++]=73,f[i++]=70,f[i++]=56,f[i++]=57,f[i++]=97;var p=0,b=0;if(d!==null){for(var w=v(d);w>>=1;)++p;if(w=1<<p,--p,g.background!==void 0){if(b=g.background,b>=w)throw new Error("Background index out of range.");if(b===0)throw new Error("Background index explicitly passed as 0.")}}if(f[i++]=h&255,f[i++]=h>>8&255,f[i++]=l&255,f[i++]=l>>8&255,f[i++]=(d!==null?128:0)|p,f[i++]=b,f[i++]=0,d!==null)for(var E=0,D=d.length;E<D;++E){var S=d[E];f[i++]=S>>16&255,f[i++]=S>>8&255,f[i++]=S&255}if(y!==null){if(y<0||y>65535)throw new Error("Loop count invalid.");f[i++]=33,f[i++]=255,f[i++]=11,f[i++]=78,f[i++]=69,f[i++]=84,f[i++]=83,f[i++]=67,f[i++]=65,f[i++]=80,f[i++]=69,f[i++]=50,f[i++]=46,f[i++]=48,f[i++]=3,f[i++]=1,f[i++]=y&255,f[i++]=y>>8&255,f[i++]=0}var C=!1;this.addFrame=function(I,T,M,P,N,G){if(C===!0&&(--i,C=!1),G=G===void 0?{}:G,I<0||T<0||I>65535||T>65535)throw new Error("x/y invalid.");if(M<=0||P<=0||M>65535||P>65535)throw new Error("Width/Height invalid.");if(N.length<M*P)throw new Error("Not enough pixels for the frame size.");var V=!0,H=G.palette;if(H==null&&(V=!1,H=d),H==null)throw new Error("Must supply either a local or global palette.");for(var R=v(H),j=0;R>>=1;)++j;R=1<<j;var Y=G.delay===void 0?0:G.delay,ne=G.disposal===void 0?0:G.disposal;if(ne<0||ne>3)throw new Error("Disposal out of range.");var re=!1,ie=0;if(G.transparent!==void 0&&G.transparent!==null&&(re=!0,ie=G.transparent,ie<0||ie>=R))throw new Error("Transparent color index.");if((ne!==0||re||Y!==0)&&(f[i++]=33,f[i++]=249,f[i++]=4,f[i++]=ne<<2|(re===!0?1:0),f[i++]=Y&255,f[i++]=Y>>8&255,f[i++]=ie,f[i++]=0),f[i++]=44,f[i++]=I&255,f[i++]=I>>8&255,f[i++]=T&255,f[i++]=T>>8&255,f[i++]=M&255,f[i++]=M>>8&255,f[i++]=P&255,f[i++]=P>>8&255,f[i++]=V===!0?128|j-1:0,V===!0)for(var W=0,q=H.length;W<q;++W){var te=H[W];f[i++]=te>>16&255,f[i++]=te>>8&255,f[i++]=te&255}return i=c(f,i,j<2?2:j,N),i},this.end=function(){return C===!1&&(f[i++]=59,C=!0),i},this.getOutputBuffer=function(){return f},this.setOutputBuffer=function(I){f=I},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(I){i=I}}function c(f,h,l,o){f[h++]=l;var i=h++,g=1<<l,y=g-1,d=g+1,v=d+1,p=l+1,b=0,w=0;function E(G){for(;b>=G;)f[h++]=w&255,w>>=8,b-=8,h===i+256&&(f[i]=255,i=h++)}function D(G){w|=G<<b,b+=p,E(8)}var S=o[0]&y,C={};D(g);for(var I=1,T=o.length;I<T;++I){var M=o[I]&y,P=S<<8|M,N=C[P];if(N===void 0){for(w|=S<<b,b+=p;b>=8;)f[h++]=w&255,w>>=8,b-=8,h===i+256&&(f[i]=255,i=h++);v===4096?(D(g),v=d+1,p=l+1,C={}):(v>=1<<p&&++p,C[P]=v++),S=M}else S=N}return D(S),D(d),E(1),i+1===h?f[i]=0:(f[i]=h-i-1,f[h++]=0),h}function m(f){var h=0;if(f[h++]!==71||f[h++]!==73||f[h++]!==70||f[h++]!==56||(f[h++]+1&253)!==56||f[h++]!==97)throw new Error("Invalid GIF 87a/89a header.");var l=f[h++]|f[h++]<<8,o=f[h++]|f[h++]<<8,i=f[h++],g=i>>7,y=i&7,d=1<<y+1,v=f[h++];f[h++];var p=null,b=null;g&&(p=h,b=d,h+=d*3);var w=!0,E=[],D=0,S=null,C=0,I=null;for(this.width=l,this.height=o;w&&h<f.length;)switch(f[h++]){case 33:switch(f[h++]){case 255:if(f[h]!==11||f[h+1]==78&&f[h+2]==69&&f[h+3]==84&&f[h+4]==83&&f[h+5]==67&&f[h+6]==65&&f[h+7]==80&&f[h+8]==69&&f[h+9]==50&&f[h+10]==46&&f[h+11]==48&&f[h+12]==3&&f[h+13]==1&&f[h+16]==0)h+=14,I=f[h++]|f[h++]<<8,h++;else for(h+=12;;){var T=f[h++];if(!(T>=0))throw Error("Invalid block size");if(T===0)break;h+=T}break;case 249:if(f[h++]!==4||f[h+4]!==0)throw new Error("Invalid graphics extension block.");var M=f[h++];D=f[h++]|f[h++]<<8,S=f[h++],(M&1)===0&&(S=null),C=M>>2&7,h++;break;case 254:for(;;){var T=f[h++];if(!(T>=0))throw Error("Invalid block size");if(T===0)break;h+=T}break;default:throw new Error("Unknown graphic control label: 0x"+f[h-1].toString(16))}break;case 44:var P=f[h++]|f[h++]<<8,N=f[h++]|f[h++]<<8,G=f[h++]|f[h++]<<8,V=f[h++]|f[h++]<<8,H=f[h++],R=H>>7,j=H>>6&1,Y=H&7,ne=1<<Y+1,re=p,ie=b,W=!1;if(R){var W=!0;re=h,ie=ne,h+=ne*3}var q=h;for(h++;;){var T=f[h++];if(!(T>=0))throw Error("Invalid block size");if(T===0)break;h+=T}E.push({x:P,y:N,width:G,height:V,has_local_palette:W,palette_offset:re,palette_size:ie,data_offset:q,data_length:h-q,transparent_index:S,interlaced:!!j,delay:D,disposal:C});break;case 59:w=!1;break;default:throw new Error("Unknown gif block: 0x"+f[h-1].toString(16))}this.numFrames=function(){return E.length},this.loopCount=function(){return I},this.frameInfo=function(te){if(te<0||te>=E.length)throw new Error("Frame index out of range.");return E[te]},this.decodeAndBlitFrameBGRA=function(te,K){var J=this.frameInfo(te),le=J.width*J.height,se=new Uint8Array(le);_(f,J.data_offset,se,le);var _e=J.palette_offset,ge=J.transparent_index;ge===null&&(ge=256);var Ee=J.width,ae=l-Ee,oe=Ee,Q=(J.y*l+J.x)*4,Z=((J.y+J.height)*l+J.x)*4,z=Q,$=ae*4;J.interlaced===!0&&($+=l*4*7);for(var O=8,B=0,U=se.length;B<U;++B){var A=se[B];if(oe===0&&(z+=$,oe=Ee,z>=Z&&($=ae*4+l*4*(O-1),z=Q+(Ee+ae)*(O<<1),O>>=1)),A===ge)z+=4;else{var k=f[_e+A*3],ee=f[_e+A*3+1],he=f[_e+A*3+2];K[z++]=he,K[z++]=ee,K[z++]=k,K[z++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(te,K){var J=this.frameInfo(te),le=J.width*J.height,se=new Uint8Array(le);_(f,J.data_offset,se,le);var _e=J.palette_offset,ge=J.transparent_index;ge===null&&(ge=256);var Ee=J.width,ae=l-Ee,oe=Ee,Q=(J.y*l+J.x)*4,Z=((J.y+J.height)*l+J.x)*4,z=Q,$=ae*4;J.interlaced===!0&&($+=l*4*7);for(var O=8,B=0,U=se.length;B<U;++B){var A=se[B];if(oe===0&&(z+=$,oe=Ee,z>=Z&&($=ae*4+l*4*(O-1),z=Q+(Ee+ae)*(O<<1),O>>=1)),A===ge)z+=4;else{var k=f[_e+A*3],ee=f[_e+A*3+1],he=f[_e+A*3+2];K[z++]=k,K[z++]=ee,K[z++]=he,K[z++]=255}--oe}}}function _(f,h,l,o){for(var i=f[h++],g=1<<i,y=g+1,d=y+1,v=i+1,p=(1<<v)-1,b=0,w=0,E=0,D=f[h++],S=new Int32Array(4096),C=null;;){for(;b<16&&D!==0;)w|=f[h++]<<b,b+=8,D===1?D=f[h++]:--D;if(b<v)break;var I=w&p;if(w>>=v,b-=v,I===g){d=y+1,v=i+1,p=(1<<v)-1,C=null;continue}else if(I===y)break;for(var T=I<d?I:C,M=0,P=T;P>g;)P=S[P]>>8,++M;var N=P,G=E+M+(T!==I?1:0);if(G>o){console.log("Warning, gif stream longer than expected.");return}l[E++]=N,E+=M;var V=E;for(T!==I&&(l[E++]=N),P=T;M--;)P=S[P],l[--V]=P&255,P>>=8;C!==null&&d<4096&&(S[d++]=C<<8|N,d>=p+1&&v<12&&(++v,p=p<<1|1)),C=I}return E!==o&&console.log("Warning, gif stream shorter than expected."),l}try{s.GifWriter=u,s.GifReader=m}catch{}},{}],65:[function(n,a,s){(function(u){"use strict";class c{constructor(..._){if(_.length===0)throw new Error("constructor requires parameters");let f=_[0];if(f!==null&&typeof f=="object")if(f instanceof c){let h=f.bitmap;this.bitmap={width:h.width,height:h.height,data:new u(h.width*h.height*4)},h.data.copy(this.bitmap.data)}else if(f.width&&f.height&&f.data)this.bitmap=f;else throw new Error("unrecognized constructor parameters");else if(typeof f=="number"&&typeof _[1]=="number"){let h=f,l=_[1],o=_[2];this.bitmap={width:h,height:l},u.isBuffer(o)?this.bitmap.data=o:(this.bitmap.data=new u(h*l*4),typeof o=="number"&&this.fillRGBA(o))}else throw new Error("unrecognized constructor parameters")}blit(_,f,h,l,o,i,g){if(l+i>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(f+i>_.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(o+g>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(h+g>_.bitmap.height)throw new Erro("copy exceeds height of target bitmap");let y=this.bitmap.data,d=_.bitmap.data,v=this.bitmap.width*4,p=_.bitmap.width*4,b=i*4,w=o*v+l*4,E=h*p+f*4;for(;--g>=0;)y.copy(d,E,w,w+b),w+=v,E+=p;return this}fillRGBA(_){let f=this.bitmap.data,h=this.bitmap.height*4,l=0;for(;l<h;)f.writeUInt32BE(_,l),l+=4;for(;l<f.length;)f.copy(f,l,0,h),l+=h;return this}getRGBA(_,f){let h=(f*this.bitmap.width+_)*4;return this.bitmap.data.readUInt32BE(h)}getRGBASet(){let _=new Set,f=this.bitmap.data;for(let h=0;h<f.length;h+=4)_.add(f.readUInt32BE(h,!0));return _}greyscale(){let _=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(f,h,l)=>{let o=Math.round(.299*_[l]+.587*_[l+1]+.114*_[l+2]);_[l]=o,_[l+1]=o,_[l+2]=o}),this}reframe(_,f,h,l,o){let i=_<0?0:_,g=f<0?0:f,y=h+i>this.bitmap.width?this.bitmap.width-i:h,d=l+g>this.bitmap.height?this.bitmap.height-g:l,v=_<0?-_:0,p=f<0?-f:0,b;if(o===void 0){if(i!==_||g!=f||y!==h||d!==l)throw new GifError("fillRGBA required for this reframing");b=new c(h,l)}else b=new c(h,l,o);return this.blit(b,v,p,i,g,y,d),this.bitmap=b.bitmap,this}scale(_){if(_===1)return;if(!Number.isInteger(_)||_<1)throw new Error("the scale must be an integer >= 1");let f=this.bitmap.width,h=this.bitmap.height,l=f*_*4,o=this.bitmap.data,i=new u(h*l*_),g=0,y,d=0;for(let v=0;v<h;++v){y=d;for(let p=0;p<f;++p){let b=o.readUInt32BE(g,!0);for(let w=0;w<_;++w)i.writeUInt32BE(b,d),d+=4;g+=4}for(let p=1;p<_;++p)i.copy(i,d,y,d),d+=l,y+=l}return this.bitmap={width:f*_,height:h*_,data:i},this}scanAllCoords(_){let f=this.bitmap.width,h=this.bitmap.data.length,l=0,o=0;for(let i=0;i<h;i+=4)_(l,o,i),++l===f&&(l=0,++o)}scanAllIndexes(_){let f=this.bitmap.data.length;for(let h=0;h<f;h+=4)_(h)}}a.exports=c}).call(this,n("buffer").Buffer)},{buffer:48}],66:[function(n,a,s){"use strict";let u=(()=>{class m{constructor(f,h,l){this.width=l.width,this.height=l.height,this.loops=l.loops,this.usesTransparency=l.usesTransparency,this.colorScope=l.colorScope,this.frames=h,this.buffer=f}}return m.GlobalColorsPreferred=0,m.GlobalColorsOnly=1,m.LocalColorsOnly=2,m})();class c extends Error{constructor(_){super(_),_ instanceof Error&&(this.stack="Gif"+_.stack)}}s.Gif=u,s.GifError=c},{}],67:[function(n,a,s){(function(u,c){"use strict";let m=n("omggif"),{Gif:_,GifError:f}=n("./gif"),h;u.nextTick(()=>{h=n("./gifutil")});let{GifFrame:l}=n("./gifframe"),o=200,i=100;class g{constructor(I={}){this._transparentRGB=null,typeof I.transparentRGB=="number"&&I.transparentRGB!==0&&(this._transparentRGBA=I.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(I){try{let T;try{T=new m.GifReader(I)}catch(G){throw new f(G)}let M=T.numFrames(),P=[],N={width:T.width,height:T.height,loops:T.loopCount()};N.usesTransparency=!1;for(let G=0;G<M;++G){let V=this._decodeFrame(T,G,N.usesTransparency);P.push(V.frame),V.usesTransparency&&(N.usesTransparency=!0)}return Promise.resolve(new _(I,P,N))}catch(T){return Promise.reject(T)}}encodeGif(I,T={}){try{if(I===null||I.length===0)throw new f("there are no frames");let M=h.getMaxDimensions(I);return T=Object.assign({},T),T.width=M.maxWidth,T.height=M.maxHeight,T.loops=T.loops||0,T.colorScope=T.colorScope||_.GlobalColorsPreferred,Promise.resolve(this._encodeGif(I,T))}catch(M){return Promise.reject(M)}}_decodeFrame(I,T,M){let P,N;try{if(P=I.frameInfo(T),N=new c(I.width*I.height*4),I.decodeAndBlitFrameRGBA(T,N),P.width!==I.width||P.height!==I.height){if(P.y&&(N=N.slice(P.y*I.width*4)),I.width>P.width)for(let H=0;H<P.height;++H)N.copy(N,H*P.width*4,(P.x+H*I.width)*4,(P.x+H*I.width)*4+P.width*4);N=N.slice(0,P.width*P.height*4)}}catch(H){throw new f(H)}let G=!1;if(this._transparentRGBA===null){if(!M)for(let H=3;H<N.length;H+=4)N[H]===0&&(G=!0,H=N.length)}else for(let H=3;H<N.length;H+=4)N[H]===0&&(N.writeUInt32BE(this._transparentRGBA,H-3),G=!0);return{frame:new l(P.width,P.height,N,{xOffset:P.x,yOffset:P.y,disposalMethod:P.disposal,interlaced:P.interlaced,delayCentisecs:P.delay}),usesTransparency:G}}_encodeGif(I,T){let M;if(T.colorScope===_.LocalColorsOnly)M=h.getColorInfo(I,0);else if(M=h.getColorInfo(I,256),!M.colors){if(T.colorScope===_.GlobalColorsOnly)throw new f("Too many color indexes for global color table");T.colorScope=_.LocalColorsOnly}T.usesTransparency=M.usesTransparency;let P=M.palettes;return T.colorScope===_.LocalColorsOnly?p(I,T,2e3,P):v(I,T,2e3,M)}_getSizeEstimateGlobal(I,T){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let M=o+3*256,P=D(I);return T.forEach(N=>{M+=w(N,P)}),M}_getSizeEstimateLocal(I,T){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let M=o;for(let P=0;P<T.length;++P){let N=I[P],G=D(N);M+=w(T[P],G)}return M}}s.GifCodec=g;function y(C,I){let T=C.indexOf(I);return T===-1?null:T}function d(C,I){for(var T=0,M=C.length-1,P;T<=M;)if(P=Math.floor((T+M)/2),C[P]>I)M=P-1;else if(C[P]<I)T=P+1;else return P;return null}function v(C,I,T,M){let P={colors:M.colors.slice(),usesTransparency:M.usesTransparency};b(P);let N={palette:P.colors,loop:I.loops},G=new c(T),V;try{V=new m.GifWriter(G,I.width,I.height,N)}catch(H){throw new f(H)}for(let H=0;H<C.length;++H)G=S(V,H,C[H],M,!1);return new _(G.slice(0,V.end()),C,I)}function p(C,I,T,M){let P={loop:I.loops},N=new c(T),G;try{G=new m.GifWriter(N,I.width,I.height,P)}catch(V){throw new f(V)}for(let V=0;V<C.length;++V)N=S(G,V,C[V],M[V],!0);return new _(N.slice(0,G.end()),C,I)}function b(C){let I=C.colors;C.usesTransparency&&I.push(0);let T=I.length,M=2;for(;T>M;)M<<=1;I.length=M,I.fill(0,T)}function w(C,I){let T=C.bitmap.width*C.bitmap.height;return T=Math.ceil(T*I/8),T+=Math.ceil(T/255),i+T+3*256}function E(C,I,T){let M=T.colors,P=M.length<=8?y:d,N=I.bitmap.data,G=new c(N.length/4),V=M.length,H=0,R=0;for(;H<N.length;){if(N[H+3]!==0){let j=N.readUInt32BE(H,!0)>>8&16777215;G[R]=P(M,j)}else G[R]=V;H+=4,++R}if(T.usesTransparency){if(V===256)throw new f(`Frame ${C} already has 256 colorsand so can't use transparency`)}else V=null;return{buffer:G,transparentIndex:V}}function D(C){let I=C.indexCount,T=0;for(--I;I;)++T,I>>=1;return T>0?T:1}function S(C,I,T,M,P){if(T.interlaced)throw new f("writing interlaced GIFs is not supported");let N=E(I,T,M),G={delay:T.delayCentisecs,disposal:T.disposalMethod,transparent:N.transparentIndex};P&&(b(M),G.palette=M.colors);try{let V=C.getOutputBuffer(),H=C.getOutputBufferPosition(),R,j=!0;for(;j;)if(R=C.addFrame(T.xOffset,T.yOffset,T.bitmap.width,T.bitmap.height,N.buffer,G),j=!1,R>=V.length-1){let Y=new c(V.length*1.5);V.copy(Y),C.setOutputBuffer(Y),C.setOutputBufferPosition(H),V=Y,j=!0}return V}catch(V){throw new f(V)}}}).call(this,n("_process"),n("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(n,a,s){"use strict";let u=n("./bitmapimage"),{GifError:c}=n("./gif"),m=(()=>{class _ extends u{constructor(...h){if(super(...h),h[0]instanceof _){let l=h[0];this.xOffset=l.xOffset,this.yOffset=l.yOffset,this.disposalMethod=l.disposalMethod,this.delayCentisecs=l.delayCentisecs,this.interlaced=l.interlaced}else{let l=h[h.length-1],o={};typeof l=="object"&&!(l instanceof u)&&(o=l),this.xOffset=o.xOffset||0,this.yOffset=o.yOffset||0,this.disposalMethod=o.disposalMethod!==void 0?o.disposalMethod:_.DisposeToBackgroundColor,this.delayCentisecs=o.delayCentisecs||8,this.interlaced=o.interlaced||!1}}getPalette(){let h=new Set,l=this.bitmap.data,o=0,i=!1;for(;o<l.length;){if(l[o+3]===0)i=!0;else{let v=l.readUInt32BE(o,!0)>>8&16777215;h.add(v)}o+=4}let g=new Array(h.size),y=h.values();for(o=0;o<g.length;++o)g[o]=y.next().value;g.sort((v,p)=>v-p);let d=g.length;return i&&++d,{colors:g,usesTransparency:i,indexCount:d}}}return _.DisposeToAnything=0,_.DisposeNothing=1,_.DisposeToBackgroundColor=2,_.DisposeToPrevious=3,_})();s.GifFrame=m},{"./bitmapimage":65,"./gif":66}],69:[function(n,a,s){(function(u){"use strict";let c=n("fs"),m=n("image-q"),_=n("./bitmapimage"),{GifFrame:f}=n("./gifframe"),{GifError:h}=n("./gif"),{GifCodec:l}=n("./gifcodec"),o=[".jpg",".jpeg",".png",".bmp"],i=new l;s.cloneFrames=function(v){let p=[];return v.forEach(b=>{p.push(new f(b))}),p},s.getColorInfo=function(v,p){let b=!1,w=[];for(let I=0;I<v.length;++I){let T=v[I].getPalette();if(T.usesTransparency&&(b=!0),T.indexCount>256)throw new h(`Frame ${I} uses more than 256 color indexes`);w.push(T)}if(p===0)return{usesTransparency:b,palettes:w};let E=new Set;w.forEach(I=>{I.colors.forEach(T=>{E.add(T)})});let D=E.size;if(b&&++D,p&&D>p)return{usesTransparency:b,palettes:w};let S=new Array(E.size),C=E.values();for(let I=0;I<S.length;++I)S[I]=C.next().value;return S.sort((I,T)=>I-T),{colors:S,indexCount:D,usesTransparency:b,palettes:w}},s.copyAsJimp=function(v,p){return s.shareAsJimp(v,new _(p))},s.getMaxDimensions=function(v){let p=0,b=0;return v.forEach(w=>{let E=w.xOffset+w.bitmap.width;E>p&&(p=E);let D=w.yOffset+w.bitmap.height;D>b&&(b=D)}),{maxWidth:p,maxHeight:b}},s.quantizeDekker=function(v,p,b){p=p||256,g(v,"NeuQuantFloat",p,0,b)},s.quantizeSorokin=function(v,p,b,w){p=p||256,b=b||"min-pop";let E;switch(b){case"min-pop":E=2;break;case"top-pop":E=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${b}'`)}g(v,"RGBQuant",p,E,w)},s.quantizeWu=function(v,p,b,w){if(p=p||256,b=b||5,b<1||b>8)throw new Error("Invalid quantization quality");g(v,"WuQuant",p,b,w)},s.read=function(v,p){return p=p||i,u.isBuffer(v)?p.decodeGif(v):y(v).then(b=>p.decodeGif(b))},s.shareAsJimp=function(v,p){let b=new v(p.bitmap.width,p.bitmap.height,0);return b.bitmap.data=p.bitmap.data,b},s.write=function(v,p,b,w){w=w||i;let E=v.match(/\.[a-zA-Z]+$/);if(E!==null&&o.includes(E[0].toLowerCase()))throw new Error(`GIF '${v}' has an unexpected suffix`);return w.encodeGif(p,b).then(D=>d(v,D.buffer).then(()=>D))};function g(v,p,b,w,E){let D=Array.isArray(v)?v:[v],S=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(E){if(S.indexOf(E.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${E.ditherAlgorithm}'`);E.serpentine===void 0&&(E.serpentine=!0),E.minimumColorDistanceToDither===void 0&&(E.minimumColorDistanceToDither=0),E.calculateErrorLikeGIMP===void 0&&(E.calculateErrorLikeGIMP=!1)}let C=new m.distance.Euclidean,I=new m.palette[p](C,b,w),T;E?T=new m.image.ErrorDiffusionArray(C,m.image.ErrorDiffusionArrayKernel[E.ditherAlgorithm],E.serpentine,E.minimumColorDistanceToDither,E.calculateErrorLikeGIMP):T=new m.image.NearestColor(C);let M=[];D.forEach(N=>{let G=N.bitmap.data,V=new ArrayBuffer(G.length),H=new Uint32Array(V);for(let j=0,Y=0;j<G.length;j+=4,++Y)H[Y]=G.readUInt32LE(j,!0);let R=m.utils.PointContainer.fromUint32Array(H,N.bitmap.width,N.bitmap.height);I.sample(R),M.push(R)});let P=I.quantize();for(let N=0;N<D.length;++N){let G=D[N].bitmap.data,H=T.quantize(M[N],P).toUint32Array();for(let R=0,j=0;R<G.length;R+=4,++j)G.writeUInt32LE(H[j],R)}}function y(v){return new Promise((p,b)=>{c.readFile(v,(w,E)=>w?b(w):p(E))})}function d(v,p){return new Promise((b,w)=>{c.writeFile(v,p,E=>E?w(E):b())})}}).call(this,{isBuffer:n("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(n,a,s){"use strict";let u=n("./bitmapimage"),{Gif:c,GifError:m}=n("./gif"),{GifCodec:_}=n("./gifcodec"),{GifFrame:f}=n("./gifframe"),h=n("./gifutil");a.exports={BitmapImage:u,Gif:c,GifCodec:_,GifFrame:f,GifUtil:h,GifError:m}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(n,a,s){(function(u){var c;typeof ze<"u"?c=ze:typeof u<"u"?c=u:typeof self<"u"?c=self:c={},a.exports=c}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{})},{}],72:[function(n,a,s){var u=n("http"),c=n("url"),m=a.exports;for(var _ in u)u.hasOwnProperty(_)&&(m[_]=u[_]);m.request=function(h,l){return h=f(h),u.request.call(this,h,l)},m.get=function(h,l){return h=f(h),u.get.call(this,h,l)};function f(h){if(typeof h=="string"&&(h=c.parse(h)),h.protocol||(h.protocol="https:"),h.protocol!=="https:")throw new Error('Protocol "'+h.protocol+'" not supported. Expected "https:"');return h}},{http:156,url:180}],73:[function(n,a,s){s.read=function(u,c,m,_,f){var h,l,o=f*8-_-1,i=(1<<o)-1,g=i>>1,y=-7,d=m?f-1:0,v=m?-1:1,p=u[c+d];for(d+=v,h=p&(1<<-y)-1,p>>=-y,y+=o;y>0;h=h*256+u[c+d],d+=v,y-=8);for(l=h&(1<<-y)-1,h>>=-y,y+=_;y>0;l=l*256+u[c+d],d+=v,y-=8);if(h===0)h=1-g;else{if(h===i)return l?NaN:(p?-1:1)*(1/0);l=l+Math.pow(2,_),h=h-g}return(p?-1:1)*l*Math.pow(2,h-_)},s.write=function(u,c,m,_,f,h){var l,o,i,g=h*8-f-1,y=(1<<g)-1,d=y>>1,v=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=_?0:h-1,b=_?1:-1,w=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(o=isNaN(c)?1:0,l=y):(l=Math.floor(Math.log(c)/Math.LN2),c*(i=Math.pow(2,-l))<1&&(l--,i*=2),l+d>=1?c+=v/i:c+=v*Math.pow(2,1-d),c*i>=2&&(l++,i/=2),l+d>=y?(o=0,l=y):l+d>=1?(o=(c*i-1)*Math.pow(2,f),l=l+d):(o=c*Math.pow(2,d-1)*Math.pow(2,f),l=0));f>=8;u[m+p]=o&255,p+=b,o/=256,f-=8);for(l=l<<f|o,g+=f;g>0;u[m+p]=l&255,p+=b,l/=256,g-=8);u[m+p-b]|=w*128}},{}],74:[function(n,a,s){(function(c,m){typeof s=="object"&&typeof a=="object"?a.exports=m():typeof e=="function"&&e.amd?e("iq",[],m):typeof s=="object"?s.iq=m():c.iq=m()})(this,function(){return function(u){var c={};function m(_){if(c[_])return c[_].exports;var f=c[_]={exports:{},id:_,loaded:!1};return u[_].call(f.exports,f,f.exports,m),f.loaded=!0,f.exports}return m.m=u,m.c=c,m.p="",m(0)}([function(u,c,m){"use strict";var _=m(1);c.constants=_;var f=m(3);c.conversion=f;var h=m(12);c.distance=h;var l=m(20);c.palette=l;var o=m(30);c.image=o;var i=m(35);c.quality=i;var g=m(37);c.utils=g},function(u,c,m){"use strict";var _=m(2);c.bt709=_},function(u,c){"use strict";var m=function(h){return h[h.RED=.2126]="RED",h[h.GREEN=.7152]="GREEN",h[h.BLUE=.0722]="BLUE",h[h.WHITE=1]="WHITE",h}(m||{});c.Y=m;var _=function(h){return h[h.RED=.64]="RED",h[h.GREEN=.3]="GREEN",h[h.BLUE=.15]="BLUE",h[h.WHITE=.3127]="WHITE",h}(_||{});c.x=_;var f=function(h){return h[h.RED=.33]="RED",h[h.GREEN=.6]="GREEN",h[h.BLUE=.06]="BLUE",h[h.WHITE=.329]="WHITE",h}(f||{});c.y=f},function(u,c,m){"use strict";var _=m(4);c.rgb2xyz=_.rgb2xyz;var f=m(5);c.rgb2hsl=f.rgb2hsl;var h=m(7);c.rgb2lab=h.rgb2lab;var l=m(9);c.lab2xyz=l.lab2xyz;var o=m(10);c.lab2rgb=o.lab2rgb;var i=m(8);c.xyz2lab=i.xyz2lab;var g=m(11);c.xyz2rgb=g.xyz2rgb},function(u,c){"use strict";function m(f){return f>.04045?Math.pow((f+.055)/1.055,2.4):f/12.92}function _(f,h,l){return f=m(f/255),h=m(h/255),l=m(l/255),{x:f*.4124+h*.3576+l*.1805,y:f*.2126+h*.7152+l*.0722,z:f*.0193+h*.1192+l*.9505}}c.rgb2xyz=_},function(u,c,m){"use strict";var _=m(6);function f(h,l,o){var i=_.min3(h,l,o),g=_.max3(h,l,o),y=g-i,d=(i+g)/510,v=0;d>0&&d<1&&(v=y/(d<.5?g+i:510-g-i));var p=0;return y>0&&(g===h?p=(l-o)/y:g===l?p=2+(o-h)/y:p=4+(h-l)/y,p*=60,p<0&&(p+=360)),{h:p,s:v,l:d}}c.rgb2hsl=f},function(u,c){"use strict";function m(g){return g*(Math.PI/180)}c.degrees2radians=m;function _(g,y,d){var v=g;return v<y&&(v=y),v<d&&(v=d),v}c.max3=_;function f(g,y,d){var v=g;return v>y&&(v=y),v>d&&(v=d),v}c.min3=f;function h(g,y,d){return g>d&&(g=d),g<y&&(g=y),g|0}c.intInRange=h;function l(g){return g=Math.round(g),g>255?g=255:g<0&&(g=0),g}c.inRange0to255Rounded=l;function o(g){return g>255?g=255:g<0&&(g=0),g}c.inRange0to255=o;function i(g,y){var d=typeof g[0],v;if(d==="number"||d==="string"){for(var p=Object.create(null),b=0,w=g.length;b<w;b++){var E=g[b];p[E]||p[E]===0||(p[E]=b)}v=g.sort(function(S,C){return y(S,C)||p[S]-p[C]})}else{var D=g.slice(0);v=g.sort(function(S,C){return y(S,C)||D.indexOf(S)-D.indexOf(C)})}return v}c.stableSort=i},function(u,c,m){"use strict";var _=m(4),f=m(8);function h(l,o,i){var g=_.rgb2xyz(l,o,i);return f.xyz2lab(g.x,g.y,g.z)}c.rgb2lab=h},function(u,c){"use strict";var m=.95047,_=1,f=1.08883;function h(o){return o>.008856?Math.pow(o,1/3):7.787*o+16/116}function l(o,i,g){if(o=h(o/m),i=h(i/_),g=h(g/f),116*i-16<0)throw new Error("xxx");return{L:Math.max(0,116*i-16),a:500*(o-i),b:200*(i-g)}}c.xyz2lab=l},function(u,c){"use strict";var m=.95047,_=1,f=1.08883;function h(o){return o>.206893034?Math.pow(o,3):(o-16/116)/7.787}function l(o,i,g){var y=(o+16)/116,d=i/500+y,v=y-g/200;return{x:m*h(d),y:_*h(y),z:f*h(v)}}c.lab2xyz=l},function(u,c,m){"use strict";var _=m(9),f=m(11);function h(l,o,i){var g=_.lab2xyz(l,o,i);return f.xyz2rgb(g.x,g.y,g.z)}c.lab2rgb=h},function(u,c,m){"use strict";var _=m(6);function f(l){return l>.0031308?1.055*Math.pow(l,1/2.4)-.055:12.92*l}function h(l,o,i){var g=f(l*3.2406+o*-1.5372+i*-.4986),y=f(l*-.9689+o*1.8758+i*.0415),d=f(l*.0557+o*-.204+i*1.057);return{r:_.inRange0to255Rounded(g*255),g:_.inRange0to255Rounded(y*255),b:_.inRange0to255Rounded(d*255)}}c.xyz2rgb=h},function(u,c,m){"use strict";var _=m(13);c.AbstractDistanceCalculator=_.AbstractDistanceCalculator;var f=m(14);c.CIE94Textiles=f.CIE94Textiles,c.CIE94GraphicArts=f.CIE94GraphicArts;var h=m(15);c.CIEDE2000=h.CIEDE2000;var l=m(16);c.CMETRIC=l.CMETRIC;var o=m(17);c.AbstractEuclidean=o.AbstractEuclidean,c.Euclidean=o.Euclidean,c.EuclideanRgbQuantWOAlpha=o.EuclideanRgbQuantWOAlpha,c.EuclideanRgbQuantWithAlpha=o.EuclideanRgbQuantWithAlpha;var i=m(18);c.AbstractManhattan=i.AbstractManhattan,c.Manhattan=i.Manhattan,c.ManhattanSRGB=i.ManhattanSRGB,c.ManhattanNommyde=i.ManhattanNommyde;var g=m(19);c.PNGQUANT=g.PNGQUANT},function(u,c){"use strict";var m=function(){function _(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return _.prototype.setWhitePoint=function(f,h,l,o){this._whitePoint={r:f>0?255/f:0,g:h>0?255/h:0,b:l>0?255/l:0,a:o>0?255/o:0},this._maxDistance=this.calculateRaw(f,h,l,o,0,0,0,0)},_.prototype.calculateNormalized=function(f,h){return this.calculateRaw(f.r,f.g,f.b,f.a,h.r,h.g,h.b,h.a)/this._maxDistance},_.prototype._setDefaults=function(){},_}();c.AbstractDistanceCalculator=m},function(u,c,m){"use strict";var _=this&&this.__extends||function(y,d){for(var v in d)d.hasOwnProperty(v)&&(y[v]=d[v]);function p(){this.constructor=y}y.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)};var f=m(13),h=m(7),l=m(6),o=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype.calculateRaw=function(v,p,b,w,E,D,S,C){var I=h.rgb2lab(l.inRange0to255(v*this._whitePoint.r),l.inRange0to255(p*this._whitePoint.g),l.inRange0to255(b*this._whitePoint.b)),T=h.rgb2lab(l.inRange0to255(E*this._whitePoint.r),l.inRange0to255(D*this._whitePoint.g),l.inRange0to255(S*this._whitePoint.b)),M=I.L-T.L,P=I.a-T.a,N=I.b-T.b,G=Math.sqrt(I.a*I.a+I.b*I.b),V=Math.sqrt(T.a*T.a+T.b*T.b),H=G-V,R=P*P+N*N-H*H;R=R<0?0:Math.sqrt(R);var j=(C-w)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(M/this._Kl,2)+Math.pow(H/(1+this._K1*G),2)+Math.pow(R/(1+this._K2*G),2)+Math.pow(j,2))},d}(f.AbstractDistanceCalculator);c.AbstractCIE94=o;var i=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},d}(o);c.CIE94Textiles=i;var g=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},d}(o);c.CIE94GraphicArts=g},function(u,c,m){"use strict";var _=this&&this.__extends||function(i,g){for(var y in g)g.hasOwnProperty(y)&&(i[y]=g[y]);function d(){this.constructor=i}i.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)};var f=m(13),h=m(7),l=m(6),o=function(i){_(g,i);function g(){i.apply(this,arguments)}return g.prototype.calculateRaw=function(y,d,v,p,b,w,E,D){var S=h.rgb2lab(l.inRange0to255(y*this._whitePoint.r),l.inRange0to255(d*this._whitePoint.g),l.inRange0to255(v*this._whitePoint.b)),C=h.rgb2lab(l.inRange0to255(b*this._whitePoint.r),l.inRange0to255(w*this._whitePoint.g),l.inRange0to255(E*this._whitePoint.b)),I=(D-p)*this._whitePoint.a*g._kA,T=this.calculateRawInLab(S,C);return Math.sqrt(T+I*I)},g.prototype.calculateRawInLab=function(y,d){var v=y.L,p=y.a,b=y.b,w=d.L,E=d.a,D=d.b,S=Math.sqrt(p*p+b*b),C=Math.sqrt(E*E+D*D),I=Math.pow((S+C)/2,7),T=.5*(1-Math.sqrt(I/(I+g._pow25to7))),M=(1+T)*p,P=(1+T)*E,N=Math.sqrt(M*M+b*b),G=Math.sqrt(P*P+D*D),V=N*G,H=g._calculatehp(b,M),R=g._calculatehp(D,P),j=Math.abs(H-R),Y=w-v,ne=G-N,re=g._calculate_dHp(V,j,R,H),ie=g._calculate_ahp(V,j,H,R),W=g._calculateT(ie),q=(N+G)/2,te=Math.pow((v+w)/2-50,2),K=1+.015*te/Math.sqrt(20+te),J=1+.045*q,le=1+.015*W*q,se=g._calculateRT(ie,q),_e=Y/K,ge=ne/J,Ee=re/le;return Math.pow(_e,2)+Math.pow(ge,2)+Math.pow(Ee,2)+se*ge*Ee},g._calculatehp=function(y,d){var v=Math.atan2(y,d);return v>=0?v:v+g._deg360InRad},g._calculateRT=function(y,d){var v=Math.pow(d,7),p=2*Math.sqrt(v/(v+g._pow25to7)),b=g._deg30InRad*Math.exp(-Math.pow((y-g._deg275InRad)/g._deg25InRad,2));return-Math.sin(2*b)*p},g._calculateT=function(y){return 1-.17*Math.cos(y-g._deg30InRad)+.24*Math.cos(y*2)+.32*Math.cos(y*3+g._deg6InRad)-.2*Math.cos(y*4-g._deg63InRad)},g._calculate_ahp=function(y,d,v,p){var b=v+p;return y==0?b:d<=g._deg180InRad?b/2:b<g._deg360InRad?(b+g._deg360InRad)/2:(b-g._deg360InRad)/2},g._calculate_dHp=function(y,d,v,p){var b;return y==0?b=0:d<=g._deg180InRad?b=v-p:v<=p?b=v-p+g._deg360InRad:b=v-p-g._deg360InRad,2*Math.sqrt(y)*Math.sin(b/2)},g._kA=.25*100/255,g._pow25to7=Math.pow(25,7),g._deg360InRad=l.degrees2radians(360),g._deg180InRad=l.degrees2radians(180),g._deg30InRad=l.degrees2radians(30),g._deg6InRad=l.degrees2radians(6),g._deg63InRad=l.degrees2radians(63),g._deg275InRad=l.degrees2radians(275),g._deg25InRad=l.degrees2radians(25),g}(f.AbstractDistanceCalculator);c.CIEDE2000=o},function(u,c,m){"use strict";var _=this&&this.__extends||function(l,o){for(var i in o)o.hasOwnProperty(i)&&(l[i]=o[i]);function g(){this.constructor=l}l.prototype=o===null?Object.create(o):(g.prototype=o.prototype,new g)};var f=m(13),h=function(l){_(o,l);function o(){l.apply(this,arguments)}return o.prototype.calculateRaw=function(i,g,y,d,v,p,b,w){var E=(i+v)/2*this._whitePoint.r,D=(i-v)*this._whitePoint.r,S=(g-p)*this._whitePoint.g,C=(y-b)*this._whitePoint.b,I=((512+E)*D*D>>8)+4*S*S+((767-E)*C*C>>8),T=(w-d)*this._whitePoint.a;return Math.sqrt(I+T*T)},o}(f.AbstractDistanceCalculator);c.CMETRIC=h},function(u,c,m){"use strict";var _=this&&this.__extends||function(y,d){for(var v in d)d.hasOwnProperty(v)&&(y[v]=d[v]);function p(){this.constructor=y}y.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)};var f=m(13),h=m(2),l=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype.calculateRaw=function(v,p,b,w,E,D,S,C){var I=E-v,T=D-p,M=S-b,P=C-w;return Math.sqrt(this._kR*I*I+this._kG*T*T+this._kB*M*M+this._kA*P*P)},d}(f.AbstractDistanceCalculator);c.AbstractEuclidean=l;var o=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},d}(l);c.Euclidean=o;var i=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype._setDefaults=function(){this._kR=h.Y.RED,this._kG=h.Y.GREEN,this._kB=h.Y.BLUE,this._kA=1},d}(l);c.EuclideanRgbQuantWithAlpha=i;var g=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype._setDefaults=function(){this._kR=h.Y.RED,this._kG=h.Y.GREEN,this._kB=h.Y.BLUE,this._kA=0},d}(l);c.EuclideanRgbQuantWOAlpha=g},function(u,c,m){"use strict";var _=this&&this.__extends||function(y,d){for(var v in d)d.hasOwnProperty(v)&&(y[v]=d[v]);function p(){this.constructor=y}y.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)};var f=m(13),h=m(2),l=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype.calculateRaw=function(v,p,b,w,E,D,S,C){var I=E-v,T=D-p,M=S-b,P=C-w;return I<0&&(I=0-I),T<0&&(T=0-T),M<0&&(M=0-M),P<0&&(P=0-P),this._kR*I+this._kG*T+this._kB*M+this._kA*P},d}(f.AbstractDistanceCalculator);c.AbstractManhattan=l;var o=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},d}(l);c.Manhattan=o;var i=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},d}(l);c.ManhattanNommyde=i;var g=function(y){_(d,y);function d(){y.apply(this,arguments)}return d.prototype._setDefaults=function(){this._kR=h.Y.RED,this._kG=h.Y.GREEN,this._kB=h.Y.BLUE,this._kA=1},d}(l);c.ManhattanSRGB=g},function(u,c,m){"use strict";var _=this&&this.__extends||function(l,o){for(var i in o)o.hasOwnProperty(i)&&(l[i]=o[i]);function g(){this.constructor=l}l.prototype=o===null?Object.create(o):(g.prototype=o.prototype,new g)};var f=m(13),h=function(l){_(o,l);function o(){l.apply(this,arguments)}return o.prototype.calculateRaw=function(i,g,y,d,v,p,b,w){var E=(w-d)*this._whitePoint.a;return this._colordifference_ch(i*this._whitePoint.r,v*this._whitePoint.r,E)+this._colordifference_ch(g*this._whitePoint.g,p*this._whitePoint.g,E)+this._colordifference_ch(y*this._whitePoint.b,b*this._whitePoint.b,E)},o.prototype._colordifference_ch=function(i,g,y){var d=i-g,v=d+y;return d*d+v*v},o}(f.AbstractDistanceCalculator);c.PNGQUANT=h},function(u,c,m){"use strict";var _=m(21);c.NeuQuant=_.NeuQuant;var f=m(25);c.NeuQuantFloat=f.NeuQuantFloat;var h=m(26);c.RGBQuant=h.RGBQuant;var l=m(27);c.ColorHistogram=l.ColorHistogram;var o=m(29);c.WuQuant=o.WuQuant,c.WuColorCube=o.WuColorCube},function(u,c,m){"use strict";var _=m(22),f=m(24),h=3,l=function(){function i(g){this.r=this.g=this.b=this.a=g}return i.prototype.toPoint=function(){return f.Point.createByRGBA(this.r>>h,this.g>>h,this.b>>h,this.a>>h)},i.prototype.subtract=function(g,y,d,v){this.r-=g|0,this.g-=y|0,this.b-=d|0,this.a-=v|0},i}(),o=function(){function i(g,y){y===void 0&&(y=256),this._distance=g,this._pointArray=[],this._sampleFactor=1,this._networkSize=y,this._distance.setWhitePoint(255<<h,255<<h,255<<h,255<<h)}return i.prototype.sample=function(g){this._pointArray=this._pointArray.concat(g.getPointArray())},i.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},i.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var g=0;g<this._networkSize;g++)this._network[g]=new l((g<<h+8)/this._networkSize|0),this._freq[g]=i._initialBias/this._networkSize|0,this._bias[g]=0},i.prototype._learn=function(){var g=this._sampleFactor,y=this._pointArray.length;y<i._minpicturebytes&&(g=1);var d=30+(g-1)/3|0,v=y/g|0,p=v/i._nCycles|0,b=i._initAlpha,w=(this._networkSize>>3)*i._radiusBias,E=w>>i._radiusBiasShift;E<=1&&(E=0);for(var D=0;D<E;D++)this._radPower[D]=b*((E*E-D*D)*i._radBias/(E*E))>>>0;var S;y<i._minpicturebytes?S=1:y%i._prime1!=0?S=i._prime1:y%i._prime2!=0?S=i._prime2:y%i._prime3!=0?S=i._prime3:S=i._prime4;for(var D=0,C=0;D<v;){var I=this._pointArray[C],T=I.b<<h,M=I.g<<h,P=I.r<<h,N=I.a<<h,G=this._contest(T,M,P,N);if(this._alterSingle(b,G,T,M,P,N),E!==0&&this._alterNeighbour(E,G,T,M,P,N),C+=S,C>=y&&(C-=y),D++,p===0&&(p=1),D%p===0){b-=b/d|0,w-=w/i._radiusDecrease|0,E=w>>i._radiusBiasShift,E<=1&&(E=0);for(var V=0;V<E;V++)this._radPower[V]=b*((E*E-V*V)*i._radBias/(E*E))>>>0}}},i.prototype._buildPalette=function(){var g=new _.Palette;return this._network.forEach(function(y){g.add(y.toPoint())}),g.sort(),g},i.prototype._alterNeighbour=function(g,y,d,v,p,b){var w=y-g;w<-1&&(w=-1);var E=y+g;E>this._networkSize&&(E=this._networkSize);for(var D=y+1,S=y-1,C=1;D<E||S>w;){var I=this._radPower[C++]/i._alphaRadBias;if(D<E){var T=this._network[D++];T.subtract(I*(T.r-p),I*(T.g-v),I*(T.b-d),I*(T.a-b))}if(S>w){var T=this._network[S--];T.subtract(I*(T.r-p),I*(T.g-v),I*(T.b-d),I*(T.a-b))}}},i.prototype._alterSingle=function(g,y,d,v,p,b){g/=i._initAlpha;var w=this._network[y];w.subtract(g*(w.r-p),g*(w.g-v),g*(w.b-d),g*(w.a-b))},i.prototype._contest=function(g,y,d,v){for(var p=1020<<h,b=~(1<<31),w=b,E=-1,D=E,S=0;S<this._networkSize;S++){var C=this._network[S],I=this._distance.calculateNormalized(C,{r:d,g:y,b:g,a:v})*p|0;I<b&&(b=I,E=S);var T=I-(this._bias[S]>>i._initialBiasShift-h);T<w&&(w=T,D=S);var M=this._freq[S]>>i._betaShift;this._freq[S]-=M,this._bias[S]+=M<<i._gammaShift}return this._freq[E]+=i._beta,this._bias[E]-=i._betaGamma,D},i._prime1=499,i._prime2=491,i._prime3=487,i._prime4=503,i._minpicturebytes=i._prime4,i._nCycles=100,i._initialBiasShift=16,i._initialBias=1<<i._initialBiasShift,i._gammaShift=10,i._betaShift=10,i._beta=i._initialBias>>i._betaShift,i._betaGamma=i._initialBias<<i._gammaShift-i._betaShift,i._radiusBiasShift=6,i._radiusBias=1<<i._radiusBiasShift,i._radiusDecrease=30,i._alphaBiasShift=10,i._initAlpha=1<<i._alphaBiasShift,i._radBiasShift=8,i._radBias=1<<i._radBiasShift,i._alphaRadBiasShift=i._alphaBiasShift+i._radBiasShift,i._alphaRadBias=1<<i._alphaRadBiasShift,i}();c.NeuQuant=o},function(u,c,m){"use strict";var _=m(23),f=m(5),h=10;function l(i,g){for(var y=360,d=y/g,v=d/2,p=1,b=d-v;p<g;p++,b+=d)if(i>=b&&i<b+d)return p;return 0}c.hueGroup=l;var o=function(){function i(){this._pointArray=[],this._i32idx={},this._pointContainer=new _.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return i.prototype.add=function(g){this._pointArray.push(g),this._pointContainer.setWidth(this._pointArray.length)},i.prototype.has=function(g){for(var y=this._pointArray.length-1;y>=0;y--)if(g.uint32===this._pointArray[y].uint32)return!0;return!1},i.prototype.getNearestColor=function(g,y){return this._pointArray[this.getNearestIndex(g,y)|0]},i.prototype.getPointContainer=function(){return this._pointContainer},i.prototype._nearestPointFromCache=function(g){return typeof this._i32idx[g]=="number"?this._i32idx[g]:-1},i.prototype.getNearestIndex=function(g,y){var d=this._nearestPointFromCache(""+y.uint32);if(d>=0)return d;var v=Number.MAX_VALUE;d=0;for(var p=0,b=this._pointArray.length;p<b;p++){var w=this._pointArray[p],E=g.calculateRaw(y.r,y.g,y.b,y.a,w.r,w.g,w.b,w.a);E<v&&(v=E,d=p)}return this._i32idx[y.uint32]=d,d},i.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(g,y){var d=f.rgb2hsl(g.r,g.g,g.b),v=f.rgb2hsl(y.r,y.g,y.b),p=g.r===g.g&&g.g===g.b?0:1+l(d.h,h),b=y.r===y.g&&y.g===y.b?0:1+l(v.h,h),w=b-p;if(w)return-w;var E=g.getLuminosity(!0),D=y.getLuminosity(!0);if(D-E!==0)return D-E;var S=(v.s*100|0)-(d.s*100|0);return S?-S:0})},i}();c.Palette=o},function(u,c,m){"use strict";var _=m(24),f=function(){function h(){this._width=0,this._height=0,this._pointArray=[]}return h.prototype.getWidth=function(){return this._width},h.prototype.getHeight=function(){return this._height},h.prototype.setWidth=function(l){this._width=l},h.prototype.setHeight=function(l){this._height=l},h.prototype.getPointArray=function(){return this._pointArray},h.prototype.clone=function(){var l=new h;l._width=this._width,l._height=this._height;for(var o=0,i=this._pointArray.length;o<i;o++)l._pointArray[o]=_.Point.createByUint32(this._pointArray[o].uint32|0);return l},h.prototype.toUint32Array=function(){for(var l=this._pointArray.length,o=new Uint32Array(l),i=0;i<l;i++)o[i]=this._pointArray[i].uint32;return o},h.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},h.fromHTMLImageElement=function(l){var o=l.naturalWidth,i=l.naturalHeight,g=document.createElement("canvas");g.width=o,g.height=i;var y=g.getContext("2d");return y.drawImage(l,0,0,o,i,0,0,o,i),h.fromHTMLCanvasElement(g)},h.fromHTMLCanvasElement=function(l){var o=l.width,i=l.height,g=l.getContext("2d"),y=g.getImageData(0,0,o,i);return h.fromImageData(y)},h.fromNodeCanvas=function(l){return h.fromHTMLCanvasElement(l)},h.fromImageData=function(l){var o=l.width,i=l.height;return h.fromCanvasPixelArray(l.data,o,i)},h.fromArray=function(l,o,i){var g=new Uint8Array(l);return h.fromUint8Array(g,o,i)},h.fromCanvasPixelArray=function(l,o,i){return h.fromArray(l,o,i)},h.fromUint8Array=function(l,o,i){return h.fromUint32Array(new Uint32Array(l.buffer),o,i)},h.fromUint32Array=function(l,o,i){var g=new h;g._width=o,g._height=i;for(var y=0,d=l.length;y<d;y++)g._pointArray[y]=_.Point.createByUint32(l[y]|0);return g},h}();c.PointContainer=f},function(u,c,m){"use strict";var _=m(2),f=function(){function h(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return h.createByQuadruplet=function(l){var o=new h;return o.r=l[0]|0,o.g=l[1]|0,o.b=l[2]|0,o.a=l[3]|0,o._loadUINT32(),o._loadQuadruplet(),o},h.createByRGBA=function(l,o,i,g){var y=new h;return y.r=l|0,y.g=o|0,y.b=i|0,y.a=g|0,y._loadUINT32(),y._loadQuadruplet(),y},h.createByUint32=function(l){var o=new h;return o.uint32=l>>>0,o._loadRGBA(),o._loadQuadruplet(),o},h.prototype.from=function(l){this.r=l.r,this.g=l.g,this.b=l.b,this.a=l.a,this.uint32=l.uint32,this.rgba[0]=l.r,this.rgba[1]=l.g,this.rgba[2]=l.b,this.rgba[3]=l.a},h.prototype.getLuminosity=function(l){var o=this.r,i=this.g,g=this.b;return l&&(o=Math.min(255,255-this.a+this.a*o/255),i=Math.min(255,255-this.a+this.a*i/255),g=Math.min(255,255-this.a+this.a*g/255)),o*_.Y.RED+i*_.Y.GREEN+g*_.Y.BLUE},h.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},h.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},h.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},h}();c.Point=f},function(u,c,m){"use strict";var _=m(22),f=m(24),h=3,l=function(){function i(g){this.r=this.g=this.b=this.a=g}return i.prototype.toPoint=function(){return f.Point.createByRGBA(this.r>>h,this.g>>h,this.b>>h,this.a>>h)},i.prototype.subtract=function(g,y,d,v){this.r-=g,this.g-=y,this.b-=d,this.a-=v},i}(),o=function(){function i(g,y){y===void 0&&(y=256),this._distance=g,this._pointArray=[],this._sampleFactor=1,this._networkSize=y,this._distance.setWhitePoint(255<<h,255<<h,255<<h,255<<h)}return i.prototype.sample=function(g){this._pointArray=this._pointArray.concat(g.getPointArray())},i.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},i.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var g=0;g<this._networkSize;g++)this._network[g]=new l((g<<h+8)/this._networkSize),this._freq[g]=i._initialBias/this._networkSize,this._bias[g]=0},i.prototype._learn=function(){var g=this._sampleFactor,y=this._pointArray.length;y<i._minpicturebytes&&(g=1);var d=30+(g-1)/3,v=y/g,p=v/i._nCycles|0,b=i._initAlpha,w=(this._networkSize>>3)*i._radiusBias,E=w>>i._radiusBiasShift;E<=1&&(E=0);for(var D=0;D<E;D++)this._radPower[D]=b*((E*E-D*D)*i._radBias/(E*E));var S;y<i._minpicturebytes?S=1:y%i._prime1!=0?S=i._prime1:y%i._prime2!=0?S=i._prime2:y%i._prime3!=0?S=i._prime3:S=i._prime4;for(var D=0,C=0;D<v;){var I=this._pointArray[C],T=I.b<<h,M=I.g<<h,P=I.r<<h,N=I.a<<h,G=this._contest(T,M,P,N);if(this._alterSingle(b,G,T,M,P,N),E!=0&&this._alterNeighbour(E,G,T,M,P,N),C+=S,C>=y&&(C-=y),D++,p==0&&(p=1),D%p==0){b-=b/d,w-=w/i._radiusDecrease,E=w>>i._radiusBiasShift,E<=1&&(E=0);for(var V=0;V<E;V++)this._radPower[V]=b*((E*E-V*V)*i._radBias/(E*E))}}},i.prototype._buildPalette=function(){var g=new _.Palette;return this._network.forEach(function(y){g.add(y.toPoint())}),g.sort(),g},i.prototype._alterNeighbour=function(g,y,d,v,p,b){var w=y-g;w<-1&&(w=-1);var E=y+g;E>this._networkSize&&(E=this._networkSize);for(var D=y+1,S=y-1,C=1;D<E||S>w;){var I=this._radPower[C++]/i._alphaRadBias;if(D<E){var T=this._network[D++];T.subtract(I*(T.r-p),I*(T.g-v),I*(T.b-d),I*(T.a-b))}if(S>w){var T=this._network[S--];T.subtract(I*(T.r-p),I*(T.g-v),I*(T.b-d),I*(T.a-b))}}},i.prototype._alterSingle=function(g,y,d,v,p,b){g/=i._initAlpha;var w=this._network[y];w.subtract(g*(w.r-p),g*(w.g-v),g*(w.b-d),g*(w.a-b))},i.prototype._contest=function(g,y,d,v){for(var p=1020<<h,b=~(1<<31),w=b,E=-1,D=E,S=0;S<this._networkSize;S++){var C=this._network[S],I=this._distance.calculateNormalized(C,{r:d,g:y,b:g,a:v})*p;I<b&&(b=I,E=S);var T=I-(this._bias[S]>>i._initialBiasShift-h);T<w&&(w=T,D=S);var M=this._freq[S]>>i._betaShift;this._freq[S]-=M,this._bias[S]+=M<<i._gammaShift}return this._freq[E]+=i._beta,this._bias[E]-=i._betaGamma,D},i._prime1=499,i._prime2=491,i._prime3=487,i._prime4=503,i._minpicturebytes=i._prime4,i._nCycles=100,i._initialBiasShift=16,i._initialBias=1<<i._initialBiasShift,i._gammaShift=10,i._betaShift=10,i._beta=i._initialBias>>i._betaShift,i._betaGamma=i._initialBias<<i._gammaShift-i._betaShift,i._radiusBiasShift=6,i._radiusBias=1<<i._radiusBiasShift,i._radiusDecrease=30,i._alphaBiasShift=10,i._initAlpha=1<<i._alphaBiasShift,i._radBiasShift=8,i._radBias=1<<i._radBiasShift,i._alphaRadBiasShift=i._alphaBiasShift+i._radBiasShift,i._alphaRadBias=1<<i._alphaRadBiasShift,i}();c.NeuQuantFloat=o},function(u,c,m){"use strict";var _=m(22),f=m(24),h=m(27),l=m(6),o=function(){function g(y,d,v){this.index=y,this.color=d,this.distance=v}return g}(),i=function(){function g(y,d,v){d===void 0&&(d=256),v===void 0&&(v=2),this._distance=y,this._colors=d,this._histogram=new h.ColorHistogram(v,d),this._initialDistance=.01,this._distanceIncrement=.005}return g.prototype.sample=function(y){this._histogram.sample(y)},g.prototype.quantize=function(){var y=this._histogram.getImportanceSortedColorsIDXI32();if(y.length===0)throw new Error("No colors in image");var d=this._buildPalette(y);return d.sort(),d},g.prototype._buildPalette=function(y){for(var d=new _.Palette,v=d.getPointContainer().getPointArray(),p=new Array(y.length),b=0;b<y.length;b++)v.push(f.Point.createByUint32(y[b])),p[b]=1;for(var w=v.length,E=[],D=w,S=this._initialDistance;D>this._colors;){E.length=0;for(var b=0;b<w;b++)if(p[b]!==0){for(var C=v[b],I=b+1;I<w;I++)if(p[I]!==0){var T=v[I],M=this._distance.calculateNormalized(C,T);M<S&&(E.push(new o(I,T,M)),p[I]=0,D--)}}S+=D>this._colors*3?this._initialDistance:this._distanceIncrement}if(D<this._colors){l.stableSort(E,function(H,R){return R.distance-H.distance});for(var P=0;D<this._colors&&P<E.length;){var N=E[P];p[N.index]=1,D++,P++}}for(var G=v.length,V=G-1;V>=0;V--)p[V]===0&&(V!==G-1&&(v[V]=v[G-1]),--G);return v.length=G,d},g}();c.RGBQuant=i},function(u,c,m){"use strict";var _=m(28),f=m(6),h=function(){function l(o,i){this._method=o,this._minHueCols=i<<2,this._initColors=i<<2,this._hueStats=new _.HueStatistics(l._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return l.prototype.sample=function(o){switch(this._method){case 1:this._colorStats1D(o);break;case 2:this._colorStats2D(o);break}},l.prototype.getImportanceSortedColorsIDXI32=function(){var o=this,i=f.stableSort(Object.keys(this._histogram),function(w,E){return o._histogram[E]-o._histogram[w]});if(i.length===0)return[];var g;switch(this._method){case 1:var y=Math.min(i.length,this._initColors),d=i[y-1],v=this._histogram[d];g=i.slice(0,y);for(var p=y,b=i.length;p<b&&this._histogram[i[p]]==v;)g.push(i[p++]);this._hueStats.injectIntoArray(g);break;case 2:g=i;break;default:throw new Error("Incorrect method")}return g.map(function(w){return+w})},l.prototype._colorStats1D=function(o){for(var i=this._histogram,g=o.getPointArray(),y=g.length,d=0;d<y;d++){var v=g[d].uint32;this._hueStats.check(v),v in i?i[v]++:i[v]=1}},l.prototype._colorStats2D=function(o){var i=this,g=o.getWidth(),y=o.getHeight(),d=o.getPointArray(),v=l._boxSize[0],p=l._boxSize[1],b=v*p,w=this._makeBoxes(g,y,v,p),E=this._histogram;w.forEach(function(D){var S=Math.round(D.w*D.h/b)*l._boxPixels;S<2&&(S=2);var C={};i._iterateBox(D,g,function(I){var T=d[I].uint32;i._hueStats.check(T),T in E?E[T]++:T in C?++C[T]>=S&&(E[T]=C[T]):C[T]=1})}),this._hueStats.injectIntoDictionary(E)},l.prototype._iterateBox=function(o,i,g){var y=o,d=y.y*i+y.x,v=(y.y+y.h-1)*i+(y.x+y.w-1),p=i-y.w+1,b=0,w=d;do g.call(this,w),w+=++b%y.w==0?p:1;while(w<=v)},l.prototype._makeBoxes=function(o,i,g,y){for(var d=o%g,v=i%y,p=o-d,b=i-v,w=[],E=0;E<i;E+=y)for(var D=0;D<o;D+=g)w.push({x:D,y:E,w:D==p?d:g,h:E==b?v:y});return w},l._boxSize=[64,64],l._boxPixels=2,l._hueGroups=10,l}();c.ColorHistogram=h},function(u,c,m){"use strict";var _=m(5),f=m(22),h=function(){function o(){this.num=0,this.cols=[]}return o}(),l=function(){function o(i,g){this._numGroups=i,this._minCols=g,this._stats=[];for(var y=0;y<=i;y++)this._stats[y]=new h;this._groupsFull=0}return o.prototype.check=function(i){this._groupsFull==this._numGroups+1&&(this.check=function(){});var g=i&255,y=i>>>8&255,d=i>>>16&255,v=g==y&&y==d?0:1+f.hueGroup(_.rgb2hsl(g,y,d).h,this._numGroups),p=this._stats[v],b=this._minCols;p.num++,!(p.num>b)&&(p.num==b&&this._groupsFull++,p.num<=b&&this._stats[v].cols.push(i))},o.prototype.injectIntoDictionary=function(i){for(var g=0;g<=this._numGroups;g++)this._stats[g].num<=this._minCols&&this._stats[g].cols.forEach(function(y){i[y]?i[y]++:i[y]=1})},o.prototype.injectIntoArray=function(i){for(var g=0;g<=this._numGroups;g++)this._stats[g].num<=this._minCols&&this._stats[g].cols.forEach(function(y){i.indexOf(y)==-1&&i.push(y)})},o}();c.HueStatistics=l},function(u,c,m){"use strict";var _=m(22),f=m(24);function h(v){for(var p=[],b=0;b<v;b++)p[b]=0;return p}function l(v,p,b,w){for(var E=new Array(v),D=0;D<v;D++){E[D]=new Array(p);for(var S=0;S<p;S++){E[D][S]=new Array(b);for(var C=0;C<b;C++){E[D][S][C]=new Array(w);for(var I=0;I<w;I++)E[D][S][C][I]=0}}}return E}function o(v,p,b){for(var w=new Array(v),E=0;E<v;E++){w[E]=new Array(p);for(var D=0;D<p;D++){w[E][D]=new Array(b);for(var S=0;S<b;S++)w[E][D][S]=0}}return w}function i(v,p,b,w,E){for(var D=0;D<p;D++){v[D]=[];for(var S=0;S<b;S++){v[D][S]=[];for(var C=0;C<w;C++)v[D][S][C]=E}}}function g(v,p,b){for(var w=0;w<p;w++)v[w]=b}var y=function(){function v(){}return v}();c.WuColorCube=y;var d=function(){function v(p,b,w){b===void 0&&(b=256),w===void 0&&(w=5),this._distance=p,this._setQuality(w),this._initialize(b)}return v.prototype.sample=function(p){for(var b=p.getPointArray(),w=0,E=b.length;w<E;w++)this._addColor(b[w]);this._pixels=this._pixels.concat(b)},v.prototype.quantize=function(){this._preparePalette();for(var p=new _.Palette,b=0;b<this._colors;b++)if(this._sums[b]>0){var w=this._sums[b],E=this._reds[b]/w,D=this._greens[b]/w,S=this._blues[b]/w,C=this._alphas[b]/w,I=f.Point.createByRGBA(E|0,D|0,S|0,C|0);p.add(I)}return p.sort(),p},v.prototype._preparePalette=function(){this._calculateMoments();for(var p=0,b=h(this._colors),w=1;w<this._colors;++w){this._cut(this._cubes[p],this._cubes[w])?(b[p]=this._cubes[p].volume>1?this._calculateVariance(this._cubes[p]):0,b[w]=this._cubes[w].volume>1?this._calculateVariance(this._cubes[w]):0):(b[p]=0,w--),p=0;for(var E=b[0],D=1;D<=w;++D)b[D]>E&&(E=b[D],p=D);if(E<=0){this._colors=w+1;break}}for(var S=[],C=[],I=[],T=[],M=0;M<this._colors;++M){var P=v._volume(this._cubes[M],this._weights);P>0?(S[M]=v._volume(this._cubes[M],this._momentsRed)/P|0,C[M]=v._volume(this._cubes[M],this._momentsGreen)/P|0,I[M]=v._volume(this._cubes[M],this._momentsBlue)/P|0,T[M]=v._volume(this._cubes[M],this._momentsAlpha)/P|0):(S[M]=0,C[M]=0,I[M]=0,T[M]=0)}this._reds=h(this._colors+1),this._greens=h(this._colors+1),this._blues=h(this._colors+1),this._alphas=h(this._colors+1),this._sums=h(this._colors+1);for(var D=0,N=this._pixels.length;D<N;D++){for(var G=this._pixels[D],V=-1,H=V,R=Number.MAX_VALUE,j=0;j<this._colors;j++){var Y=S[j],ne=C[j],re=I[j],ie=T[j],W=this._distance.calculateRaw(Y,ne,re,ie,G.r,G.g,G.b,G.a);W<R&&(R=W,H=j)}this._reds[H]+=G.r,this._greens[H]+=G.g,this._blues[H]+=G.b,this._alphas[H]+=G.a,this._sums[H]++}},v.prototype._addColor=function(p){var b=8-this._significantBitsPerChannel,w=(p.r>>b)+1,E=(p.g>>b)+1,D=(p.b>>b)+1,S=(p.a>>b)+1;this._weights[S][w][E][D]++,this._momentsRed[S][w][E][D]+=p.r,this._momentsGreen[S][w][E][D]+=p.g,this._momentsBlue[S][w][E][D]+=p.b,this._momentsAlpha[S][w][E][D]+=p.a,this._moments[S][w][E][D]+=this._table[p.r]+this._table[p.g]+this._table[p.b]+this._table[p.a]},v.prototype._calculateMoments=function(){for(var p=[],b=[],w=[],E=[],D=[],S=[],C=o(this._sideSize,this._sideSize,this._sideSize),I=o(this._sideSize,this._sideSize,this._sideSize),T=o(this._sideSize,this._sideSize,this._sideSize),M=o(this._sideSize,this._sideSize,this._sideSize),P=o(this._sideSize,this._sideSize,this._sideSize),N=o(this._sideSize,this._sideSize,this._sideSize),G=1;G<=this._alphaMaxSideIndex;++G){i(C,this._sideSize,this._sideSize,this._sideSize,0),i(I,this._sideSize,this._sideSize,this._sideSize,0),i(T,this._sideSize,this._sideSize,this._sideSize,0),i(M,this._sideSize,this._sideSize,this._sideSize,0),i(P,this._sideSize,this._sideSize,this._sideSize,0),i(N,this._sideSize,this._sideSize,this._sideSize,0);for(var V=1;V<=this._maxSideIndex;++V){g(p,this._sideSize,0),g(b,this._sideSize,0),g(w,this._sideSize,0),g(E,this._sideSize,0),g(D,this._sideSize,0),g(S,this._sideSize,0);for(var H=1;H<=this._maxSideIndex;++H)for(var R=0,j=0,Y=0,ne=0,re=0,ie=0,W=1;W<=this._maxSideIndex;++W)R+=this._weights[G][V][H][W],j+=this._momentsRed[G][V][H][W],Y+=this._momentsGreen[G][V][H][W],ne+=this._momentsBlue[G][V][H][W],re+=this._momentsAlpha[G][V][H][W],ie+=this._moments[G][V][H][W],p[W]+=R,b[W]+=j,w[W]+=Y,E[W]+=ne,D[W]+=re,S[W]+=ie,C[V][H][W]=C[V-1][H][W]+p[W],I[V][H][W]=I[V-1][H][W]+b[W],T[V][H][W]=T[V-1][H][W]+w[W],M[V][H][W]=M[V-1][H][W]+E[W],P[V][H][W]=P[V-1][H][W]+D[W],N[V][H][W]=N[V-1][H][W]+S[W],this._weights[G][V][H][W]=this._weights[G-1][V][H][W]+C[V][H][W],this._momentsRed[G][V][H][W]=this._momentsRed[G-1][V][H][W]+I[V][H][W],this._momentsGreen[G][V][H][W]=this._momentsGreen[G-1][V][H][W]+T[V][H][W],this._momentsBlue[G][V][H][W]=this._momentsBlue[G-1][V][H][W]+M[V][H][W],this._momentsAlpha[G][V][H][W]=this._momentsAlpha[G-1][V][H][W]+P[V][H][W],this._moments[G][V][H][W]=this._moments[G-1][V][H][W]+N[V][H][W]}}},v._volumeFloat=function(p,b){return b[p.alphaMaximum][p.redMaximum][p.greenMaximum][p.blueMaximum]-b[p.alphaMaximum][p.redMaximum][p.greenMinimum][p.blueMaximum]-b[p.alphaMaximum][p.redMinimum][p.greenMaximum][p.blueMaximum]+b[p.alphaMaximum][p.redMinimum][p.greenMinimum][p.blueMaximum]-b[p.alphaMinimum][p.redMaximum][p.greenMaximum][p.blueMaximum]+b[p.alphaMinimum][p.redMaximum][p.greenMinimum][p.blueMaximum]+b[p.alphaMinimum][p.redMinimum][p.greenMaximum][p.blueMaximum]-b[p.alphaMinimum][p.redMinimum][p.greenMinimum][p.blueMaximum]-(b[p.alphaMaximum][p.redMaximum][p.greenMaximum][p.blueMinimum]-b[p.alphaMinimum][p.redMaximum][p.greenMaximum][p.blueMinimum]-b[p.alphaMaximum][p.redMaximum][p.greenMinimum][p.blueMinimum]+b[p.alphaMinimum][p.redMaximum][p.greenMinimum][p.blueMinimum]-b[p.alphaMaximum][p.redMinimum][p.greenMaximum][p.blueMinimum]+b[p.alphaMinimum][p.redMinimum][p.greenMaximum][p.blueMinimum]+b[p.alphaMaximum][p.redMinimum][p.greenMinimum][p.blueMinimum]-b[p.alphaMinimum][p.redMinimum][p.greenMinimum][p.blueMinimum])},v._volume=function(p,b){return v._volumeFloat(p,b)|0},v._top=function(p,b,w,E){var D;switch(b){case v.alpha:D=E[w][p.redMaximum][p.greenMaximum][p.blueMaximum]-E[w][p.redMaximum][p.greenMinimum][p.blueMaximum]-E[w][p.redMinimum][p.greenMaximum][p.blueMaximum]+E[w][p.redMinimum][p.greenMinimum][p.blueMaximum]-(E[w][p.redMaximum][p.greenMaximum][p.blueMinimum]-E[w][p.redMaximum][p.greenMinimum][p.blueMinimum]-E[w][p.redMinimum][p.greenMaximum][p.blueMinimum]+E[w][p.redMinimum][p.greenMinimum][p.blueMinimum]);break;case v.red:D=E[p.alphaMaximum][w][p.greenMaximum][p.blueMaximum]-E[p.alphaMaximum][w][p.greenMinimum][p.blueMaximum]-E[p.alphaMinimum][w][p.greenMaximum][p.blueMaximum]+E[p.alphaMinimum][w][p.greenMinimum][p.blueMaximum]-(E[p.alphaMaximum][w][p.greenMaximum][p.blueMinimum]-E[p.alphaMaximum][w][p.greenMinimum][p.blueMinimum]-E[p.alphaMinimum][w][p.greenMaximum][p.blueMinimum]+E[p.alphaMinimum][w][p.greenMinimum][p.blueMinimum]);break;case v.green:D=E[p.alphaMaximum][p.redMaximum][w][p.blueMaximum]-E[p.alphaMaximum][p.redMinimum][w][p.blueMaximum]-E[p.alphaMinimum][p.redMaximum][w][p.blueMaximum]+E[p.alphaMinimum][p.redMinimum][w][p.blueMaximum]-(E[p.alphaMaximum][p.redMaximum][w][p.blueMinimum]-E[p.alphaMaximum][p.redMinimum][w][p.blueMinimum]-E[p.alphaMinimum][p.redMaximum][w][p.blueMinimum]+E[p.alphaMinimum][p.redMinimum][w][p.blueMinimum]);break;case v.blue:D=E[p.alphaMaximum][p.redMaximum][p.greenMaximum][w]-E[p.alphaMaximum][p.redMaximum][p.greenMinimum][w]-E[p.alphaMaximum][p.redMinimum][p.greenMaximum][w]+E[p.alphaMaximum][p.redMinimum][p.greenMinimum][w]-(E[p.alphaMinimum][p.redMaximum][p.greenMaximum][w]-E[p.alphaMinimum][p.redMaximum][p.greenMinimum][w]-E[p.alphaMinimum][p.redMinimum][p.greenMaximum][w]+E[p.alphaMinimum][p.redMinimum][p.greenMinimum][w]);break;default:throw new Error("impossible")}return D|0},v._bottom=function(p,b,w){switch(b){case v.alpha:return-w[p.alphaMinimum][p.redMaximum][p.greenMaximum][p.blueMaximum]+w[p.alphaMinimum][p.redMaximum][p.greenMinimum][p.blueMaximum]+w[p.alphaMinimum][p.redMinimum][p.greenMaximum][p.blueMaximum]-w[p.alphaMinimum][p.redMinimum][p.greenMinimum][p.blueMaximum]-(-w[p.alphaMinimum][p.redMaximum][p.greenMaximum][p.blueMinimum]+w[p.alphaMinimum][p.redMaximum][p.greenMinimum][p.blueMinimum]+w[p.alphaMinimum][p.redMinimum][p.greenMaximum][p.blueMinimum]-w[p.alphaMinimum][p.redMinimum][p.greenMinimum][p.blueMinimum]);case v.red:return-w[p.alphaMaximum][p.redMinimum][p.greenMaximum][p.blueMaximum]+w[p.alphaMaximum][p.redMinimum][p.greenMinimum][p.blueMaximum]+w[p.alphaMinimum][p.redMinimum][p.greenMaximum][p.blueMaximum]-w[p.alphaMinimum][p.redMinimum][p.greenMinimum][p.blueMaximum]-(-w[p.alphaMaximum][p.redMinimum][p.greenMaximum][p.blueMinimum]+w[p.alphaMaximum][p.redMinimum][p.greenMinimum][p.blueMinimum]+w[p.alphaMinimum][p.redMinimum][p.greenMaximum][p.blueMinimum]-w[p.alphaMinimum][p.redMinimum][p.greenMinimum][p.blueMinimum]);case v.green:return-w[p.alphaMaximum][p.redMaximum][p.greenMinimum][p.blueMaximum]+w[p.alphaMaximum][p.redMinimum][p.greenMinimum][p.blueMaximum]+w[p.alphaMinimum][p.redMaximum][p.greenMinimum][p.blueMaximum]-w[p.alphaMinimum][p.redMinimum][p.greenMinimum][p.blueMaximum]-(-w[p.alphaMaximum][p.redMaximum][p.greenMinimum][p.blueMinimum]+w[p.alphaMaximum][p.redMinimum][p.greenMinimum][p.blueMinimum]+w[p.alphaMinimum][p.redMaximum][p.greenMinimum][p.blueMinimum]-w[p.alphaMinimum][p.redMinimum][p.greenMinimum][p.blueMinimum]);case v.blue:return-w[p.alphaMaximum][p.redMaximum][p.greenMaximum][p.blueMinimum]+w[p.alphaMaximum][p.redMaximum][p.greenMinimum][p.blueMinimum]+w[p.alphaMaximum][p.redMinimum][p.greenMaximum][p.blueMinimum]-w[p.alphaMaximum][p.redMinimum][p.greenMinimum][p.blueMinimum]-(-w[p.alphaMinimum][p.redMaximum][p.greenMaximum][p.blueMinimum]+w[p.alphaMinimum][p.redMaximum][p.greenMinimum][p.blueMinimum]+w[p.alphaMinimum][p.redMinimum][p.greenMaximum][p.blueMinimum]-w[p.alphaMinimum][p.redMinimum][p.greenMinimum][p.blueMinimum]);default:return 0}},v.prototype._calculateVariance=function(p){var b=v._volume(p,this._momentsRed),w=v._volume(p,this._momentsGreen),E=v._volume(p,this._momentsBlue),D=v._volume(p,this._momentsAlpha),S=v._volumeFloat(p,this._moments),C=v._volume(p,this._weights),I=b*b+w*w+E*E+D*D;return S-I/C},v.prototype._maximize=function(p,b,w,E,D,S,C,I,T){for(var M=v._bottom(p,b,this._momentsRed)|0,P=v._bottom(p,b,this._momentsGreen)|0,N=v._bottom(p,b,this._momentsBlue)|0,G=v._bottom(p,b,this._momentsAlpha)|0,V=v._bottom(p,b,this._weights)|0,H=0,R=-1,j=w;j<E;++j){var Y=M+v._top(p,b,j,this._momentsRed),ne=P+v._top(p,b,j,this._momentsGreen),re=N+v._top(p,b,j,this._momentsBlue),ie=G+v._top(p,b,j,this._momentsAlpha),W=V+v._top(p,b,j,this._weights);if(W!=0){var q=Y*Y+ne*ne+re*re+ie*ie,te=q/W;Y=D-Y,ne=S-ne,re=C-re,ie=I-ie,W=T-W,W!=0&&(q=Y*Y+ne*ne+re*re+ie*ie,te+=q/W,te>H&&(H=te,R=j))}}return{max:H,position:R}},v.prototype._cut=function(p,b){var w,E=v._volume(p,this._momentsRed),D=v._volume(p,this._momentsGreen),S=v._volume(p,this._momentsBlue),C=v._volume(p,this._momentsAlpha),I=v._volume(p,this._weights),T=this._maximize(p,v.red,p.redMinimum+1,p.redMaximum,E,D,S,C,I),M=this._maximize(p,v.green,p.greenMinimum+1,p.greenMaximum,E,D,S,C,I),P=this._maximize(p,v.blue,p.blueMinimum+1,p.blueMaximum,E,D,S,C,I),N=this._maximize(p,v.alpha,p.alphaMinimum+1,p.alphaMaximum,E,D,S,C,I);if(N.max>=T.max&&N.max>=M.max&&N.max>=P.max){if(w=v.alpha,N.position<0)return!1}else T.max>=N.max&&T.max>=M.max&&T.max>=P.max?w=v.red:M.max>=N.max&&M.max>=T.max&&M.max>=P.max?w=v.green:w=v.blue;switch(b.redMaximum=p.redMaximum,b.greenMaximum=p.greenMaximum,b.blueMaximum=p.blueMaximum,b.alphaMaximum=p.alphaMaximum,w){case v.red:b.redMinimum=p.redMaximum=T.position,b.greenMinimum=p.greenMinimum,b.blueMinimum=p.blueMinimum,b.alphaMinimum=p.alphaMinimum;break;case v.green:b.greenMinimum=p.greenMaximum=M.position,b.redMinimum=p.redMinimum,b.blueMinimum=p.blueMinimum,b.alphaMinimum=p.alphaMinimum;break;case v.blue:b.blueMinimum=p.blueMaximum=P.position,b.redMinimum=p.redMinimum,b.greenMinimum=p.greenMinimum,b.alphaMinimum=p.alphaMinimum;break;case v.alpha:b.alphaMinimum=p.alphaMaximum=N.position,b.blueMinimum=p.blueMinimum,b.redMinimum=p.redMinimum,b.greenMinimum=p.greenMinimum;break}return p.volume=(p.redMaximum-p.redMinimum)*(p.greenMaximum-p.greenMinimum)*(p.blueMaximum-p.blueMinimum)*(p.alphaMaximum-p.alphaMinimum),b.volume=(b.redMaximum-b.redMinimum)*(b.greenMaximum-b.greenMinimum)*(b.blueMaximum-b.blueMinimum)*(b.alphaMaximum-b.alphaMinimum),!0},v.prototype._initialize=function(p){this._colors=p,this._cubes=[];for(var b=0;b<p;b++)this._cubes[b]=new y;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=l(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=l(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=l(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=l(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=l(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=l(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var w=0;w<256;++w)this._table[w]=w*w;this._pixels=[]},v.prototype._setQuality=function(p){p===void 0&&(p=5),this._significantBitsPerChannel=p,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},v.alpha=3,v.red=2,v.green=1,v.blue=0,v}();c.WuQuant=d},function(u,c,m){"use strict";var _=m(31);c.NearestColor=_.NearestColor;var f=m(32);c.ErrorDiffusionArray=f.ErrorDiffusionArray,c.ErrorDiffusionArrayKernel=f.ErrorDiffusionArrayKernel;var h=m(33);c.ErrorDiffusionRiemersma=h.ErrorDiffusionRiemersma},function(u,c){"use strict";var m=function(){function _(f){this._distance=f}return _.prototype.quantize=function(f,h){for(var l=f.getPointArray(),o=f.getWidth(),i=f.getHeight(),g=0;g<i;g++)for(var y=0,d=g*o;y<o;y++,d++){var v=l[d];v.from(h.getNearestColor(this._distance,v))}return f},_}();c.NearestColor=m},function(u,c,m){"use strict";var _=m(24),f=m(6);(function(o){o[o.FloydSteinberg=0]="FloydSteinberg",o[o.FalseFloydSteinberg=1]="FalseFloydSteinberg",o[o.Stucki=2]="Stucki",o[o.Atkinson=3]="Atkinson",o[o.Jarvis=4]="Jarvis",o[o.Burkes=5]="Burkes",o[o.Sierra=6]="Sierra",o[o.TwoSierra=7]="TwoSierra",o[o.SierraLite=8]="SierraLite"})(c.ErrorDiffusionArrayKernel||(c.ErrorDiffusionArrayKernel={}));var h=c.ErrorDiffusionArrayKernel,l=function(){function o(i,g,y,d,v){y===void 0&&(y=!0),d===void 0&&(d=0),v===void 0&&(v=!1),this._setKernel(g),this._distance=i,this._minColorDistance=d,this._serpentine=y,this._calculateErrorLikeGIMP=v}return o.prototype.quantize=function(i,g){for(var y=i.getPointArray(),d=new _.Point,v=i.getWidth(),p=i.getHeight(),b=[],w=1,E=1,D=0;D<this._kernel.length;D++){var S=this._kernel[D][2]+1;E<S&&(E=S)}for(var D=0;D<E;D++)this._fillErrorLine(b[D]=[],v);for(var C=0;C<p;C++){this._serpentine&&(w=w*-1);var I=C*v,T=w==1?0:v-1,M=w==1?v:-1;this._fillErrorLine(b[0],v),b.push(b.shift());for(var P=b[0],N=T,G=I+T;N!==M;N+=w,G+=w){var V=y[G],H=P[N];d.from(V);var R=_.Point.createByRGBA(f.inRange0to255Rounded(V.r+H[0]),f.inRange0to255Rounded(V.g+H[1]),f.inRange0to255Rounded(V.b+H[2]),f.inRange0to255Rounded(V.a+H[3])),j=g.getNearestColor(this._distance,R);if(V.from(j),this._minColorDistance){var Y=this._distance.calculateNormalized(V,j);if(Y<this._minColorDistance)continue}var ne=void 0,re=void 0,ie=void 0,W=void 0;this._calculateErrorLikeGIMP?(ne=R.r-j.r,re=R.g-j.g,ie=R.b-j.b,W=R.a-j.a):(ne=d.r-j.r,re=d.g-j.g,ie=d.b-j.b,W=d.a-j.a);for(var q=w==1?0:this._kernel.length-1,te=w==1?this._kernel.length:-1,D=q;D!==te;D+=w){var K=this._kernel[D][1]*w,J=this._kernel[D][2];if(K+N>=0&&K+N<v&&J+C>=0&&J+C<p){var le=this._kernel[D][0],se=b[J][K+N];se[0]=se[0]+ne*le,se[1]=se[1]+re*le,se[2]=se[2]+ie*le,se[3]=se[3]+W*le}}}}return i},o.prototype._fillErrorLine=function(i,g){i.length>g&&(i.length=g);for(var y=i.length,d=0;d<y;d++){var v=i[d];v[0]=v[1]=v[2]=v[3]=0}for(var d=y;d<g;d++)i[d]=[0,0,0,0]},o.prototype._setKernel=function(i){switch(i){case h.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case h.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case h.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case h.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case h.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case h.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case h.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case h.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case h.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+i)}},o}();c.ErrorDiffusionArray=l},function(u,c,m){"use strict";var _=m(34),f=m(24),h=m(6),l=function(){function o(i,g,y){g===void 0&&(g=16),y===void 0&&(y=1),this._distance=i,this._errorPropagation=y,this._errorQueueSize=g,this._max=this._errorQueueSize,this._createWeights()}return o.prototype.quantize=function(i,g){for(var y=this,d=new _.HilbertCurveBase,v=i.getPointArray(),p=i.getWidth(),b=i.getHeight(),w=[],E=0,D=0;D<this._errorQueueSize;D++)w[D]={r:0,g:0,b:0,a:0};return d.walk(p,b,function(S,C){for(var I=v[S+C*p],T=I.r,M=I.g,P=I.b,N=I.a,G=0;G<y._errorQueueSize;G++){var V=y._weights[G],H=w[(G+E)%y._errorQueueSize];T+=H.r*V,M+=H.g*V,P+=H.b*V,N+=H.a*V}var R=f.Point.createByRGBA(h.inRange0to255Rounded(T),h.inRange0to255Rounded(M),h.inRange0to255Rounded(P),h.inRange0to255Rounded(N)),j=g.getNearestColor(y._distance,R);E=(E+1)%y._errorQueueSize;var Y=(E+y._errorQueueSize-1)%y._errorQueueSize;w[Y].r=I.r-j.r,w[Y].g=I.g-j.g,w[Y].b=I.b-j.b,w[Y].a=I.a-j.a,I.from(j)}),i},o.prototype._createWeights=function(){this._weights=[];for(var i=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),g=0,y=1;g<this._errorQueueSize;g++)this._weights[g]=(y+.5|0)/this._max*this._errorPropagation,y*=i},o}();c.ErrorDiffusionRiemersma=l},function(u,c){"use strict";var m=function(f){return f[f.NONE=0]="NONE",f[f.UP=1]="UP",f[f.LEFT=2]="LEFT",f[f.RIGHT=3]="RIGHT",f[f.DOWN=4]="DOWN",f}(m||{}),_=function(){function f(){}return f.prototype.walk=function(h,l,o){this._x=0,this._y=0,this._d=0,this._width=h,this._height=l,this._callback=o;var i=Math.max(h,l);this._level=Math.log(i)/Math.log(2)+1|0,this._walkHilbert(m.UP),this._visit(m.NONE)},f.prototype._walkHilbert=function(h){if(!(this._level<1)){switch(this._level--,h){case m.LEFT:this._walkHilbert(m.UP),this._visit(m.RIGHT),this._walkHilbert(m.LEFT),this._visit(m.DOWN),this._walkHilbert(m.LEFT),this._visit(m.LEFT),this._walkHilbert(m.DOWN);break;case m.RIGHT:this._walkHilbert(m.DOWN),this._visit(m.LEFT),this._walkHilbert(m.RIGHT),this._visit(m.UP),this._walkHilbert(m.RIGHT),this._visit(m.RIGHT),this._walkHilbert(m.UP);break;case m.UP:this._walkHilbert(m.LEFT),this._visit(m.DOWN),this._walkHilbert(m.UP),this._visit(m.RIGHT),this._walkHilbert(m.UP),this._visit(m.UP),this._walkHilbert(m.RIGHT);break;case m.DOWN:this._walkHilbert(m.RIGHT),this._visit(m.UP),this._walkHilbert(m.DOWN),this._visit(m.LEFT),this._walkHilbert(m.DOWN),this._visit(m.DOWN),this._walkHilbert(m.LEFT);break;default:break}this._level++}},f.prototype._visit=function(h){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),h){case m.LEFT:this._x--;break;case m.RIGHT:this._x++;break;case m.UP:this._y--;break;case m.DOWN:this._y++;break}},f}();c.HilbertCurveBase=_},function(u,c,m){"use strict";var _=m(36);c.SSIM=_.SSIM},function(u,c,m){"use strict";var _=m(2),f=.01,h=.03,l=function(){function o(){}return o.prototype.compare=function(i,g){if(i.getHeight()!==g.getHeight()||i.getWidth()!==g.getWidth())throw new Error("Images have different sizes!");var y=8,d=(1<<y)-1,v=Math.pow(f*d,2),p=Math.pow(h*d,2),b=0,w=0;return this._iterate(i,g,function(E,D,S,C){for(var I=0,T=0,M=0,P=0;P<E.length;P++)T+=Math.pow(E[P]-S,2),M+=Math.pow(D[P]-C,2),I+=(E[P]-S)*(D[P]-C);var N=E.length-1;T/=N,M/=N,I/=N;var G=(2*S*C+v)*(2*I+p),V=(Math.pow(S,2)+Math.pow(C,2)+v)*(T+M+p),H=G/V;w+=H,b++}),w/b},o.prototype._iterate=function(i,g,y){for(var d=8,v=i.getWidth(),p=i.getHeight(),b=0;b<p;b+=d)for(var w=0;w<v;w+=d){var E=Math.min(d,v-w),D=Math.min(d,p-b),S=this._calculateLumaValuesForWindow(i,w,b,E,D),C=this._calculateLumaValuesForWindow(g,w,b,E,D),I=this._calculateAverageLuma(S),T=this._calculateAverageLuma(C);y(S,C,I,T)}},o.prototype._calculateLumaValuesForWindow=function(i,g,y,d,v){for(var p=i.getPointArray(),b=[],w=0,E=y;E<y+v;E++)for(var D=E*i.getWidth(),S=g;S<g+d;S++){var C=p[D+S];b[w]=C.r*_.Y.RED+C.g*_.Y.GREEN+C.b*_.Y.BLUE,w++}return b},o.prototype._calculateAverageLuma=function(i){for(var g=0,y=0;y<i.length;y++)g+=i[y];return g/i.length},o}();c.SSIM=l},function(u,c,m){"use strict";var _=m(6);c.arithmetic=_;var f=m(28);c.HueStatistics=f.HueStatistics;var h=m(22);c.Palette=h.Palette;var l=m(24);c.Point=l.Point;var o=m(23);c.PointContainer=o.PointContainer}])})},{}],75:[function(n,a,s){typeof Object.create=="function"?a.exports=function(c,m){m&&(c.super_=m,c.prototype=Object.create(m.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(c,m){if(m){c.super_=m;var _=function(){};_.prototype=m.prototype,c.prototype=new _,c.prototype.constructor=c}}},{}],76:[function(n,a,s){a.exports=function(m){return m!=null&&(u(m)||c(m)||!!m._isBuffer)};function u(m){return!!m.constructor&&typeof m.constructor.isBuffer=="function"&&m.constructor.isBuffer(m)}function c(m){return typeof m.readFloatLE=="function"&&typeof m.slice=="function"&&u(m.slice(0,0))}},{}],77:[function(n,a,s){"use strict";var u=Function.prototype.toString,c=/^\s*class\b/,m=function(g){try{var y=u.call(g);return c.test(y)}catch{return!1}},_=function(g){try{return m(g)?!1:(u.call(g),!0)}catch{return!1}},f=Object.prototype.toString,h="[object Function]",l="[object GeneratorFunction]",o=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";a.exports=function(g){if(!g||typeof g!="function"&&typeof g!="object")return!1;if(typeof g=="function"&&!g.prototype)return!0;if(o)return _(g);if(m(g))return!1;var y=f.call(g);return y===h||y===l}},{}],78:[function(n,a,s){a.exports=c;var u=Object.prototype.toString;function c(m){var _=u.call(m);return _==="[object Function]"||typeof m=="function"&&_!=="[object RegExp]"||typeof ze<"u"&&(m===ze.setTimeout||m===ze.alert||m===ze.confirm||m===ze.prompt)}},{}],79:[function(n,a,s){var u={}.toString;a.exports=Array.isArray||function(c){return u.call(c)=="[object Array]"}},{}],80:[function(n,a,s){var u=n("./lib/encoder"),c=n("./lib/decoder");a.exports={encode:u,decode:c}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(n,a,s){(function(u){var c=function(){"use strict";var f=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),h=4017,l=799,o=3406,i=2276,g=1567,y=3784,d=5793,v=2896;function p(){}function b(T,M){for(var P=0,N=[],G,V,H=16;H>0&&!T[H-1];)H--;N.push({children:[],index:0});var R=N[0],j;for(G=0;G<H;G++){for(V=0;V<T[G];V++){for(R=N.pop(),R.children[R.index]=M[P];R.index>0;){if(N.length===0)throw new Error("Could not recreate Huffman Table");R=N.pop()}for(R.index++,N.push(R);N.length<=G;)N.push(j={children:[],index:0}),R.children[R.index]=j.children,R=j;P++}G+1<H&&(N.push(j={children:[],index:0}),R.children[R.index]=j.children,R=j)}return N[0].children}function w(T,M,P,N,G,V,H,R,j,Y){var ne=P.precision,re=P.samplesPerLine,ie=P.scanLines,W=P.mcusPerLine,q=P.progressive,te=P.maxH,K=P.maxV,J=M,le=0,se=0;function _e(){if(se>0)return se--,le>>se&1;if(le=T[M++],le==255){var L=T[M++];if(L)throw new Error("unexpected marker: "+(le<<8|L).toString(16))}return se=7,le>>>7}function ge(L){for(var ce=L,me;(me=_e())!==null;){if(ce=ce[me],typeof ce=="number")return ce;if(typeof ce!="object")throw new Error("invalid huffman sequence")}return null}function Ee(L){for(var ce=0;L>0;){var me=_e();if(me===null)return;ce=ce<<1|me,L--}return ce}function ae(L){var ce=Ee(L);return ce>=1<<L-1?ce:ce+(-1<<L)+1}function oe(L,ce){var me=ge(L.huffmanTableDC),De=me===0?0:ae(me);ce[0]=L.pred+=De;for(var de=1;de<64;){var ve=ge(L.huffmanTableAC),X=ve&15,xe=ve>>4;if(X===0){if(xe<15)break;de+=16;continue}de+=xe;var Te=f[de];ce[Te]=ae(X),de++}}function Q(L,ce){var me=ge(L.huffmanTableDC),De=me===0?0:ae(me)<<j;ce[0]=L.pred+=De}function Z(L,ce){ce[0]|=_e()<<j}var z=0;function $(L,ce){if(z>0){z--;return}for(var me=V,De=H;me<=De;){var de=ge(L.huffmanTableAC),ve=de&15,X=de>>4;if(ve===0){if(X<15){z=Ee(X)+(1<<X)-1;break}me+=16;continue}me+=X;var xe=f[me];ce[xe]=ae(ve)*(1<<j),me++}}var O=0,B;function U(L,ce){for(var me=V,De=H,de=0;me<=De;){var ve=f[me],X=ce[ve]<0?-1:1;switch(O){case 0:var xe=ge(L.huffmanTableAC),Te=xe&15,de=xe>>4;if(Te===0)de<15?(z=Ee(de)+(1<<de),O=4):(de=16,O=1);else{if(Te!==1)throw new Error("invalid ACn encoding");B=ae(Te),O=de?2:3}continue;case 1:case 2:ce[ve]?ce[ve]+=(_e()<<j)*X:(de--,de===0&&(O=O==2?3:0));break;case 3:ce[ve]?ce[ve]+=(_e()<<j)*X:(ce[ve]=B<<j,O=0);break;case 4:ce[ve]&&(ce[ve]+=(_e()<<j)*X);break}me++}O===4&&(z--,z===0&&(O=0))}function A(L,ce,me,De,de){var ve=me/W|0,X=me%W,xe=ve*L.v+De,Te=X*L.h+de;L.blocks[xe]===void 0&&Y.tolerantDecoding||ce(L,L.blocks[xe][Te])}function k(L,ce,me){var De=me/L.blocksPerLine|0,de=me%L.blocksPerLine;L.blocks[De]===void 0&&Y.tolerantDecoding||ce(L,L.blocks[De][de])}var ee=N.length,he,we,pe,Ce,Me,Ae;q?V===0?Ae=R===0?Q:Z:Ae=R===0?$:U:Ae=oe;var Oe=0,Ne,ke;ee==1?ke=N[0].blocksPerLine*N[0].blocksPerColumn:ke=W*P.mcusPerColumn,G||(G=ke);for(var Be,je;Oe<ke;){for(we=0;we<ee;we++)N[we].pred=0;if(z=0,ee==1)for(he=N[0],Me=0;Me<G;Me++)k(he,Ae,Oe),Oe++;else for(Me=0;Me<G;Me++){for(we=0;we<ee;we++)for(he=N[we],Be=he.h,je=he.v,pe=0;pe<je;pe++)for(Ce=0;Ce<Be;Ce++)A(he,Ae,Oe,pe,Ce);if(Oe++,Oe===ke)break}if(Oe===ke)do{if(T[M]===255&&T[M+1]!==0)break;M+=1}while(M<T.length-2);if(se=0,Ne=T[M]<<8|T[M+1],Ne<65280)throw new Error("marker was not found");if(Ne>=65488&&Ne<=65495)M+=2;else break}return M-J}function E(T,M){var P=[],N=M.blocksPerLine,G=M.blocksPerColumn,V=N<<3,H=new Int32Array(64),R=new Uint8Array(64);function j(J,le,se){var _e=M.quantizationTable,ge,Ee,ae,oe,Q,Z,z,$,O,B=se,U;for(U=0;U<64;U++)B[U]=J[U]*_e[U];for(U=0;U<8;++U){var A=8*U;if(B[1+A]==0&&B[2+A]==0&&B[3+A]==0&&B[4+A]==0&&B[5+A]==0&&B[6+A]==0&&B[7+A]==0){O=d*B[0+A]+512>>10,B[0+A]=O,B[1+A]=O,B[2+A]=O,B[3+A]=O,B[4+A]=O,B[5+A]=O,B[6+A]=O,B[7+A]=O;continue}ge=d*B[0+A]+128>>8,Ee=d*B[4+A]+128>>8,ae=B[2+A],oe=B[6+A],Q=v*(B[1+A]-B[7+A])+128>>8,$=v*(B[1+A]+B[7+A])+128>>8,Z=B[3+A]<<4,z=B[5+A]<<4,O=ge-Ee+1>>1,ge=ge+Ee+1>>1,Ee=O,O=ae*y+oe*g+128>>8,ae=ae*g-oe*y+128>>8,oe=O,O=Q-z+1>>1,Q=Q+z+1>>1,z=O,O=$+Z+1>>1,Z=$-Z+1>>1,$=O,O=ge-oe+1>>1,ge=ge+oe+1>>1,oe=O,O=Ee-ae+1>>1,Ee=Ee+ae+1>>1,ae=O,O=Q*i+$*o+2048>>12,Q=Q*o-$*i+2048>>12,$=O,O=Z*l+z*h+2048>>12,Z=Z*h-z*l+2048>>12,z=O,B[0+A]=ge+$,B[7+A]=ge-$,B[1+A]=Ee+z,B[6+A]=Ee-z,B[2+A]=ae+Z,B[5+A]=ae-Z,B[3+A]=oe+Q,B[4+A]=oe-Q}for(U=0;U<8;++U){var k=U;if(B[8+k]==0&&B[16+k]==0&&B[24+k]==0&&B[32+k]==0&&B[40+k]==0&&B[48+k]==0&&B[56+k]==0){O=d*se[U+0]+8192>>14,B[0+k]=O,B[8+k]=O,B[16+k]=O,B[24+k]=O,B[32+k]=O,B[40+k]=O,B[48+k]=O,B[56+k]=O;continue}ge=d*B[0+k]+2048>>12,Ee=d*B[32+k]+2048>>12,ae=B[16+k],oe=B[48+k],Q=v*(B[8+k]-B[56+k])+2048>>12,$=v*(B[8+k]+B[56+k])+2048>>12,Z=B[24+k],z=B[40+k],O=ge-Ee+1>>1,ge=ge+Ee+1>>1,Ee=O,O=ae*y+oe*g+2048>>12,ae=ae*g-oe*y+2048>>12,oe=O,O=Q-z+1>>1,Q=Q+z+1>>1,z=O,O=$+Z+1>>1,Z=$-Z+1>>1,$=O,O=ge-oe+1>>1,ge=ge+oe+1>>1,oe=O,O=Ee-ae+1>>1,Ee=Ee+ae+1>>1,ae=O,O=Q*i+$*o+2048>>12,Q=Q*o-$*i+2048>>12,$=O,O=Z*l+z*h+2048>>12,Z=Z*h-z*l+2048>>12,z=O,B[0+k]=ge+$,B[56+k]=ge-$,B[8+k]=Ee+z,B[48+k]=Ee-z,B[16+k]=ae+Z,B[40+k]=ae-Z,B[24+k]=oe+Q,B[32+k]=oe-Q}for(U=0;U<64;++U){var ee=128+(B[U]+8>>4);le[U]=ee<0?0:ee>255?255:ee}}I(V*G*8);for(var Y,ne,re=0;re<G;re++){var ie=re<<3;for(Y=0;Y<8;Y++)P.push(new Uint8Array(V));for(var W=0;W<N;W++){j(M.blocks[re][W],R,H);var q=0,te=W<<3;for(ne=0;ne<8;ne++){var K=P[ie+ne];for(Y=0;Y<8;Y++)K[te+Y]=R[q++]}}}return P}function D(T){return T<0?0:T>255?255:T}p.prototype={load:function(M){var P=new XMLHttpRequest;P.open("GET",M,!0),P.responseType="arraybuffer",P.onload=function(){var N=new Uint8Array(P.response||P.mozResponseArrayBuffer);this.parse(N),this.onload&&this.onload()}.bind(this),P.send(null)},parse:function(M){var P=this.opts.maxResolutionInMP*1e3*1e3,N=0,G=M.length;function V(){var ve=M[N]<<8|M[N+1];return N+=2,ve}function H(){var ve=V(),X=M.subarray(N,N+ve-2);return N+=X.length,X}function R(ve){var X=0,xe=0,Te,x;for(x in ve.components)ve.components.hasOwnProperty(x)&&(Te=ve.components[x],X<Te.h&&(X=Te.h),xe<Te.v&&(xe=Te.v));var fe=Math.ceil(ve.samplesPerLine/8/X),ye=Math.ceil(ve.scanLines/8/xe);for(x in ve.components)if(ve.components.hasOwnProperty(x)){Te=ve.components[x];var F=Math.ceil(Math.ceil(ve.samplesPerLine/8)*Te.h/X),ue=Math.ceil(Math.ceil(ve.scanLines/8)*Te.v/xe),be=fe*Te.h,Ie=ye*Te.v,Se=Ie*be,Pe=[];I(Se*256);for(var Fe=0;Fe<Ie;Fe++){for(var gt=[],it=0;it<be;it++)gt.push(new Int32Array(64));Pe.push(gt)}Te.blocksPerLine=F,Te.blocksPerColumn=ue,Te.blocks=Pe}ve.maxH=X,ve.maxV=xe,ve.mcusPerLine=fe,ve.mcusPerColumn=ye}var j=null,Y=null,ne=null,re,ie,W=[],q=[],te=[],K=[],J=V();if(J!=65496)throw new Error("SOI not found");for(J=V();J!=65497;){var le,se,_e;switch(J){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ge=H();J===65504&&ge[0]===74&&ge[1]===70&&ge[2]===73&&ge[3]===70&&ge[4]===0&&(j={version:{major:ge[5],minor:ge[6]},densityUnits:ge[7],xDensity:ge[8]<<8|ge[9],yDensity:ge[10]<<8|ge[11],thumbWidth:ge[12],thumbHeight:ge[13],thumbData:ge.subarray(14,14+3*ge[12]*ge[13])}),J===65505&&ge[0]===69&&ge[1]===120&&ge[2]===105&&ge[3]===102&&ge[4]===0&&(this.exifBuffer=ge.subarray(5,ge.length)),J===65518&&ge[0]===65&&ge[1]===100&&ge[2]===111&&ge[3]===98&&ge[4]===101&&ge[5]===0&&(Y={version:ge[6],flags0:ge[7]<<8|ge[8],flags1:ge[9]<<8|ge[10],transformCode:ge[11]});break;case 65499:for(var Ee=V(),ae=Ee+N-2;N<ae;){var oe=M[N++];I(256);var Q=new Int32Array(64);if(oe>>4===0)for(se=0;se<64;se++){var Z=f[se];Q[Z]=M[N++]}else if(oe>>4===1)for(se=0;se<64;se++){var Z=f[se];Q[Z]=V()}else throw new Error("DQT: invalid table spec");W[oe&15]=Q}break;case 65472:case 65473:case 65474:V(),re={},re.extended=J===65473,re.progressive=J===65474,re.precision=M[N++],re.scanLines=V(),re.samplesPerLine=V(),re.components={},re.componentsOrder=[];var z=re.scanLines*re.samplesPerLine;if(z>P){var $=Math.ceil((z-P)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${$}MP`)}var O=M[N++],B,U=0,A=0;for(le=0;le<O;le++){B=M[N];var k=M[N+1]>>4,ee=M[N+1]&15,he=M[N+2];re.componentsOrder.push(B),re.components[B]={h:k,v:ee,quantizationIdx:he},N+=3}R(re),q.push(re);break;case 65476:var we=V();for(le=2;le<we;){var pe=M[N++],Ce=new Uint8Array(16),Me=0;for(se=0;se<16;se++,N++)Me+=Ce[se]=M[N];I(16+Me);var Ae=new Uint8Array(Me);for(se=0;se<Me;se++,N++)Ae[se]=M[N];le+=17+Me,(pe>>4===0?K:te)[pe&15]=b(Ce,Ae)}break;case 65501:V(),ie=V();break;case 65498:var Oe=V(),Ne=M[N++],ke=[],Be;for(le=0;le<Ne;le++){Be=re.components[M[N++]];var je=M[N++];Be.huffmanTableDC=K[je>>4],Be.huffmanTableAC=te[je&15],ke.push(Be)}var L=M[N++],ce=M[N++],me=M[N++],De=w(M,N,re,ke,ie,L,ce,me>>4,me&15,this.opts);N+=De;break;case 65535:M[N]!==255&&N--;break;default:if(M[N-3]==255&&M[N-2]>=192&&M[N-2]<=254){N-=3;break}throw new Error("unknown JPEG marker "+J.toString(16))}J=V()}if(q.length!=1)throw new Error("only single frame JPEGs supported");for(var le=0;le<q.length;le++){var de=q[le].components;for(var se in de)de[se].quantizationTable=W[de[se].quantizationIdx],delete de[se].quantizationIdx}this.width=re.samplesPerLine,this.height=re.scanLines,this.jfif=j,this.adobe=Y,this.components=[];for(var le=0;le<re.componentsOrder.length;le++){var Be=re.components[re.componentsOrder[le]];this.components.push({lines:E(re,Be),scaleX:Be.h/re.maxH,scaleY:Be.v/re.maxV})}},getData:function(M,P){var N=this.width/M,G=this.height/P,V,H,R,j,Y,ne,re,ie,W,q,te=0,K,J,le,se,_e,ge,Ee,ae,oe,Q,Z,z=M*P*this.components.length;I(z);var $=new Uint8Array(z);switch(this.components.length){case 1:for(V=this.components[0],q=0;q<P;q++)for(Y=V.lines[0|q*V.scaleY*G],W=0;W<M;W++)K=Y[0|W*V.scaleX*N],$[te++]=K;break;case 2:for(V=this.components[0],H=this.components[1],q=0;q<P;q++)for(Y=V.lines[0|q*V.scaleY*G],ne=H.lines[0|q*H.scaleY*G],W=0;W<M;W++)K=Y[0|W*V.scaleX*N],$[te++]=K,K=ne[0|W*H.scaleX*N],$[te++]=K;break;case 3:for(Z=!0,this.adobe&&this.adobe.transformCode?Z=!0:typeof this.opts.colorTransform<"u"&&(Z=!!this.opts.colorTransform),V=this.components[0],H=this.components[1],R=this.components[2],q=0;q<P;q++)for(Y=V.lines[0|q*V.scaleY*G],ne=H.lines[0|q*H.scaleY*G],re=R.lines[0|q*R.scaleY*G],W=0;W<M;W++)Z?(K=Y[0|W*V.scaleX*N],J=ne[0|W*H.scaleX*N],le=re[0|W*R.scaleX*N],ae=D(K+1.402*(le-128)),oe=D(K-.3441363*(J-128)-.71413636*(le-128)),Q=D(K+1.772*(J-128))):(ae=Y[0|W*V.scaleX*N],oe=ne[0|W*H.scaleX*N],Q=re[0|W*R.scaleX*N]),$[te++]=ae,$[te++]=oe,$[te++]=Q;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Z=!1,this.adobe&&this.adobe.transformCode?Z=!0:typeof this.opts.colorTransform<"u"&&(Z=!!this.opts.colorTransform),V=this.components[0],H=this.components[1],R=this.components[2],j=this.components[3],q=0;q<P;q++)for(Y=V.lines[0|q*V.scaleY*G],ne=H.lines[0|q*H.scaleY*G],re=R.lines[0|q*R.scaleY*G],ie=j.lines[0|q*j.scaleY*G],W=0;W<M;W++)Z?(K=Y[0|W*V.scaleX*N],J=ne[0|W*H.scaleX*N],le=re[0|W*R.scaleX*N],se=ie[0|W*j.scaleX*N],_e=255-D(K+1.402*(le-128)),ge=255-D(K-.3441363*(J-128)-.71413636*(le-128)),Ee=255-D(K+1.772*(J-128))):(_e=Y[0|W*V.scaleX*N],ge=ne[0|W*H.scaleX*N],Ee=re[0|W*R.scaleX*N],se=ie[0|W*j.scaleX*N]),$[te++]=255-_e,$[te++]=255-ge,$[te++]=255-Ee,$[te++]=255-se;break;default:throw new Error("Unsupported color mode")}return $},copyToImageData:function(M,P){var N=M.width,G=M.height,V=M.data,H=this.getData(N,G),R=0,j=0,Y,ne,re,ie,W,q,te,K,J;switch(this.components.length){case 1:for(ne=0;ne<G;ne++)for(Y=0;Y<N;Y++)re=H[R++],V[j++]=re,V[j++]=re,V[j++]=re,P&&(V[j++]=255);break;case 3:for(ne=0;ne<G;ne++)for(Y=0;Y<N;Y++)te=H[R++],K=H[R++],J=H[R++],V[j++]=te,V[j++]=K,V[j++]=J,P&&(V[j++]=255);break;case 4:for(ne=0;ne<G;ne++)for(Y=0;Y<N;Y++)W=H[R++],q=H[R++],re=H[R++],ie=H[R++],te=255-D(W*(1-ie/255)+ie),K=255-D(q*(1-ie/255)+ie),J=255-D(re*(1-ie/255)+ie),V[j++]=te,V[j++]=K,V[j++]=J,P&&(V[j++]=255);break;default:throw new Error("Unsupported color mode")}}};var S=0,C=0;function I(T=0){var M=S+T;if(M>C){var P=Math.ceil((M-C)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${P}MB`)}S=M}return p.resetMaxMemoryUsage=function(T){S=0,C=T},p.getBytesAllocated=function(){return S},p.requestMemoryAllocation=I,p}();typeof a<"u"?a.exports=m:typeof ze<"u"&&(ze["jpeg-js"]=ze["jpeg-js"]||{},ze["jpeg-js"].decode=m);function m(_,f={}){var h={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},l=Ue(Ue({},h),f),o=new Uint8Array(_),i=new c;i.opts=l,c.resetMaxMemoryUsage(l.maxMemoryUsageInMB*1024*1024),i.parse(o);var g=l.formatAsRGBA?4:3,y=i.width*i.height*g;try{c.requestMemoryAllocation(y);var d={width:i.width,height:i.height,exifBuffer:i.exifBuffer,data:l.useTArray?new Uint8Array(y):new u(y)}}catch(v){throw v instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+y):v}return i.copyToImageData(d,l.formatAsRGBA),d}}).call(this,n("buffer").Buffer)},{buffer:48}],82:[function(n,a,s){(function(u){var c=c||function(h){return new u(h).toString("base64")};function m(h){var l=this,o=Math.round,i=Math.floor,g=new Array(64),y=new Array(64),d=new Array(64),v=new Array(64),p,b,w,E,D=new Array(65535),S=new Array(65535),C=new Array(64),I=new Array(64),T=[],M=0,P=7,N=new Array(64),G=new Array(64),V=new Array(64),H=new Array(256),R=new Array(2048),j,Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ne=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(pe){for(var Ce=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Me=0;Me<64;Me++){var Ae=i((Ce[Me]*pe+50)/100);Ae<1?Ae=1:Ae>255&&(Ae=255),g[Y[Me]]=Ae}for(var Oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var ke=i((Oe[Ne]*pe+50)/100);ke<1?ke=1:ke>255&&(ke=255),y[Y[Ne]]=ke}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,L=0;L<8;L++)for(var ce=0;ce<8;ce++)d[je]=1/(g[Y[je]]*Be[L]*Be[ce]*8),v[je]=1/(y[Y[je]]*Be[L]*Be[ce]*8),je++}function se(pe,Ce){for(var Me=0,Ae=0,Oe=new Array,Ne=1;Ne<=16;Ne++){for(var ke=1;ke<=pe[Ne];ke++)Oe[Ce[Ae]]=[],Oe[Ce[Ae]][0]=Me,Oe[Ce[Ae]][1]=Ne,Ae++,Me++;Me*=2}return Oe}function _e(){p=se(ne,re),b=se(q,te),w=se(ie,W),E=se(K,J)}function ge(){for(var pe=1,Ce=2,Me=1;Me<=15;Me++){for(var Ae=pe;Ae<Ce;Ae++)S[32767+Ae]=Me,D[32767+Ae]=[],D[32767+Ae][1]=Me,D[32767+Ae][0]=Ae;for(var Oe=-(Ce-1);Oe<=-pe;Oe++)S[32767+Oe]=Me,D[32767+Oe]=[],D[32767+Oe][1]=Me,D[32767+Oe][0]=Ce-1+Oe;pe<<=1,Ce<<=1}}function Ee(){for(var pe=0;pe<256;pe++)R[pe]=19595*pe,R[pe+256>>0]=38470*pe,R[pe+512>>0]=7471*pe+32768,R[pe+768>>0]=-11059*pe,R[pe+1024>>0]=-21709*pe,R[pe+1280>>0]=32768*pe+8421375,R[pe+1536>>0]=-27439*pe,R[pe+1792>>0]=-5329*pe}function ae(pe){for(var Ce=pe[0],Me=pe[1]-1;Me>=0;)Ce&1<<Me&&(M|=1<<P),Me--,P--,P<0&&(M==255?(oe(255),oe(0)):oe(M),P=7,M=0)}function oe(pe){T.push(pe)}function Q(pe){oe(pe>>8&255),oe(pe&255)}function Z(pe,Ce){var Me,Ae,Oe,Ne,ke,Be,je,L,ce=0,me,De=8,de=64;for(me=0;me<De;++me){Me=pe[ce],Ae=pe[ce+1],Oe=pe[ce+2],Ne=pe[ce+3],ke=pe[ce+4],Be=pe[ce+5],je=pe[ce+6],L=pe[ce+7];var ve=Me+L,X=Me-L,xe=Ae+je,Te=Ae-je,x=Oe+Be,fe=Oe-Be,ye=Ne+ke,F=Ne-ke,ue=ve+ye,be=ve-ye,Ie=xe+x,Se=xe-x;pe[ce]=ue+Ie,pe[ce+4]=ue-Ie;var Pe=(Se+be)*.707106781;pe[ce+2]=be+Pe,pe[ce+6]=be-Pe,ue=F+fe,Ie=fe+Te,Se=Te+X;var Fe=(ue-Se)*.382683433,gt=.5411961*ue+Fe,it=1.306562965*Se+Fe,Xe=Ie*.707106781,lt=X+Xe,pt=X-Xe;pe[ce+5]=pt+gt,pe[ce+3]=pt-gt,pe[ce+1]=lt+it,pe[ce+7]=lt-it,ce+=8}for(ce=0,me=0;me<De;++me){Me=pe[ce],Ae=pe[ce+8],Oe=pe[ce+16],Ne=pe[ce+24],ke=pe[ce+32],Be=pe[ce+40],je=pe[ce+48],L=pe[ce+56];var It=Me+L,qn=Me-L,lr=Ae+je,ht=Ae-je,Pt=Oe+Be,yt=Oe-Be,Zt=Ne+ke,qt=Ne-ke,Yn=It+Zt,Os=It-Zt,Eo=lr+Pt,xo=lr-Pt;pe[ce]=Yn+Eo,pe[ce+32]=Yn-Eo;var pf=(xo+Os)*.707106781;pe[ce+16]=Os+pf,pe[ce+48]=Os-pf,Yn=qt+yt,Eo=yt+ht,xo=ht+qn;var gf=(Yn-xo)*.382683433,mf=.5411961*Yn+gf,vf=1.306562965*xo+gf,yf=Eo*.707106781,_f=qn+yf,bf=qn-yf;pe[ce+40]=bf+mf,pe[ce+24]=bf-mf,pe[ce+8]=_f+vf,pe[ce+56]=_f-vf,ce++}var Do;for(me=0;me<de;++me)Do=pe[me]*Ce[me],C[me]=Do>0?Do+.5|0:Do-.5|0;return C}function z(){Q(65504),Q(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),Q(1),Q(1),oe(0),oe(0)}function $(pe){if(pe){Q(65505),pe[0]===69&&pe[1]===120&&pe[2]===105&&pe[3]===102?Q(pe.length+2):(Q(pe.length+5+2),oe(69),oe(120),oe(105),oe(102),oe(0));for(var Ce=0;Ce<pe.length;Ce++)oe(pe[Ce])}}function O(pe,Ce){Q(65472),Q(17),oe(8),Q(Ce),Q(pe),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}function B(){Q(65499),Q(132),oe(0);for(var pe=0;pe<64;pe++)oe(g[pe]);oe(1);for(var Ce=0;Ce<64;Ce++)oe(y[Ce])}function U(){Q(65476),Q(418),oe(0);for(var pe=0;pe<16;pe++)oe(ne[pe+1]);for(var Ce=0;Ce<=11;Ce++)oe(re[Ce]);oe(16);for(var Me=0;Me<16;Me++)oe(ie[Me+1]);for(var Ae=0;Ae<=161;Ae++)oe(W[Ae]);oe(1);for(var Oe=0;Oe<16;Oe++)oe(q[Oe+1]);for(var Ne=0;Ne<=11;Ne++)oe(te[Ne]);oe(17);for(var ke=0;ke<16;ke++)oe(K[ke+1]);for(var Be=0;Be<=161;Be++)oe(J[Be])}function A(){Q(65498),Q(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0)}function k(pe,Ce,Me,Ae,Oe){for(var Ne=Oe[0],ke=Oe[240],Be,je=16,L=63,ce=64,me=Z(pe,Ce),De=0;De<ce;++De)I[Y[De]]=me[De];var de=I[0]-Me;Me=I[0],de==0?ae(Ae[0]):(Be=32767+de,ae(Ae[S[Be]]),ae(D[Be]));for(var ve=63;ve>0&&I[ve]==0;ve--);if(ve==0)return ae(Ne),Me;for(var X=1,xe;X<=ve;){for(var Te=X;I[X]==0&&X<=ve;++X);var x=X-Te;if(x>=je){xe=x>>4;for(var fe=1;fe<=xe;++fe)ae(ke);x=x&15}Be=32767+I[X],ae(Oe[(x<<4)+S[Be]]),ae(D[Be]),X++}return ve!=L&&ae(Ne),Me}function ee(){for(var pe=String.fromCharCode,Ce=0;Ce<256;Ce++)H[Ce]=pe(Ce)}this.encode=function(pe,Ce){var Me=new Date().getTime();Ce&&he(Ce),T=new Array,M=0,P=7,Q(65496),z(),$(pe.exifBuffer),B(),O(pe.width,pe.height),U(),A();var Ae=0,Oe=0,Ne=0;M=0,P=7,this.encode.displayName="_encode_";for(var ke=pe.data,Be=pe.width,je=pe.height,L=Be*4,ce=Be*3,me,De=0,de,ve,X,xe,Te,x,fe,ye;De<je;){for(me=0;me<L;){for(xe=L*De+me,Te=xe,x=-1,fe=0,ye=0;ye<64;ye++)fe=ye>>3,x=(ye&7)*4,Te=xe+fe*L+x,De+fe>=je&&(Te-=L*(De+1+fe-je)),me+x>=L&&(Te-=me+x-L+4),de=ke[Te++],ve=ke[Te++],X=ke[Te++],N[ye]=(R[de]+R[ve+256>>0]+R[X+512>>0]>>16)-128,G[ye]=(R[de+768>>0]+R[ve+1024>>0]+R[X+1280>>0]>>16)-128,V[ye]=(R[de+1280>>0]+R[ve+1536>>0]+R[X+1792>>0]>>16)-128;Ae=k(N,d,Ae,p,w),Oe=k(G,v,Oe,b,E),Ne=k(V,v,Ne,b,E),me+=32}De+=8}if(P>=0){var F=[];F[1]=P+1,F[0]=(1<<P+1)-1,ae(F)}if(Q(65497),typeof a>"u")return new Uint8Array(T);return new u(T);var ue,be};function he(pe){if(pe<=0&&(pe=1),pe>100&&(pe=100),j!=pe){var Ce=0;pe<50?Ce=Math.floor(5e3/pe):Ce=Math.floor(200-pe*2),le(Ce),j=pe}}function we(){var pe=new Date().getTime();h||(h=50),ee(),_e(),ge(),Ee(),he(h);var Ce=new Date().getTime()-pe}we()}typeof a<"u"?a.exports=_:typeof ze<"u"&&(ze["jpeg-js"]=ze["jpeg-js"]||{},ze["jpeg-js"].encode=_);function _(h,l){typeof l>"u"&&(l=50);var o=new m(l),i=o.encode(h,l);return{data:i,width:h.width,height:h.height}}function f(h){var l=typeof h=="string"?document.getElementById(h):h,o=document.createElement("canvas");o.width=l.width,o.height=l.height;var i=o.getContext("2d");return i.drawImage(l,0,0),i.getImageData(0,0,o.width,o.height)}}).call(this,n("buffer").Buffer)},{buffer:48}],83:[function(n,a,s){(function(u){var c=n("path"),m=n("fs"),_=parseInt("0777",8);a.exports=f.mkdirp=f.mkdirP=f;function f(h,l,o,i){typeof l=="function"?(o=l,l={}):(!l||typeof l!="object")&&(l={mode:l});var g=l.mode,y=l.fs||m;g===void 0&&(g=_&~u.umask()),i||(i=null);var d=o||function(){};h=c.resolve(h),y.mkdir(h,g,function(v){if(!v)return i=i||h,d(null,i);switch(v.code){case"ENOENT":f(c.dirname(h),l,function(p,b){p?d(p,b):f(h,l,d,b)});break;default:y.stat(h,function(p,b){p||!b.isDirectory()?d(v,i):d(null,i)});break}})}f.sync=function h(l,o,i){(!o||typeof o!="object")&&(o={mode:o});var g=o.mode,y=o.fs||m;g===void 0&&(g=_&~u.umask()),i||(i=null),l=c.resolve(l);try{y.mkdirSync(l,g),i=i||l}catch(v){switch(v.code){case"ENOENT":i=h(c.dirname(l),o,i),h(l,o,i);break;default:var d;try{d=y.statSync(l)}catch{throw v}if(!d.isDirectory())throw v;break}}return i}}).call(this,n("_process"))},{_process:133,fs:47,path:107}],84:[function(n,a,s){"use strict";var u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function _(h){if(h==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}function f(){try{if(!Object.assign)return!1;var h=new String("abc");if(h[5]="de",Object.getOwnPropertyNames(h)[0]==="5")return!1;for(var l={},o=0;o<10;o++)l["_"+String.fromCharCode(o)]=o;var i=Object.getOwnPropertyNames(l).map(function(y){return l[y]});if(i.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(y){g[y]=y}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=f()?Object.assign:function(h,l){for(var o,i=_(h),g,y=1;y<arguments.length;y++){o=Object(arguments[y]);for(var d in o)c.call(o,d)&&(i[d]=o[d]);if(u){g=u(o);for(var v=0;v<g.length;v++)m.call(o,g[v])&&(i[g[v]]=o[g[v]])}}return i}},{}],85:[function(n,a,s){arguments[4][64][0].apply(s,arguments)},{dup:64}],86:[function(n,a,s){"use strict";var u=n("./lib/utils/common").assign,c=n("./lib/deflate"),m=n("./lib/inflate"),_=n("./lib/zlib/constants"),f={};u(f,c,m,_),a.exports=f},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(n,a,s){"use strict";var u=n("./zlib/deflate"),c=n("./utils/common"),m=n("./utils/strings"),_=n("./zlib/messages"),f=n("./zlib/zstream"),h=Object.prototype.toString,l=0,o=4,i=0,g=1,y=2,d=-1,v=0,p=8;function b(S){if(!(this instanceof b))return new b(S);this.options=c.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},S||{});var C=this.options;C.raw&&C.windowBits>0?C.windowBits=-C.windowBits:C.gzip&&C.windowBits>0&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var I=u.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(I!==i)throw new Error(_[I]);if(C.header&&u.deflateSetHeader(this.strm,C.header),C.dictionary){var T;if(typeof C.dictionary=="string"?T=m.string2buf(C.dictionary):h.call(C.dictionary)==="[object ArrayBuffer]"?T=new Uint8Array(C.dictionary):T=C.dictionary,I=u.deflateSetDictionary(this.strm,T),I!==i)throw new Error(_[I]);this._dict_set=!0}}b.prototype.push=function(S,C){var I=this.strm,T=this.options.chunkSize,M,P;if(this.ended)return!1;P=C===~~C?C:C===!0?o:l,typeof S=="string"?I.input=m.string2buf(S):h.call(S)==="[object ArrayBuffer]"?I.input=new Uint8Array(S):I.input=S,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new c.Buf8(T),I.next_out=0,I.avail_out=T),M=u.deflate(I,P),M!==g&&M!==i)return this.onEnd(M),this.ended=!0,!1;(I.avail_out===0||I.avail_in===0&&(P===o||P===y))&&(this.options.to==="string"?this.onData(m.buf2binstring(c.shrinkBuf(I.output,I.next_out))):this.onData(c.shrinkBuf(I.output,I.next_out)))}while((I.avail_in>0||I.avail_out===0)&&M!==g);return P===o?(M=u.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===i):(P===y&&(this.onEnd(i),I.avail_out=0),!0)},b.prototype.onData=function(S){this.chunks.push(S)},b.prototype.onEnd=function(S){S===i&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg};function w(S,C){var I=new b(C);if(I.push(S,!0),I.err)throw I.msg||_[I.err];return I.result}function E(S,C){return C=C||{},C.raw=!0,w(S,C)}function D(S,C){return C=C||{},C.gzip=!0,w(S,C)}s.Deflate=b,s.deflate=w,s.deflateRaw=E,s.gzip=D},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(n,a,s){"use strict";var u=n("./zlib/inflate"),c=n("./utils/common"),m=n("./utils/strings"),_=n("./zlib/constants"),f=n("./zlib/messages"),h=n("./zlib/zstream"),l=n("./zlib/gzheader"),o=Object.prototype.toString;function i(d){if(!(this instanceof i))return new i(d);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},d||{});var v=this.options;v.raw&&v.windowBits>=0&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),v.windowBits>=0&&v.windowBits<16&&!(d&&d.windowBits)&&(v.windowBits+=32),v.windowBits>15&&v.windowBits<48&&(v.windowBits&15)===0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var p=u.inflateInit2(this.strm,v.windowBits);if(p!==_.Z_OK)throw new Error(f[p]);this.header=new l,u.inflateGetHeader(this.strm,this.header)}i.prototype.push=function(d,v){var p=this.strm,b=this.options.chunkSize,w=this.options.dictionary,E,D,S,C,I,T,M=!1;if(this.ended)return!1;D=v===~~v?v:v===!0?_.Z_FINISH:_.Z_NO_FLUSH,typeof d=="string"?p.input=m.binstring2buf(d):o.call(d)==="[object ArrayBuffer]"?p.input=new Uint8Array(d):p.input=d,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new c.Buf8(b),p.next_out=0,p.avail_out=b),E=u.inflate(p,_.Z_NO_FLUSH),E===_.Z_NEED_DICT&&w&&(typeof w=="string"?T=m.string2buf(w):o.call(w)==="[object ArrayBuffer]"?T=new Uint8Array(w):T=w,E=u.inflateSetDictionary(this.strm,T)),E===_.Z_BUF_ERROR&&M===!0&&(E=_.Z_OK,M=!1),E!==_.Z_STREAM_END&&E!==_.Z_OK)return this.onEnd(E),this.ended=!0,!1;p.next_out&&(p.avail_out===0||E===_.Z_STREAM_END||p.avail_in===0&&(D===_.Z_FINISH||D===_.Z_SYNC_FLUSH))&&(this.options.to==="string"?(S=m.utf8border(p.output,p.next_out),C=p.next_out-S,I=m.buf2string(p.output,S),p.next_out=C,p.avail_out=b-C,C&&c.arraySet(p.output,p.output,S,C,0),this.onData(I)):this.onData(c.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(M=!0)}while((p.avail_in>0||p.avail_out===0)&&E!==_.Z_STREAM_END);return E===_.Z_STREAM_END&&(D=_.Z_FINISH),D===_.Z_FINISH?(E=u.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===_.Z_OK):(D===_.Z_SYNC_FLUSH&&(this.onEnd(_.Z_OK),p.avail_out=0),!0)},i.prototype.onData=function(d){this.chunks.push(d)},i.prototype.onEnd=function(d){d===_.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function g(d,v){var p=new i(v);if(p.push(d,!0),p.err)throw p.msg||f[p.err];return p.result}function y(d,v){return v=v||{},v.raw=!0,g(d,v)}s.Inflate=i,s.inflate=g,s.inflateRaw=y,s.ungzip=g},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(n,a,s){arguments[4][36][0].apply(s,arguments)},{dup:36}],90:[function(n,a,s){"use strict";var u=n("./common"),c=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var _=new u.Buf8(256),f=0;f<256;f++)_[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;_[254]=_[254]=1,s.string2buf=function(l){var o,i,g,y,d,v=l.length,p=0;for(y=0;y<v;y++)i=l.charCodeAt(y),(i&64512)===55296&&y+1<v&&(g=l.charCodeAt(y+1),(g&64512)===56320&&(i=65536+(i-55296<<10)+(g-56320),y++)),p+=i<128?1:i<2048?2:i<65536?3:4;for(o=new u.Buf8(p),d=0,y=0;d<p;y++)i=l.charCodeAt(y),(i&64512)===55296&&y+1<v&&(g=l.charCodeAt(y+1),(g&64512)===56320&&(i=65536+(i-55296<<10)+(g-56320),y++)),i<128?o[d++]=i:i<2048?(o[d++]=192|i>>>6,o[d++]=128|i&63):i<65536?(o[d++]=224|i>>>12,o[d++]=128|i>>>6&63,o[d++]=128|i&63):(o[d++]=240|i>>>18,o[d++]=128|i>>>12&63,o[d++]=128|i>>>6&63,o[d++]=128|i&63);return o};function h(l,o){if(o<65537&&(l.subarray&&m||!l.subarray&&c))return String.fromCharCode.apply(null,u.shrinkBuf(l,o));for(var i="",g=0;g<o;g++)i+=String.fromCharCode(l[g]);return i}s.buf2binstring=function(l){return h(l,l.length)},s.binstring2buf=function(l){for(var o=new u.Buf8(l.length),i=0,g=o.length;i<g;i++)o[i]=l.charCodeAt(i);return o},s.buf2string=function(l,o){var i,g,y,d,v=o||l.length,p=new Array(v*2);for(g=0,i=0;i<v;){if(y=l[i++],y<128){p[g++]=y;continue}if(d=_[y],d>4){p[g++]=65533,i+=d-1;continue}for(y&=d===2?31:d===3?15:7;d>1&&i<v;)y=y<<6|l[i++]&63,d--;if(d>1){p[g++]=65533;continue}y<65536?p[g++]=y:(y-=65536,p[g++]=55296|y>>10&1023,p[g++]=56320|y&1023)}return h(p,g)},s.utf8border=function(l,o){var i;for(o=o||l.length,o>l.length&&(o=l.length),i=o-1;i>=0&&(l[i]&192)===128;)i--;return i<0||i===0?o:i+_[l[i]]>o?i:o}},{"./common":89}],91:[function(n,a,s){arguments[4][37][0].apply(s,arguments)},{dup:37}],92:[function(n,a,s){arguments[4][38][0].apply(s,arguments)},{dup:38}],93:[function(n,a,s){arguments[4][39][0].apply(s,arguments)},{dup:39}],94:[function(n,a,s){"use strict";var u=n("../utils/common"),c=n("./trees"),m=n("./adler32"),_=n("./crc32"),f=n("./messages"),h=0,l=1,o=3,i=4,g=5,y=0,d=1,v=-2,p=-3,b=-5,w=-1,E=1,D=2,S=3,C=4,I=0,T=2,M=8,P=9,N=15,G=8,V=29,H=256,R=H+1+V,j=30,Y=19,ne=2*R+1,re=15,ie=3,W=258,q=W+ie+1,te=32,K=42,J=69,le=73,se=91,_e=103,ge=113,Ee=666,ae=1,oe=2,Q=3,Z=4,z=3;function $(x,fe){return x.msg=f[fe],fe}function O(x){return(x<<1)-(x>4?9:0)}function B(x){for(var fe=x.length;--fe>=0;)x[fe]=0}function U(x){var fe=x.state,ye=fe.pending;ye>x.avail_out&&(ye=x.avail_out),ye!==0&&(u.arraySet(x.output,fe.pending_buf,fe.pending_out,ye,x.next_out),x.next_out+=ye,fe.pending_out+=ye,x.total_out+=ye,x.avail_out-=ye,fe.pending-=ye,fe.pending===0&&(fe.pending_out=0))}function A(x,fe){c._tr_flush_block(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,fe),x.block_start=x.strstart,U(x.strm)}function k(x,fe){x.pending_buf[x.pending++]=fe}function ee(x,fe){x.pending_buf[x.pending++]=fe>>>8&255,x.pending_buf[x.pending++]=fe&255}function he(x,fe,ye,F){var ue=x.avail_in;return ue>F&&(ue=F),ue===0?0:(x.avail_in-=ue,u.arraySet(fe,x.input,x.next_in,ue,ye),x.state.wrap===1?x.adler=m(x.adler,fe,ue,ye):x.state.wrap===2&&(x.adler=_(x.adler,fe,ue,ye)),x.next_in+=ue,x.total_in+=ue,ue)}function we(x,fe){var ye=x.max_chain_length,F=x.strstart,ue,be,Ie=x.prev_length,Se=x.nice_match,Pe=x.strstart>x.w_size-q?x.strstart-(x.w_size-q):0,Fe=x.window,gt=x.w_mask,it=x.prev,Xe=x.strstart+W,lt=Fe[F+Ie-1],pt=Fe[F+Ie];x.prev_length>=x.good_match&&(ye>>=2),Se>x.lookahead&&(Se=x.lookahead);do if(ue=fe,!(Fe[ue+Ie]!==pt||Fe[ue+Ie-1]!==lt||Fe[ue]!==Fe[F]||Fe[++ue]!==Fe[F+1])){F+=2,ue++;do;while(Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&Fe[++F]===Fe[++ue]&&F<Xe);if(be=W-(Xe-F),F=Xe-W,be>Ie){if(x.match_start=fe,Ie=be,be>=Se)break;lt=Fe[F+Ie-1],pt=Fe[F+Ie]}}while((fe=it[fe&gt])>Pe&&--ye!==0);return Ie<=x.lookahead?Ie:x.lookahead}function pe(x){var fe=x.w_size,ye,F,ue,be,Ie;do{if(be=x.window_size-x.lookahead-x.strstart,x.strstart>=fe+(fe-q)){u.arraySet(x.window,x.window,fe,fe,0),x.match_start-=fe,x.strstart-=fe,x.block_start-=fe,F=x.hash_size,ye=F;do ue=x.head[--ye],x.head[ye]=ue>=fe?ue-fe:0;while(--F);F=fe,ye=F;do ue=x.prev[--ye],x.prev[ye]=ue>=fe?ue-fe:0;while(--F);be+=fe}if(x.strm.avail_in===0)break;if(F=he(x.strm,x.window,x.strstart+x.lookahead,be),x.lookahead+=F,x.lookahead+x.insert>=ie)for(Ie=x.strstart-x.insert,x.ins_h=x.window[Ie],x.ins_h=(x.ins_h<<x.hash_shift^x.window[Ie+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[Ie+ie-1])&x.hash_mask,x.prev[Ie&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=Ie,Ie++,x.insert--,!(x.lookahead+x.insert<ie)););}while(x.lookahead<q&&x.strm.avail_in!==0)}function Ce(x,fe){var ye=65535;for(ye>x.pending_buf_size-5&&(ye=x.pending_buf_size-5);;){if(x.lookahead<=1){if(pe(x),x.lookahead===0&&fe===h)return ae;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var F=x.block_start+ye;if((x.strstart===0||x.strstart>=F)&&(x.lookahead=x.strstart-F,x.strstart=F,A(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-q&&(A(x,!1),x.strm.avail_out===0))return ae}return x.insert=0,fe===i?(A(x,!0),x.strm.avail_out===0?Q:Z):(x.strstart>x.block_start&&(A(x,!1),x.strm.avail_out===0),ae)}function Me(x,fe){for(var ye,F;;){if(x.lookahead<q){if(pe(x),x.lookahead<q&&fe===h)return ae;if(x.lookahead===0)break}if(ye=0,x.lookahead>=ie&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+ie-1])&x.hash_mask,ye=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),ye!==0&&x.strstart-ye<=x.w_size-q&&(x.match_length=we(x,ye)),x.match_length>=ie)if(F=c._tr_tally(x,x.strstart-x.match_start,x.match_length-ie),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=ie){x.match_length--;do x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+ie-1])&x.hash_mask,ye=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!==0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else F=c._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(F&&(A(x,!1),x.strm.avail_out===0))return ae}return x.insert=x.strstart<ie-1?x.strstart:ie-1,fe===i?(A(x,!0),x.strm.avail_out===0?Q:Z):x.last_lit&&(A(x,!1),x.strm.avail_out===0)?ae:oe}function Ae(x,fe){for(var ye,F,ue;;){if(x.lookahead<q){if(pe(x),x.lookahead<q&&fe===h)return ae;if(x.lookahead===0)break}if(ye=0,x.lookahead>=ie&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+ie-1])&x.hash_mask,ye=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=ie-1,ye!==0&&x.prev_length<x.max_lazy_match&&x.strstart-ye<=x.w_size-q&&(x.match_length=we(x,ye),x.match_length<=5&&(x.strategy===E||x.match_length===ie&&x.strstart-x.match_start>4096)&&(x.match_length=ie-1)),x.prev_length>=ie&&x.match_length<=x.prev_length){ue=x.strstart+x.lookahead-ie,F=c._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-ie),x.lookahead-=x.prev_length-1,x.prev_length-=2;do++x.strstart<=ue&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+ie-1])&x.hash_mask,ye=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);while(--x.prev_length!==0);if(x.match_available=0,x.match_length=ie-1,x.strstart++,F&&(A(x,!1),x.strm.avail_out===0))return ae}else if(x.match_available){if(F=c._tr_tally(x,0,x.window[x.strstart-1]),F&&A(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return ae}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(F=c._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<ie-1?x.strstart:ie-1,fe===i?(A(x,!0),x.strm.avail_out===0?Q:Z):x.last_lit&&(A(x,!1),x.strm.avail_out===0)?ae:oe}function Oe(x,fe){for(var ye,F,ue,be,Ie=x.window;;){if(x.lookahead<=W){if(pe(x),x.lookahead<=W&&fe===h)return ae;if(x.lookahead===0)break}if(x.match_length=0,x.lookahead>=ie&&x.strstart>0&&(ue=x.strstart-1,F=Ie[ue],F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue])){be=x.strstart+W;do;while(F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&F===Ie[++ue]&&ue<be);x.match_length=W-(be-ue),x.match_length>x.lookahead&&(x.match_length=x.lookahead)}if(x.match_length>=ie?(ye=c._tr_tally(x,1,x.match_length-ie),x.lookahead-=x.match_length,x.strstart+=x.match_length,x.match_length=0):(ye=c._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++),ye&&(A(x,!1),x.strm.avail_out===0))return ae}return x.insert=0,fe===i?(A(x,!0),x.strm.avail_out===0?Q:Z):x.last_lit&&(A(x,!1),x.strm.avail_out===0)?ae:oe}function Ne(x,fe){for(var ye;;){if(x.lookahead===0&&(pe(x),x.lookahead===0)){if(fe===h)return ae;break}if(x.match_length=0,ye=c._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++,ye&&(A(x,!1),x.strm.avail_out===0))return ae}return x.insert=0,fe===i?(A(x,!0),x.strm.avail_out===0?Q:Z):x.last_lit&&(A(x,!1),x.strm.avail_out===0)?ae:oe}function ke(x,fe,ye,F,ue){this.good_length=x,this.max_lazy=fe,this.nice_length=ye,this.max_chain=F,this.func=ue}var Be;Be=[new ke(0,0,0,0,Ce),new ke(4,4,8,4,Me),new ke(4,5,16,8,Me),new ke(4,6,32,32,Me),new ke(4,4,16,16,Ae),new ke(8,16,32,32,Ae),new ke(8,16,128,128,Ae),new ke(8,32,128,256,Ae),new ke(32,128,258,1024,Ae),new ke(32,258,258,4096,Ae)];function je(x){x.window_size=2*x.w_size,B(x.head),x.max_lazy_match=Be[x.level].max_lazy,x.good_match=Be[x.level].good_length,x.nice_match=Be[x.level].nice_length,x.max_chain_length=Be[x.level].max_chain,x.strstart=0,x.block_start=0,x.lookahead=0,x.insert=0,x.match_length=x.prev_length=ie-1,x.match_available=0,x.ins_h=0}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(ne*2),this.dyn_dtree=new u.Buf16((2*j+1)*2),this.bl_tree=new u.Buf16((2*Y+1)*2),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(re+1),this.heap=new u.Buf16(2*R+1),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*R+1),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(x){var fe;return!x||!x.state?$(x,v):(x.total_in=x.total_out=0,x.data_type=T,fe=x.state,fe.pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?K:ge,x.adler=fe.wrap===2?0:1,fe.last_flush=h,c._tr_init(fe),y)}function me(x){var fe=ce(x);return fe===y&&je(x.state),fe}function De(x,fe){return!x||!x.state||x.state.wrap!==2?v:(x.state.gzhead=fe,y)}function de(x,fe,ye,F,ue,be){if(!x)return v;var Ie=1;if(fe===w&&(fe=6),F<0?(Ie=0,F=-F):F>15&&(Ie=2,F-=16),ue<1||ue>P||ye!==M||F<8||F>15||fe<0||fe>9||be<0||be>C)return $(x,v);F===8&&(F=9);var Se=new L;return x.state=Se,Se.strm=x,Se.wrap=Ie,Se.gzhead=null,Se.w_bits=F,Se.w_size=1<<Se.w_bits,Se.w_mask=Se.w_size-1,Se.hash_bits=ue+7,Se.hash_size=1<<Se.hash_bits,Se.hash_mask=Se.hash_size-1,Se.hash_shift=~~((Se.hash_bits+ie-1)/ie),Se.window=new u.Buf8(Se.w_size*2),Se.head=new u.Buf16(Se.hash_size),Se.prev=new u.Buf16(Se.w_size),Se.lit_bufsize=1<<ue+6,Se.pending_buf_size=Se.lit_bufsize*4,Se.pending_buf=new u.Buf8(Se.pending_buf_size),Se.d_buf=1*Se.lit_bufsize,Se.l_buf=3*Se.lit_bufsize,Se.level=fe,Se.strategy=be,Se.method=ye,me(x)}function ve(x,fe){return de(x,fe,M,N,G,I)}function X(x,fe){var ye,F,ue,be;if(!x||!x.state||fe>g||fe<0)return x?$(x,v):v;if(F=x.state,!x.output||!x.input&&x.avail_in!==0||F.status===Ee&&fe!==i)return $(x,x.avail_out===0?b:v);if(F.strm=x,ye=F.last_flush,F.last_flush=fe,F.status===K)if(F.wrap===2)x.adler=0,k(F,31),k(F,139),k(F,8),F.gzhead?(k(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),k(F,F.gzhead.time&255),k(F,F.gzhead.time>>8&255),k(F,F.gzhead.time>>16&255),k(F,F.gzhead.time>>24&255),k(F,F.level===9?2:F.strategy>=D||F.level<2?4:0),k(F,F.gzhead.os&255),F.gzhead.extra&&F.gzhead.extra.length&&(k(F,F.gzhead.extra.length&255),k(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(x.adler=_(x.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=J):(k(F,0),k(F,0),k(F,0),k(F,0),k(F,0),k(F,F.level===9?2:F.strategy>=D||F.level<2?4:0),k(F,z),F.status=ge);else{var Ie=M+(F.w_bits-8<<4)<<8,Se=-1;F.strategy>=D||F.level<2?Se=0:F.level<6?Se=1:F.level===6?Se=2:Se=3,Ie|=Se<<6,F.strstart!==0&&(Ie|=te),Ie+=31-Ie%31,F.status=ge,ee(F,Ie),F.strstart!==0&&(ee(F,x.adler>>>16),ee(F,x.adler&65535)),x.adler=1}if(F.status===J)if(F.gzhead.extra){for(ue=F.pending;F.gzindex<(F.gzhead.extra.length&65535)&&!(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),U(x),ue=F.pending,F.pending===F.pending_buf_size));)k(F,F.gzhead.extra[F.gzindex]&255),F.gzindex++;F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=le)}else F.status=le;if(F.status===le)if(F.gzhead.name){ue=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),U(x),ue=F.pending,F.pending===F.pending_buf_size)){be=1;break}F.gzindex<F.gzhead.name.length?be=F.gzhead.name.charCodeAt(F.gzindex++)&255:be=0,k(F,be)}while(be!==0);F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),be===0&&(F.gzindex=0,F.status=se)}else F.status=se;if(F.status===se)if(F.gzhead.comment){ue=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),U(x),ue=F.pending,F.pending===F.pending_buf_size)){be=1;break}F.gzindex<F.gzhead.comment.length?be=F.gzhead.comment.charCodeAt(F.gzindex++)&255:be=0,k(F,be)}while(be!==0);F.gzhead.hcrc&&F.pending>ue&&(x.adler=_(x.adler,F.pending_buf,F.pending-ue,ue)),be===0&&(F.status=_e)}else F.status=_e;if(F.status===_e&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&U(x),F.pending+2<=F.pending_buf_size&&(k(F,x.adler&255),k(F,x.adler>>8&255),x.adler=0,F.status=ge)):F.status=ge),F.pending!==0){if(U(x),x.avail_out===0)return F.last_flush=-1,y}else if(x.avail_in===0&&O(fe)<=O(ye)&&fe!==i)return $(x,b);if(F.status===Ee&&x.avail_in!==0)return $(x,b);if(x.avail_in!==0||F.lookahead!==0||fe!==h&&F.status!==Ee){var Pe=F.strategy===D?Ne(F,fe):F.strategy===S?Oe(F,fe):Be[F.level].func(F,fe);if((Pe===Q||Pe===Z)&&(F.status=Ee),Pe===ae||Pe===Q)return x.avail_out===0&&(F.last_flush=-1),y;if(Pe===oe&&(fe===l?c._tr_align(F):fe!==g&&(c._tr_stored_block(F,0,0,!1),fe===o&&(B(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),U(x),x.avail_out===0))return F.last_flush=-1,y}return fe!==i?y:F.wrap<=0?d:(F.wrap===2?(k(F,x.adler&255),k(F,x.adler>>8&255),k(F,x.adler>>16&255),k(F,x.adler>>24&255),k(F,x.total_in&255),k(F,x.total_in>>8&255),k(F,x.total_in>>16&255),k(F,x.total_in>>24&255)):(ee(F,x.adler>>>16),ee(F,x.adler&65535)),U(x),F.wrap>0&&(F.wrap=-F.wrap),F.pending!==0?y:d)}function xe(x){var fe;return!x||!x.state?v:(fe=x.state.status,fe!==K&&fe!==J&&fe!==le&&fe!==se&&fe!==_e&&fe!==ge&&fe!==Ee?$(x,v):(x.state=null,fe===ge?$(x,p):y))}function Te(x,fe){var ye=fe.length,F,ue,be,Ie,Se,Pe,Fe,gt;if(!x||!x.state||(F=x.state,Ie=F.wrap,Ie===2||Ie===1&&F.status!==K||F.lookahead))return v;for(Ie===1&&(x.adler=m(x.adler,fe,ye,0)),F.wrap=0,ye>=F.w_size&&(Ie===0&&(B(F.head),F.strstart=0,F.block_start=0,F.insert=0),gt=new u.Buf8(F.w_size),u.arraySet(gt,fe,ye-F.w_size,F.w_size,0),fe=gt,ye=F.w_size),Se=x.avail_in,Pe=x.next_in,Fe=x.input,x.avail_in=ye,x.next_in=0,x.input=fe,pe(F);F.lookahead>=ie;){ue=F.strstart,be=F.lookahead-(ie-1);do F.ins_h=(F.ins_h<<F.hash_shift^F.window[ue+ie-1])&F.hash_mask,F.prev[ue&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=ue,ue++;while(--be);F.strstart=ue,F.lookahead=ie-1,pe(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=ie-1,F.match_available=0,x.next_in=Pe,x.input=Fe,x.avail_in=Se,F.wrap=Ie,y}s.deflateInit=ve,s.deflateInit2=de,s.deflateReset=me,s.deflateResetKeep=ce,s.deflateSetHeader=De,s.deflate=X,s.deflateEnd=xe,s.deflateSetDictionary=Te,s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(n,a,s){"use strict";function u(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a.exports=u},{}],96:[function(n,a,s){arguments[4][41][0].apply(s,arguments)},{dup:41}],97:[function(n,a,s){arguments[4][42][0].apply(s,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(n,a,s){arguments[4][43][0].apply(s,arguments)},{"../utils/common":89,dup:43}],99:[function(n,a,s){arguments[4][44][0].apply(s,arguments)},{dup:44}],100:[function(n,a,s){"use strict";var u=n("../utils/common"),c=4,m=0,_=1,f=2;function h(L){for(var ce=L.length;--ce>=0;)L[ce]=0}var l=0,o=1,i=2,g=3,y=258,d=29,v=256,p=v+1+d,b=30,w=19,E=2*p+1,D=15,S=16,C=7,I=256,T=16,M=17,P=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=512,j=new Array((p+2)*2);h(j);var Y=new Array(b*2);h(Y);var ne=new Array(R);h(ne);var re=new Array(y-g+1);h(re);var ie=new Array(d);h(ie);var W=new Array(b);h(W);function q(L,ce,me,De,de){this.static_tree=L,this.extra_bits=ce,this.extra_base=me,this.elems=De,this.max_length=de,this.has_stree=L&&L.length}var te,K,J;function le(L,ce){this.dyn_tree=L,this.max_code=0,this.stat_desc=ce}function se(L){return L<256?ne[L]:ne[256+(L>>>7)]}function _e(L,ce){L.pending_buf[L.pending++]=ce&255,L.pending_buf[L.pending++]=ce>>>8&255}function ge(L,ce,me){L.bi_valid>S-me?(L.bi_buf|=ce<<L.bi_valid&65535,_e(L,L.bi_buf),L.bi_buf=ce>>S-L.bi_valid,L.bi_valid+=me-S):(L.bi_buf|=ce<<L.bi_valid&65535,L.bi_valid+=me)}function Ee(L,ce,me){ge(L,me[ce*2],me[ce*2+1])}function ae(L,ce){var me=0;do me|=L&1,L>>>=1,me<<=1;while(--ce>0);return me>>>1}function oe(L){L.bi_valid===16?(_e(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):L.bi_valid>=8&&(L.pending_buf[L.pending++]=L.bi_buf&255,L.bi_buf>>=8,L.bi_valid-=8)}function Q(L,ce){var me=ce.dyn_tree,De=ce.max_code,de=ce.stat_desc.static_tree,ve=ce.stat_desc.has_stree,X=ce.stat_desc.extra_bits,xe=ce.stat_desc.extra_base,Te=ce.stat_desc.max_length,x,fe,ye,F,ue,be,Ie=0;for(F=0;F<=D;F++)L.bl_count[F]=0;for(me[L.heap[L.heap_max]*2+1]=0,x=L.heap_max+1;x<E;x++)fe=L.heap[x],F=me[me[fe*2+1]*2+1]+1,F>Te&&(F=Te,Ie++),me[fe*2+1]=F,!(fe>De)&&(L.bl_count[F]++,ue=0,fe>=xe&&(ue=X[fe-xe]),be=me[fe*2],L.opt_len+=be*(F+ue),ve&&(L.static_len+=be*(de[fe*2+1]+ue)));if(Ie!==0){do{for(F=Te-1;L.bl_count[F]===0;)F--;L.bl_count[F]--,L.bl_count[F+1]+=2,L.bl_count[Te]--,Ie-=2}while(Ie>0);for(F=Te;F!==0;F--)for(fe=L.bl_count[F];fe!==0;)ye=L.heap[--x],!(ye>De)&&(me[ye*2+1]!==F&&(L.opt_len+=(F-me[ye*2+1])*me[ye*2],me[ye*2+1]=F),fe--)}}function Z(L,ce,me){var De=new Array(D+1),de=0,ve,X;for(ve=1;ve<=D;ve++)De[ve]=de=de+me[ve-1]<<1;for(X=0;X<=ce;X++){var xe=L[X*2+1];xe!==0&&(L[X*2]=ae(De[xe]++,xe))}}function z(){var L,ce,me,De,de,ve=new Array(D+1);for(me=0,De=0;De<d-1;De++)for(ie[De]=me,L=0;L<1<<N[De];L++)re[me++]=De;for(re[me-1]=De,de=0,De=0;De<16;De++)for(W[De]=de,L=0;L<1<<G[De];L++)ne[de++]=De;for(de>>=7;De<b;De++)for(W[De]=de<<7,L=0;L<1<<G[De]-7;L++)ne[256+de++]=De;for(ce=0;ce<=D;ce++)ve[ce]=0;for(L=0;L<=143;)j[L*2+1]=8,L++,ve[8]++;for(;L<=255;)j[L*2+1]=9,L++,ve[9]++;for(;L<=279;)j[L*2+1]=7,L++,ve[7]++;for(;L<=287;)j[L*2+1]=8,L++,ve[8]++;for(Z(j,p+1,ve),L=0;L<b;L++)Y[L*2+1]=5,Y[L*2]=ae(L,5);te=new q(j,N,v+1,p,D),K=new q(Y,G,0,b,D),J=new q(new Array(0),V,0,w,C)}function $(L){var ce;for(ce=0;ce<p;ce++)L.dyn_ltree[ce*2]=0;for(ce=0;ce<b;ce++)L.dyn_dtree[ce*2]=0;for(ce=0;ce<w;ce++)L.bl_tree[ce*2]=0;L.dyn_ltree[I*2]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function O(L){L.bi_valid>8?_e(L,L.bi_buf):L.bi_valid>0&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function B(L,ce,me,De){O(L),De&&(_e(L,me),_e(L,~me)),u.arraySet(L.pending_buf,L.window,ce,me,L.pending),L.pending+=me}function U(L,ce,me,De){var de=ce*2,ve=me*2;return L[de]<L[ve]||L[de]===L[ve]&&De[ce]<=De[me]}function A(L,ce,me){for(var De=L.heap[me],de=me<<1;de<=L.heap_len&&(de<L.heap_len&&U(ce,L.heap[de+1],L.heap[de],L.depth)&&de++,!U(ce,De,L.heap[de],L.depth));)L.heap[me]=L.heap[de],me=de,de<<=1;L.heap[me]=De}function k(L,ce,me){var De,de,ve=0,X,xe;if(L.last_lit!==0)do De=L.pending_buf[L.d_buf+ve*2]<<8|L.pending_buf[L.d_buf+ve*2+1],de=L.pending_buf[L.l_buf+ve],ve++,De===0?Ee(L,de,ce):(X=re[de],Ee(L,X+v+1,ce),xe=N[X],xe!==0&&(de-=ie[X],ge(L,de,xe)),De--,X=se(De),Ee(L,X,me),xe=G[X],xe!==0&&(De-=W[X],ge(L,De,xe)));while(ve<L.last_lit);Ee(L,I,ce)}function ee(L,ce){var me=ce.dyn_tree,De=ce.stat_desc.static_tree,de=ce.stat_desc.has_stree,ve=ce.stat_desc.elems,X,xe,Te=-1,x;for(L.heap_len=0,L.heap_max=E,X=0;X<ve;X++)me[X*2]!==0?(L.heap[++L.heap_len]=Te=X,L.depth[X]=0):me[X*2+1]=0;for(;L.heap_len<2;)x=L.heap[++L.heap_len]=Te<2?++Te:0,me[x*2]=1,L.depth[x]=0,L.opt_len--,de&&(L.static_len-=De[x*2+1]);for(ce.max_code=Te,X=L.heap_len>>1;X>=1;X--)A(L,me,X);x=ve;do X=L.heap[1],L.heap[1]=L.heap[L.heap_len--],A(L,me,1),xe=L.heap[1],L.heap[--L.heap_max]=X,L.heap[--L.heap_max]=xe,me[x*2]=me[X*2]+me[xe*2],L.depth[x]=(L.depth[X]>=L.depth[xe]?L.depth[X]:L.depth[xe])+1,me[X*2+1]=me[xe*2+1]=x,L.heap[1]=x++,A(L,me,1);while(L.heap_len>=2);L.heap[--L.heap_max]=L.heap[1],Q(L,ce),Z(me,Te,L.bl_count)}function he(L,ce,me){var De,de=-1,ve,X=ce[0*2+1],xe=0,Te=7,x=4;for(X===0&&(Te=138,x=3),ce[(me+1)*2+1]=65535,De=0;De<=me;De++)ve=X,X=ce[(De+1)*2+1],!(++xe<Te&&ve===X)&&(xe<x?L.bl_tree[ve*2]+=xe:ve!==0?(ve!==de&&L.bl_tree[ve*2]++,L.bl_tree[T*2]++):xe<=10?L.bl_tree[M*2]++:L.bl_tree[P*2]++,xe=0,de=ve,X===0?(Te=138,x=3):ve===X?(Te=6,x=3):(Te=7,x=4))}function we(L,ce,me){var De,de=-1,ve,X=ce[0*2+1],xe=0,Te=7,x=4;for(X===0&&(Te=138,x=3),De=0;De<=me;De++)if(ve=X,X=ce[(De+1)*2+1],!(++xe<Te&&ve===X)){if(xe<x)do Ee(L,ve,L.bl_tree);while(--xe!==0);else ve!==0?(ve!==de&&(Ee(L,ve,L.bl_tree),xe--),Ee(L,T,L.bl_tree),ge(L,xe-3,2)):xe<=10?(Ee(L,M,L.bl_tree),ge(L,xe-3,3)):(Ee(L,P,L.bl_tree),ge(L,xe-11,7));xe=0,de=ve,X===0?(Te=138,x=3):ve===X?(Te=6,x=3):(Te=7,x=4)}}function pe(L){var ce;for(he(L,L.dyn_ltree,L.l_desc.max_code),he(L,L.dyn_dtree,L.d_desc.max_code),ee(L,L.bl_desc),ce=w-1;ce>=3&&L.bl_tree[H[ce]*2+1]===0;ce--);return L.opt_len+=3*(ce+1)+5+5+4,ce}function Ce(L,ce,me,De){var de;for(ge(L,ce-257,5),ge(L,me-1,5),ge(L,De-4,4),de=0;de<De;de++)ge(L,L.bl_tree[H[de]*2+1],3);we(L,L.dyn_ltree,ce-1),we(L,L.dyn_dtree,me-1)}function Me(L){var ce=4093624447,me;for(me=0;me<=31;me++,ce>>>=1)if(ce&1&&L.dyn_ltree[me*2]!==0)return m;if(L.dyn_ltree[9*2]!==0||L.dyn_ltree[10*2]!==0||L.dyn_ltree[13*2]!==0)return _;for(me=32;me<v;me++)if(L.dyn_ltree[me*2]!==0)return _;return m}var Ae=!1;function Oe(L){Ae||(z(),Ae=!0),L.l_desc=new le(L.dyn_ltree,te),L.d_desc=new le(L.dyn_dtree,K),L.bl_desc=new le(L.bl_tree,J),L.bi_buf=0,L.bi_valid=0,$(L)}function Ne(L,ce,me,De){ge(L,(l<<1)+(De?1:0),3),B(L,ce,me,!0)}function ke(L){ge(L,o<<1,3),Ee(L,I,j),oe(L)}function Be(L,ce,me,De){var de,ve,X=0;L.level>0?(L.strm.data_type===f&&(L.strm.data_type=Me(L)),ee(L,L.l_desc),ee(L,L.d_desc),X=pe(L),de=L.opt_len+3+7>>>3,ve=L.static_len+3+7>>>3,ve<=de&&(de=ve)):de=ve=me+5,me+4<=de&&ce!==-1?Ne(L,ce,me,De):L.strategy===c||ve===de?(ge(L,(o<<1)+(De?1:0),3),k(L,j,Y)):(ge(L,(i<<1)+(De?1:0),3),Ce(L,L.l_desc.max_code+1,L.d_desc.max_code+1,X+1),k(L,L.dyn_ltree,L.dyn_dtree)),$(L),De&&O(L)}function je(L,ce,me){return L.pending_buf[L.d_buf+L.last_lit*2]=ce>>>8&255,L.pending_buf[L.d_buf+L.last_lit*2+1]=ce&255,L.pending_buf[L.l_buf+L.last_lit]=me&255,L.last_lit++,ce===0?L.dyn_ltree[me*2]++:(L.matches++,ce--,L.dyn_ltree[(re[me]+v+1)*2]++,L.dyn_dtree[se(ce)*2]++),L.last_lit===L.lit_bufsize-1}s._tr_init=Oe,s._tr_stored_block=Ne,s._tr_flush_block=Be,s._tr_tally=je,s._tr_align=ke},{"../utils/common":89}],101:[function(n,a,s){arguments[4][46][0].apply(s,arguments)},{dup:46}],102:[function(n,a,s){a.exports=function(f){if(!f)throw new Error("no data provided");f=f.toString().trim();var h={pages:[],chars:[],kernings:[]},l=f.split(/\r\n?|\n/g);if(l.length===0)throw new Error("no data in BMFont file");for(var o=0;o<l.length;o++){var i=u(l[o],o);if(i)if(i.key==="page"){if(typeof i.data.id!="number")throw new Error("malformed file at line "+o+" -- needs page id=N");if(typeof i.data.file!="string")throw new Error("malformed file at line "+o+' -- needs page file="path"');h.pages[i.data.id]=i.data.file}else i.key==="chars"||i.key==="kernings"||(i.key==="char"?h.chars.push(i.data):i.key==="kerning"?h.kernings.push(i.data):h[i.key]=i.data)}return h};function u(_,f){if(_=_.replace(/\t+/g," ").trim(),!_)return null;var h=_.indexOf(" ");if(h===-1)throw new Error("no named row at line "+f);var l=_.substring(0,h);_=_.substring(h+1),_=_.replace(/letter=[\'\"]\S+[\'\"]/gi,""),_=_.split("="),_=_.map(function(d){return d.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var o=[],i=0;i<_.length;i++){var g=_[i];i===0?o.push({key:g[0],data:""}):i===_.length-1?o[o.length-1].data=c(g[0]):(o[o.length-1].data=c(g[0]),o.push({key:g[1],data:""}))}var y={key:l,data:{}};return o.forEach(function(d){y.data[d.key]=d.data}),y}function c(_){return!_||_.length===0?"":_.indexOf('"')===0||_.indexOf("'")===0?_.substring(1,_.length-1):_.indexOf(",")!==-1?m(_):parseInt(_,10)}function m(_){return _.split(",").map(function(f){return parseInt(f,10)})}},{}],103:[function(n,a,s){var u=[66,77,70];a.exports=function(y){if(y.length<6)throw new Error("invalid buffer length for BMFont");var d=u.every(function(E,D){return y.readUInt8(D)===E});if(!d)throw new Error("BMFont missing BMF byte header");var v=3,p=y.readUInt8(v++);if(p>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var b={kernings:[],chars:[]},w=0;w<5;w++)v+=c(b,y,v);return b};function c(g,y,d){if(d>y.length-1)return 0;var v=y.readUInt8(d++),p=y.readInt32LE(d);switch(d+=4,v){case 1:g.info=m(y,d);break;case 2:g.common=_(y,d);break;case 3:g.pages=f(y,d,p);break;case 4:g.chars=h(y,d,p);break;case 5:g.kernings=l(y,d,p);break}return 5+p}function m(g,y){var d={};d.size=g.readInt16LE(y);var v=g.readUInt8(y+2);return d.smooth=v>>7&1,d.unicode=v>>6&1,d.italic=v>>5&1,d.bold=v>>4&1,v>>3&1&&(d.fixedHeight=1),d.charset=g.readUInt8(y+3)||"",d.stretchH=g.readUInt16LE(y+4),d.aa=g.readUInt8(y+6),d.padding=[g.readInt8(y+7),g.readInt8(y+8),g.readInt8(y+9),g.readInt8(y+10)],d.spacing=[g.readInt8(y+11),g.readInt8(y+12)],d.outline=g.readUInt8(y+13),d.face=i(g,y+14),d}function _(g,y){var d={};d.lineHeight=g.readUInt16LE(y),d.base=g.readUInt16LE(y+2),d.scaleW=g.readUInt16LE(y+4),d.scaleH=g.readUInt16LE(y+6),d.pages=g.readUInt16LE(y+8);var v=g.readUInt8(y+10);return d.packed=0,d.alphaChnl=g.readUInt8(y+11),d.redChnl=g.readUInt8(y+12),d.greenChnl=g.readUInt8(y+13),d.blueChnl=g.readUInt8(y+14),d}function f(g,y,d){for(var v=[],p=o(g,y),b=p.length+1,w=d/b,E=0;E<w;E++)v[E]=g.slice(y,y+p.length).toString("utf8"),y+=b;return v}function h(g,y,d){for(var v=[],p=d/20,b=0;b<p;b++){var w={},E=b*20;w.id=g.readUInt32LE(y+0+E),w.x=g.readUInt16LE(y+4+E),w.y=g.readUInt16LE(y+6+E),w.width=g.readUInt16LE(y+8+E),w.height=g.readUInt16LE(y+10+E),w.xoffset=g.readInt16LE(y+12+E),w.yoffset=g.readInt16LE(y+14+E),w.xadvance=g.readInt16LE(y+16+E),w.page=g.readUInt8(y+18+E),w.chnl=g.readUInt8(y+19+E),v[b]=w}return v}function l(g,y,d){for(var v=[],p=d/10,b=0;b<p;b++){var w={},E=b*10;w.first=g.readUInt32LE(y+0+E),w.second=g.readUInt32LE(y+4+E),w.amount=g.readInt16LE(y+8+E),v[b]=w}return v}function o(g,y){for(var d=y;d<g.length&&g[d]!==0;d++);return g.slice(y,d)}function i(g,y){return o(g,y).toString("utf8")}},{}],104:[function(n,a,s){var u=n("./parse-attribs"),c=n("xml-parse-from-string"),m={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};a.exports=function(o){o=o.toString();var i=c(o),g={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(E){var D=i.getElementsByTagName(E)[0];D&&(g[E]=u(_(D)))});var y=i.getElementsByTagName("pages")[0];if(!y)throw new Error("malformed file -- no <pages> element");for(var d=y.getElementsByTagName("page"),v=0;v<d.length;v++){var p=d[v],b=parseInt(p.getAttribute("id"),10),w=p.getAttribute("file");if(isNaN(b))throw new Error('malformed file -- page "id" attribute is NaN');if(!w)throw new Error('malformed file -- needs page "file" attribute');g.pages[parseInt(b,10)]=w}return["chars","kernings"].forEach(function(E){var D=i.getElementsByTagName(E)[0];if(D)for(var S=E.substring(0,E.length-1),C=D.getElementsByTagName(S),I=0;I<C.length;I++){var T=C[I];g[E].push(u(_(T)))}}),g};function _(l){var o=f(l);return o.reduce(function(i,g){var y=h(g.nodeName);return i[y]=g.nodeValue,i},{})}function f(l){for(var o=[],i=0;i<l.attributes.length;i++)o.push(l.attributes[i]);return o}function h(l){return m[l.toLowerCase()]||l}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(n,a,s){var u="chasrset";a.exports=function(_){u in _&&(_.charset=_[u],delete _[u]);for(var f in _)f==="face"||f==="charset"||(f==="padding"||f==="spacing"?_[f]=c(_[f]):_[f]=parseInt(_[f],10));return _};function c(m){return m.split(",").map(function(_){return parseInt(_,10)})}},{}],106:[function(n,a,s){var u=n("trim"),c=n("for-each"),m=function(_){return Object.prototype.toString.call(_)==="[object Array]"};a.exports=function(_){if(!_)return{};var f={};return c(u(_).split(`
`),function(h){var l=h.indexOf(":"),o=u(h.slice(0,l)).toLowerCase(),i=u(h.slice(l+1));typeof f[o]>"u"?f[o]=i:m(f[o])?f[o].push(i):f[o]=[f[o],i]}),f}},{"for-each":63,trim:179}],107:[function(n,a,s){(function(u){function c(h,l){for(var o=0,i=h.length-1;i>=0;i--){var g=h[i];g==="."?h.splice(i,1):g===".."?(h.splice(i,1),o++):o&&(h.splice(i,1),o--)}if(l)for(;o--;o)h.unshift("..");return h}s.resolve=function(){for(var h="",l=!1,o=arguments.length-1;o>=-1&&!l;o--){var i=o>=0?arguments[o]:u.cwd();if(typeof i!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!i)continue;h=i+"/"+h,l=i.charAt(0)==="/"}return h=c(_(h.split("/"),function(g){return!!g}),!l).join("/"),(l?"/":"")+h||"."},s.normalize=function(h){var l=s.isAbsolute(h),o=f(h,-1)==="/";return h=c(_(h.split("/"),function(i){return!!i}),!l).join("/"),!h&&!l&&(h="."),h&&o&&(h+="/"),(l?"/":"")+h},s.isAbsolute=function(h){return h.charAt(0)==="/"},s.join=function(){var h=Array.prototype.slice.call(arguments,0);return s.normalize(_(h,function(l,o){if(typeof l!="string")throw new TypeError("Arguments to path.join must be strings");return l}).join("/"))},s.relative=function(h,l){h=s.resolve(h).substr(1),l=s.resolve(l).substr(1);function o(b){for(var w=0;w<b.length&&b[w]==="";w++);for(var E=b.length-1;E>=0&&b[E]==="";E--);return w>E?[]:b.slice(w,E-w+1)}for(var i=o(h.split("/")),g=o(l.split("/")),y=Math.min(i.length,g.length),d=y,v=0;v<y;v++)if(i[v]!==g[v]){d=v;break}for(var p=[],v=d;v<i.length;v++)p.push("..");return p=p.concat(g.slice(d)),p.join("/")},s.sep="/",s.delimiter=":",s.dirname=function(h){if(typeof h!="string"&&(h=h+""),h.length===0)return".";for(var l=h.charCodeAt(0),o=l===47,i=-1,g=!0,y=h.length-1;y>=1;--y)if(l=h.charCodeAt(y),l===47){if(!g){i=y;break}}else g=!1;return i===-1?o?"/":".":o&&i===1?"/":h.slice(0,i)};function m(h){typeof h!="string"&&(h=h+"");var l=0,o=-1,i=!0,g;for(g=h.length-1;g>=0;--g)if(h.charCodeAt(g)===47){if(!i){l=g+1;break}}else o===-1&&(i=!1,o=g+1);return o===-1?"":h.slice(l,o)}s.basename=function(h,l){var o=m(h);return l&&o.substr(-1*l.length)===l&&(o=o.substr(0,o.length-l.length)),o},s.extname=function(h){typeof h!="string"&&(h=h+"");for(var l=-1,o=0,i=-1,g=!0,y=0,d=h.length-1;d>=0;--d){var v=h.charCodeAt(d);if(v===47){if(!g){o=d+1;break}continue}i===-1&&(g=!1,i=d+1),v===46?l===-1?l=d:y!==1&&(y=1):l!==-1&&(y=-1)}return l===-1||i===-1||y===0||y===1&&l===i-1&&l===o+1?"":h.slice(l,i)};function _(h,l){if(h.filter)return h.filter(l);for(var o=[],i=0;i<h.length;i++)l(h[i],i,h)&&o.push(h[i]);return o}var f="ab".substr(-1)==="b"?function(h,l,o){return h.substr(l,o)}:function(h,l,o){return l<0&&(l=h.length+l),h.substr(l,o)}}).call(this,n("_process"))},{_process:133}],108:[function(n,a,s){(function(u){"use strict";var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},m=n("http"),_=n("https"),f=n("url"),h=n("querystring"),l=n("zlib"),o=n("util"),i=function(y,d){if(typeof y!="string"&&!y.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var v=(typeof y>"u"?"undefined":c(y))==="object"?f.parse(y.url):f.parse(y),p={hostname:v.hostname,port:v.port||(v.protocol.toLowerCase()==="http:"?80:443),path:v.path,method:"GET",headers:{},auth:v.auth||null,parse:"none",stream:!1};if((typeof y>"u"?"undefined":c(y))==="object"&&(p=Object.assign(p,y)),p.port=Number(p.port),p.hasOwnProperty("timeout")&&delete p.timeout,p.compressed===!0&&(p.headers["accept-encoding"]="gzip, deflate"),y.hasOwnProperty("form")){if(c(y.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var b=h.stringify(y.form);p.headers["Content-Type"]="application/x-www-form-urlencoded",p.headers["Content-Length"]=u.byteLength(b),y.data=b}var w=void 0,E=function(I){var T=I;p.compressed===!0&&(I.headers["content-encoding"]==="gzip"?T=I.pipe(l.createGunzip()):I.headers["content-encoding"]==="deflate"&&(T=I.pipe(l.createInflate()))),p.stream===!0?(I.stream=T,d(null,I)):(I.body=new u([]),T.on("data",function(M){I.body=u.concat([I.body,M])}),T.on("end",function(){if(d){if(p.parse==="json")try{I.body=JSON.parse(I.body.toString())}catch{d("Invalid JSON received.",I);return}d(null,I)}}))};switch(v.protocol.toLowerCase()){case"http:":w=m.request(p,E);break;case"https:":w=_.request(p,E);break;default:d&&d(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof y.timeout=="number"&&w.setTimeout(y.timeout,function(){w.abort(),d(new Error("Timeout has been reached."),null),d=null}),w.on("error",function(C){d&&d(C,null)}),y.hasOwnProperty("data")){var D=y.data;if(!(y.data instanceof u)&&c(y.data)==="object"){var S=p.headers["content-type"]||p.headers["Content-Type"];if(S==="application/x-www-form-urlencoded")D=h.stringify(y.data);else try{D=JSON.stringify(y.data)}catch{d(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}w.write(D)}w.end()};i.promisified=function(g,y){return new Promise(function(d,v){i(g,function(p,b){p?v(p):d(b)},y)})},o.promisify&&(i[o.promisify.custom]=i.promisified),a.exports=i}).call(this,n("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(n,a,s){"use strict";a.exports=u;function u(g,y,d,v,p,b){b||(b={});for(var w=b.threshold===void 0?.1:b.threshold,E=35215*w*w,D=0,S=0;S<p;S++)for(var C=0;C<v;C++){var I=(S*v+C)*4,T=m(g,y,I,I);if(T>E)!b.includeAA&&(c(g,C,S,v,p,y)||c(y,C,S,v,p,g))?d&&o(d,I,255,255,0):(d&&o(d,I,255,0,0),D++);else if(d){var M=l(i(g,I),.1);o(d,I,M,M,M)}}return D}function c(g,y,d,v,p,b){for(var w=Math.max(y-1,0),E=Math.max(d-1,0),D=Math.min(y+1,v-1),S=Math.min(d+1,p-1),C=(d*v+y)*4,I=0,T=0,M=0,P=0,N=0,G,V,H,R,j=w;j<=D;j++)for(var Y=E;Y<=S;Y++)if(!(j===y&&Y===d)){var ne=m(g,g,C,(Y*v+j)*4,!0);if(ne===0?I++:ne<0?M++:ne>0&&T++,I>2)return!1;b&&(ne<P&&(P=ne,G=j,V=Y),ne>N&&(N=ne,H=j,R=Y))}return b?M===0||T===0?!1:!c(g,G,V,v,p)&&!c(b,G,V,v,p)||!c(g,H,R,v,p)&&!c(b,H,R,v,p):!0}function m(g,y,d,v,p){var b=g[d+3]/255,w=y[v+3]/255,E=l(g[d+0],b),D=l(g[d+1],b),S=l(g[d+2],b),C=l(y[v+0],w),I=l(y[v+1],w),T=l(y[v+2],w),M=_(E,D,S)-_(C,I,T);if(p)return M;var P=f(E,D,S)-f(C,I,T),N=h(E,D,S)-h(C,I,T);return .5053*M*M+.299*P*P+.1957*N*N}function _(g,y,d){return g*.29889531+y*.58662247+d*.11448223}function f(g,y,d){return g*.59597799-y*.2741761-d*.32180189}function h(g,y,d){return g*.21147017-y*.52261711+d*.31114694}function l(g,y){return 255+(g-255)*y}function o(g,y,d,v,p){g[y+0]=d,g[y+1]=v,g[y+2]=p,g[y+3]=255}function i(g,y){var d=g[y+3]/255,v=l(g[y+0],d),p=l(g[y+1],d),b=l(g[y+2],d);return _(v,p,b)}},{}],110:[function(n,a,s){(function(u){"use strict";var c=n("./interlace"),m={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function _(l,o){var i=[],g=0;function y(){if(g===l.length)throw new Error("Ran out of data");var d=l[g];g++;var v,p,b,w,E,D,S,C;switch(o){default:throw new Error("unrecognised depth");case 16:S=l[g],g++,i.push((d<<8)+S);break;case 4:S=d&15,C=d>>4,i.push(C,S);break;case 2:E=d&3,D=d>>2&3,S=d>>4&3,C=d>>6&3,i.push(C,S,D,E);break;case 1:v=d&1,p=d>>1&1,b=d>>2&1,w=d>>3&1,E=d>>4&1,D=d>>5&1,S=d>>6&1,C=d>>7&1,i.push(C,S,D,E,w,b,p,v);break}}return{get:function(d){for(;i.length<d;)y();var v=i.slice(0,d);return i=i.slice(d),v},resetAfterLine:function(){i.length=0},end:function(){if(g!==l.length)throw new Error("extra data found")}}}function f(l,o,i,g,y,d){for(var v=l.width,p=l.height,b=l.index,w=0;w<p;w++)for(var E=0;E<v;E++){for(var D=i(E,w,b),S=0;S<4;S++){var C=m[g][S];if(C===255)o[D+S]=255;else{var I=C+d;if(I===y.length)throw new Error("Ran out of data");o[D+S]=y[I]}}d+=g}return d}function h(l,o,i,g,y,d){for(var v=l.width,p=l.height,b=l.index,w=0;w<p;w++){for(var E=0;E<v;E++)for(var D=y.get(g),S=i(E,w,b),C=0;C<4;C++){var I=m[g][C];o[S+C]=I!==255?D[I]:d}y.resetAfterLine()}}s.dataToBitMap=function(l,o){var i=o.width,g=o.height,y=o.depth,d=o.bpp,v=o.interlace;if(y!==8)var p=_(l,y);var b;y<=8?b=new u(i*g*4):b=new Uint16Array(i*g*4);var w=Math.pow(2,y)-1,E=0,D,S;if(v)D=c.getImagePasses(i,g),S=c.getInterlaceIterator(i,g);else{var C=0;S=function(){var T=C;return C+=4,T},D=[{width:i,height:g}]}for(var I=0;I<D.length;I++)y===8?E=f(D[I],b,S,d,l,E):h(D[I],b,S,d,p,w);if(y===8){if(E!==l.length)throw new Error("extra data found")}else p.end();return b}}).call(this,n("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(n,a,s){(function(u){"use strict";var c=n("./constants");a.exports=function(m,_,f,h){var l=[c.COLORTYPE_COLOR_ALPHA,c.COLORTYPE_ALPHA].indexOf(h.colorType)!==-1;if(h.colorType===h.inputColorType){var o=function(){var T=new ArrayBuffer(2);return new DataView(T).setInt16(0,256,!0),new Int16Array(T)[0]!==256}();if(h.bitDepth===8||h.bitDepth===16&&o)return m}var i=h.bitDepth!==16?m:new Uint16Array(m.buffer),g=255,y=c.COLORTYPE_TO_BPP_MAP[h.inputColorType];y==4&&!h.inputHasAlpha&&(y=3);var d=c.COLORTYPE_TO_BPP_MAP[h.colorType];h.bitDepth===16&&(g=65535,d*=2);var v=new u(_*f*d),p=0,b=0,w=h.bgColor||{};w.red===void 0&&(w.red=g),w.green===void 0&&(w.green=g),w.blue===void 0&&(w.blue=g);function E(T,M){var P,N,G,V=g;switch(h.inputColorType){case c.COLORTYPE_COLOR_ALPHA:V=T[M+3],P=T[M],N=T[M+1],G=T[M+2];break;case c.COLORTYPE_COLOR:P=T[M],N=T[M+1],G=T[M+2];break;case c.COLORTYPE_ALPHA:V=T[M+1],P=T[M],N=P,G=P;break;case c.COLORTYPE_GRAYSCALE:P=T[M],N=P,G=P;break;default:throw new Error("input color type:"+h.inputColorType+" is not supported at present")}return h.inputHasAlpha&&(l||(V/=g,P=Math.min(Math.max(Math.round((1-V)*w.red+V*P),0),g),N=Math.min(Math.max(Math.round((1-V)*w.green+V*N),0),g),G=Math.min(Math.max(Math.round((1-V)*w.blue+V*G),0),g))),{red:P,green:N,blue:G,alpha:V}}for(var D=0;D<f;D++)for(var S=0;S<_;S++){var C=E(i,p);switch(h.colorType){case c.COLORTYPE_COLOR_ALPHA:case c.COLORTYPE_COLOR:h.bitDepth===8?(v[b]=C.red,v[b+1]=C.green,v[b+2]=C.blue,l&&(v[b+3]=C.alpha)):(v.writeUInt16BE(C.red,b),v.writeUInt16BE(C.green,b+2),v.writeUInt16BE(C.blue,b+4),l&&v.writeUInt16BE(C.alpha,b+6));break;case c.COLORTYPE_ALPHA:case c.COLORTYPE_GRAYSCALE:var I=(C.red+C.green+C.blue)/3;h.bitDepth===8?(v[b]=I,l&&(v[b+1]=C.alpha)):(v.writeUInt16BE(I,b),l&&v.writeUInt16BE(C.alpha,b+2));break}p+=y,b+=d}return v}}).call(this,n("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(n,a,s){(function(u,c){"use strict";var m=n("util"),_=n("stream"),f=a.exports=function(){_.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};m.inherits(f,_),f.prototype.read=function(h,l){this._reads.push({length:Math.abs(h),allowLess:h<0,func:l}),u.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},f.prototype.write=function(h,l){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var o;return c.isBuffer(h)?o=h:o=new c(h,l||this._encoding),this._buffers.push(o),this._buffered+=o.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},f.prototype.end=function(h,l){h&&this.write(h,l),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},f.prototype.destroySoon=f.prototype.end,f.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},f.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},f.prototype._processReadAllowingLess=function(h){this._reads.shift();var l=this._buffers[0];l.length>h.length?(this._buffered-=h.length,this._buffers[0]=l.slice(h.length),h.func.call(this,l.slice(0,h.length))):(this._buffered-=l.length,this._buffers.shift(),h.func.call(this,l))},f.prototype._processRead=function(h){this._reads.shift();for(var l=0,o=0,i=new c(h.length);l<h.length;){var g=this._buffers[o++],y=Math.min(g.length,h.length-l);g.copy(i,l,0,y),l+=y,y!==g.length&&(this._buffers[--o]=g.slice(y))}o>0&&this._buffers.splice(0,o),this._buffered-=h.length,h.func.call(this,i)},f.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var h=this._reads[0];if(h.allowLess)this._processReadAllowingLess(h);else if(this._buffered>=h.length)this._processRead(h);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(l){this.emit("error",l)}}}).call(this,n("_process"),n("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(n,a,s){"use strict";a.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(n,a,s){"use strict";var u=[];(function(){for(var m=0;m<256;m++){for(var _=m,f=0;f<8;f++)_&1?_=3988292384^_>>>1:_=_>>>1;u[m]=_}})();var c=a.exports=function(){this._crc=-1};c.prototype.write=function(m){for(var _=0;_<m.length;_++)this._crc=u[(this._crc^m[_])&255]^this._crc>>>8;return!0},c.prototype.crc32=function(){return this._crc^-1},c.crc32=function(m){for(var _=-1,f=0;f<m.length;f++)_=u[(_^m[f])&255]^_>>>8;return _^-1}},{}],115:[function(n,a,s){(function(u){"use strict";var c=n("./paeth-predictor");function m(b,w,E,D,S){for(var C=0;C<E;C++)D[S+C]=b[w+C]}function _(b,w,E){for(var D=0,S=w+E,C=w;C<S;C++)D+=Math.abs(b[C]);return D}function f(b,w,E,D,S,C){for(var I=0;I<E;I++){var T=I>=C?b[w+I-C]:0,M=b[w+I]-T;D[S+I]=M}}function h(b,w,E,D){for(var S=0,C=0;C<E;C++){var I=C>=D?b[w+C-D]:0,T=b[w+C]-I;S+=Math.abs(T)}return S}function l(b,w,E,D,S){for(var C=0;C<E;C++){var I=w>0?b[w+C-E]:0,T=b[w+C]-I;D[S+C]=T}}function o(b,w,E){for(var D=0,S=w+E,C=w;C<S;C++){var I=w>0?b[C-E]:0,T=b[C]-I;D+=Math.abs(T)}return D}function i(b,w,E,D,S,C){for(var I=0;I<E;I++){var T=I>=C?b[w+I-C]:0,M=w>0?b[w+I-E]:0,P=b[w+I]-(T+M>>1);D[S+I]=P}}function g(b,w,E,D){for(var S=0,C=0;C<E;C++){var I=C>=D?b[w+C-D]:0,T=w>0?b[w+C-E]:0,M=b[w+C]-(I+T>>1);S+=Math.abs(M)}return S}function y(b,w,E,D,S,C){for(var I=0;I<E;I++){var T=I>=C?b[w+I-C]:0,M=w>0?b[w+I-E]:0,P=w>0&&I>=C?b[w+I-(E+C)]:0,N=b[w+I]-c(T,M,P);D[S+I]=N}}function d(b,w,E,D){for(var S=0,C=0;C<E;C++){var I=C>=D?b[w+C-D]:0,T=w>0?b[w+C-E]:0,M=w>0&&C>=D?b[w+C-(E+D)]:0,P=b[w+C]-c(I,T,M);S+=Math.abs(P)}return S}var v={0:m,1:f,2:l,3:i,4:y},p={0:_,1:h,2:o,3:g,4:d};a.exports=function(b,w,E,D,S){var C;if(!("filterType"in D)||D.filterType===-1)C=[0,1,2,3,4];else if(typeof D.filterType=="number")C=[D.filterType];else throw new Error("unrecognised filter types");D.bitDepth===16&&(S*=2);for(var I=w*S,T=0,M=0,P=new u((I+1)*E),N=C[0],G=0;G<E;G++){if(C.length>1)for(var V=1/0,H=0;H<C.length;H++){var R=p[C[H]](b,M,I,S);R<V&&(N=C[H],V=R)}P[T]=N,T++,v[N](b,M,I,P,T,S),T+=I,M+=I}return P}}).call(this,n("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(n,a,s){(function(u){"use strict";var c=n("util"),m=n("./chunkstream"),_=n("./filter-parse"),f=a.exports=function(h){m.call(this);var l=[],o=this;this._filter=new _(h,{read:this.read.bind(this),write:function(i){l.push(i)},complete:function(){o.emit("complete",u.concat(l))}}),this._filter.start()};c.inherits(f,m)}).call(this,n("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(n,a,s){(function(u){"use strict";var c=n("./sync-reader"),m=n("./filter-parse");s.process=function(_,f){var h=[],l=new c(_),o=new m(f,{read:l.read.bind(l),write:function(i){h.push(i)},complete:function(){}});return o.start(),l.process(),u.concat(h)}}).call(this,n("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(n,a,s){(function(u){"use strict";var c=n("./interlace"),m=n("./paeth-predictor");function _(h,l,o){var i=h*l;return o!==8&&(i=Math.ceil(i/(8/o))),i}var f=a.exports=function(h,l){var o=h.width,i=h.height,g=h.interlace,y=h.bpp,d=h.depth;if(this.read=l.read,this.write=l.write,this.complete=l.complete,this._imageIndex=0,this._images=[],g)for(var v=c.getImagePasses(o,i),p=0;p<v.length;p++)this._images.push({byteWidth:_(v[p].width,y,d),height:v[p].height,lineIndex:0});else this._images.push({byteWidth:_(o,y,d),height:i,lineIndex:0});d===8?this._xComparison=y:d===16?this._xComparison=y*2:this._xComparison=1};f.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},f.prototype._unFilterType1=function(h,l,o){for(var i=this._xComparison,g=i-1,y=0;y<o;y++){var d=h[1+y],v=y>g?l[y-i]:0;l[y]=d+v}},f.prototype._unFilterType2=function(h,l,o){for(var i=this._lastLine,g=0;g<o;g++){var y=h[1+g],d=i?i[g]:0;l[g]=y+d}},f.prototype._unFilterType3=function(h,l,o){for(var i=this._xComparison,g=i-1,y=this._lastLine,d=0;d<o;d++){var v=h[1+d],p=y?y[d]:0,b=d>g?l[d-i]:0,w=Math.floor((b+p)/2);l[d]=v+w}},f.prototype._unFilterType4=function(h,l,o){for(var i=this._xComparison,g=i-1,y=this._lastLine,d=0;d<o;d++){var v=h[1+d],p=y?y[d]:0,b=d>g?l[d-i]:0,w=d>g&&y?y[d-i]:0,E=m(b,p,w);l[d]=v+E}},f.prototype._reverseFilterLine=function(h){var l=h[0],o,i=this._images[this._imageIndex],g=i.byteWidth;if(l===0)o=h.slice(1,g+1);else switch(o=new u(g),l){case 1:this._unFilterType1(h,o,g);break;case 2:this._unFilterType2(h,o,g);break;case 3:this._unFilterType3(h,o,g);break;case 4:this._unFilterType4(h,o,g);break;default:throw new Error("Unrecognised filter type - "+l)}this.write(o),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=o,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,n("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(n,a,s){(function(u){"use strict";function c(f,h,l,o,i){for(var g=0,y=0;y<o;y++)for(var d=0;d<l;d++){var v=i[f[g]];if(!v)throw new Error("index "+f[g]+" not in palette");for(var p=0;p<4;p++)h[g+p]=v[p];g+=4}}function m(f,h,l,o,i){for(var g=0,y=0;y<o;y++)for(var d=0;d<l;d++){var v=!1;if(i.length===1?i[0]===f[g]&&(v=!0):i[0]===f[g]&&i[1]===f[g+1]&&i[2]===f[g+2]&&(v=!0),v)for(var p=0;p<4;p++)h[g+p]=0;g+=4}}function _(f,h,l,o,i){for(var g=255,y=Math.pow(2,i)-1,d=0,v=0;v<o;v++)for(var p=0;p<l;p++){for(var b=0;b<4;b++)h[d+b]=Math.floor(f[d+b]*g/y+.5);d+=4}}a.exports=function(f,h){var l=h.depth,o=h.width,i=h.height,g=h.colorType,y=h.transColor,d=h.palette,v=f;return g===3?c(f,v,o,i,d):(y&&m(f,v,o,i,y),l!==8&&(l===16&&(v=new u(o*i*4)),_(f,v,o,i,l))),v}}).call(this,n("buffer").Buffer)},{buffer:48}],120:[function(n,a,s){"use strict";var u=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];s.getImagePasses=function(c,m){for(var _=[],f=c%8,h=m%8,l=(c-f)/8,o=(m-h)/8,i=0;i<u.length;i++){for(var g=u[i],y=l*g.x.length,d=o*g.y.length,v=0;v<g.x.length&&g.x[v]<f;v++)y++;for(v=0;v<g.y.length&&g.y[v]<h;v++)d++;y>0&&d>0&&_.push({width:y,height:d,index:i})}return _},s.getInterlaceIterator=function(c){return function(m,_,f){var h=m%u[f].x.length,l=(m-h)/u[f].x.length*8+u[f].x[h],o=_%u[f].y.length,i=(_-o)/u[f].y.length*8+u[f].y[o];return l*4+i*c*4}}},{}],121:[function(n,a,s){(function(u){"use strict";var c=n("util"),m=n("stream"),_=n("./constants"),f=n("./packer"),h=a.exports=function(l){m.call(this);var o=l||{};this._packer=new f(o),this._deflate=this._packer.createDeflate(),this.readable=!0};c.inherits(h,m),h.prototype.pack=function(l,o,i,g){this.emit("data",new u(_.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(o,i)),g&&this.emit("data",this._packer.packGAMA(g));var y=this._packer.filterData(l,o,i);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(d){this.emit("data",this._packer.packIDAT(d))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(y)}}).call(this,n("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(n,a,s){(function(u){"use strict";var c=!0,m=n("zlib");m.deflateSync||(c=!1);var _=n("./constants"),f=n("./packer");a.exports=function(h,l){if(!c)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var o=l||{},i=new f(o),g=[];g.push(new u(_.PNG_SIGNATURE)),g.push(i.packIHDR(h.width,h.height)),h.gamma&&g.push(i.packGAMA(h.gamma));var y=i.filterData(h.data,h.width,h.height),d=m.deflateSync(y,i.getDeflateOptions());if(y=null,!d||!d.length)throw new Error("bad png - invalid compressed data response");return g.push(i.packIDAT(d)),g.push(i.packIEND()),u.concat(g)}}).call(this,n("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(n,a,s){(function(u){"use strict";var c=n("./constants"),m=n("./crc"),_=n("./bitpacker"),f=n("./filter-pack"),h=n("zlib"),l=a.exports=function(o){if(this._options=o,o.deflateChunkSize=o.deflateChunkSize||32*1024,o.deflateLevel=o.deflateLevel!=null?o.deflateLevel:9,o.deflateStrategy=o.deflateStrategy!=null?o.deflateStrategy:3,o.inputHasAlpha=o.inputHasAlpha!=null?o.inputHasAlpha:!0,o.deflateFactory=o.deflateFactory||h.createDeflate,o.bitDepth=o.bitDepth||8,o.colorType=typeof o.colorType=="number"?o.colorType:c.COLORTYPE_COLOR_ALPHA,o.inputColorType=typeof o.inputColorType=="number"?o.inputColorType:c.COLORTYPE_COLOR_ALPHA,[c.COLORTYPE_GRAYSCALE,c.COLORTYPE_COLOR,c.COLORTYPE_COLOR_ALPHA,c.COLORTYPE_ALPHA].indexOf(o.colorType)===-1)throw new Error("option color type:"+o.colorType+" is not supported at present");if([c.COLORTYPE_GRAYSCALE,c.COLORTYPE_COLOR,c.COLORTYPE_COLOR_ALPHA,c.COLORTYPE_ALPHA].indexOf(o.inputColorType)===-1)throw new Error("option input color type:"+o.inputColorType+" is not supported at present");if(o.bitDepth!==8&&o.bitDepth!==16)throw new Error("option bit depth:"+o.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(o,i,g){var y=_(o,i,g,this._options),d=c.COLORTYPE_TO_BPP_MAP[this._options.colorType],v=f(y,i,g,this._options,d);return v},l.prototype._packChunk=function(o,i){var g=i?i.length:0,y=new u(g+12);return y.writeUInt32BE(g,0),y.writeUInt32BE(o,4),i&&i.copy(y,8),y.writeInt32BE(m.crc32(y.slice(4,y.length-4)),y.length-4),y},l.prototype.packGAMA=function(o){var i=new u(4);return i.writeUInt32BE(Math.floor(o*c.GAMMA_DIVISION),0),this._packChunk(c.TYPE_gAMA,i)},l.prototype.packIHDR=function(o,i){var g=new u(13);return g.writeUInt32BE(o,0),g.writeUInt32BE(i,4),g[8]=this._options.bitDepth,g[9]=this._options.colorType,g[10]=0,g[11]=0,g[12]=0,this._packChunk(c.TYPE_IHDR,g)},l.prototype.packIDAT=function(o){return this._packChunk(c.TYPE_IDAT,o)},l.prototype.packIEND=function(){return this._packChunk(c.TYPE_IEND,null)}}).call(this,n("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(n,a,s){"use strict";a.exports=function(c,m,_){var f=c+m-_,h=Math.abs(f-c),l=Math.abs(f-m),o=Math.abs(f-_);return h<=l&&h<=o?c:l<=o?m:_}},{}],125:[function(n,a,s){"use strict";var u=n("util"),c=n("zlib"),m=n("./chunkstream"),_=n("./filter-parse-async"),f=n("./parser"),h=n("./bitmapper"),l=n("./format-normaliser"),o=a.exports=function(i){m.call(this),this._parser=new f(i,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=i,this.writable=!0,this._parser.start()};u.inherits(o,m),o.prototype._handleError=function(i){this.emit("error",i),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},o.prototype._inflateData=function(i){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=c.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var g=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,y=g*this._bitmapInfo.height,d=Math.max(y,c.Z_MIN_CHUNK);this._inflate=c.createInflate({chunkSize:d});var v=y,p=this.emit.bind(this,"error");this._inflate.on("error",function(w){v&&p(w)}),this._filter.on("complete",this._complete.bind(this));var b=this._filter.write.bind(this._filter);this._inflate.on("data",function(w){v&&(w.length>v&&(w=w.slice(0,v)),v-=w.length,b(w))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(i)},o.prototype._handleMetaData=function(i){this.emit("metadata",i),this._bitmapInfo=Object.create(i),this._filter=new _(this._bitmapInfo)},o.prototype._handleTransColor=function(i){this._bitmapInfo.transColor=i},o.prototype._handlePalette=function(i){this._bitmapInfo.palette=i},o.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},o.prototype._complete=function(i){if(!this.errord){try{var g=h.dataToBitMap(i,this._bitmapInfo),y=l(g,this._bitmapInfo);g=null}catch(d){this._handleError(d);return}this.emit("parsed",y)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(n,a,s){(function(u){"use strict";var c=!0,m=n("zlib"),_=n("./sync-inflate");m.deflateSync||(c=!1);var f=n("./sync-reader"),h=n("./filter-parse-sync"),l=n("./parser"),o=n("./bitmapper"),i=n("./format-normaliser");a.exports=function(g,y){if(!c)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var d;function v(Y){d=Y}var p;function b(Y){p=Y}function w(Y){p.transColor=Y}function E(Y){p.palette=Y}var D;function S(Y){D=Y}var C=[];function I(Y){C.push(Y)}var T=new f(g),M=new l(y,{read:T.read.bind(T),error:v,metadata:b,gamma:S,palette:E,transColor:w,inflateData:I});if(M.start(),T.process(),d)throw d;var P=u.concat(C);C.length=0;var N;if(p.interlace)N=m.inflateSync(P);else{var G=(p.width*p.bpp*p.depth+7>>3)+1,V=G*p.height;N=_(P,{chunkSize:V,maxLength:V})}if(P=null,!N||!N.length)throw new Error("bad png - invalid inflate data response");var H=h.process(N,p);P=null;var R=o.dataToBitMap(H,p);H=null;var j=i(R,p);return p.data=j,p.gamma=D||0,p}}).call(this,n("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(n,a,s){(function(u){"use strict";var c=n("./constants"),m=n("./crc"),_=a.exports=function(f,h){this._options=f,f.checkCRC=f.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[c.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[c.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[c.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[c.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[c.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[c.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=h.read,this.error=h.error,this.metadata=h.metadata,this.gamma=h.gamma,this.transColor=h.transColor,this.palette=h.palette,this.parsed=h.parsed,this.inflateData=h.inflateData,this.finished=h.finished};_.prototype.start=function(){this.read(c.PNG_SIGNATURE.length,this._parseSignature.bind(this))},_.prototype._parseSignature=function(f){for(var h=c.PNG_SIGNATURE,l=0;l<h.length;l++)if(f[l]!==h[l]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},_.prototype._parseChunkBegin=function(f){for(var h=f.readUInt32BE(0),l=f.readUInt32BE(4),o="",i=4;i<8;i++)o+=String.fromCharCode(f[i]);var g=!!(f[4]&32);if(!this._hasIHDR&&l!==c.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new m,this._crc.write(new u(o)),this._chunks[l])return this._chunks[l](h);if(!g){this.error(new Error("Unsupported critical chunk type "+o));return}this.read(h+4,this._skipChunk.bind(this))},_.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},_.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},_.prototype._parseChunkEnd=function(f){var h=f.readInt32BE(0),l=this._crc.crc32();if(this._options.checkCRC&&l!==h){this.error(new Error("Crc error - "+h+" - "+l));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},_.prototype._handleIHDR=function(f){this.read(f,this._parseIHDR.bind(this))},_.prototype._parseIHDR=function(f){this._crc.write(f);var h=f.readUInt32BE(0),l=f.readUInt32BE(4),o=f[8],i=f[9],g=f[10],y=f[11],d=f[12];if(o!==8&&o!==4&&o!==2&&o!==1&&o!==16){this.error(new Error("Unsupported bit depth "+o));return}if(!(i in c.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(g!==0){this.error(new Error("Unsupported compression method"));return}if(y!==0){this.error(new Error("Unsupported filter method"));return}if(d!==0&&d!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=i;var v=c.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:h,height:l,depth:o,interlace:!!d,palette:!!(i&c.COLORTYPE_PALETTE),color:!!(i&c.COLORTYPE_COLOR),alpha:!!(i&c.COLORTYPE_ALPHA),bpp:v,colorType:i}),this._handleChunkEnd()},_.prototype._handlePLTE=function(f){this.read(f,this._parsePLTE.bind(this))},_.prototype._parsePLTE=function(f){this._crc.write(f);for(var h=Math.floor(f.length/3),l=0;l<h;l++)this._palette.push([f[l*3],f[l*3+1],f[l*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},_.prototype._handleTRNS=function(f){this.read(f,this._parseTRNS.bind(this))},_.prototype._parseTRNS=function(f){if(this._crc.write(f),this._colorType===c.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(f.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var h=0;h<f.length;h++)this._palette[h][3]=f[h];this.palette(this._palette)}this._colorType===c.COLORTYPE_GRAYSCALE&&this.transColor([f.readUInt16BE(0)]),this._colorType===c.COLORTYPE_COLOR&&this.transColor([f.readUInt16BE(0),f.readUInt16BE(2),f.readUInt16BE(4)]),this._handleChunkEnd()},_.prototype._handleGAMA=function(f){this.read(f,this._parseGAMA.bind(this))},_.prototype._parseGAMA=function(f){this._crc.write(f),this.gamma(f.readUInt32BE(0)/c.GAMMA_DIVISION),this._handleChunkEnd()},_.prototype._handleIDAT=function(f){this.read(-f,this._parseIDAT.bind(this,f))},_.prototype._parseIDAT=function(f,h){if(this._crc.write(h),this._colorType===c.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(h);var l=f-h.length;l>0?this._handleIDAT(l):this._handleChunkEnd()},_.prototype._handleIEND=function(f){this.read(f,this._parseIEND.bind(this))},_.prototype._parseIEND=function(f){this._crc.write(f),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,n("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(n,a,s){"use strict";var u=n("./parser-sync"),c=n("./packer-sync");s.read=function(m,_){return u(m,_||{})},s.write=function(m,_){return c(m,_)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(n,a,s){(function(u,c){"use strict";var m=n("util"),_=n("stream"),f=n("./parser-async"),h=n("./packer-async"),l=n("./png-sync"),o=s.PNG=function(i){_.call(this),i=i||{},this.width=i.width|0,this.height=i.height|0,this.data=this.width>0&&this.height>0?new c(4*this.width*this.height):null,i.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new f(i),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(g){this.data=g,this.emit("parsed",g)}.bind(this)),this._packer=new h(i),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};m.inherits(o,_),o.sync=l,o.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(u.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)},o.prototype.parse=function(i,g){if(g){var y,d;y=function(v){this.removeListener("error",d),this.data=v,g(null,this)}.bind(this),d=function(v){this.removeListener("parsed",y),g(v,null)}.bind(this),this.once("parsed",y),this.once("error",d)}return this.end(i),this},o.prototype.write=function(i){return this._parser.write(i),!0},o.prototype.end=function(i){this._parser.end(i)},o.prototype._metadata=function(i){this.width=i.width,this.height=i.height,this.emit("metadata",i)},o.prototype._gamma=function(i){this.gamma=i},o.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},o.bitblt=function(i,g,y,d,v,p,b,w){if(y|=0,d|=0,v|=0,p|=0,b|=0,w|=0,y>i.width||d>i.height||y+v>i.width||d+p>i.height)throw new Error("bitblt reading outside image");if(b>g.width||w>g.height||b+v>g.width||w+p>g.height)throw new Error("bitblt writing outside image");for(var E=0;E<p;E++)i.data.copy(g.data,(w+E)*g.width+b<<2,(d+E)*i.width+y<<2,(d+E)*i.width+y+v<<2)},o.prototype.bitblt=function(i,g,y,d,v,p,b){return o.bitblt(this,i,g,y,d,v,p,b),this},o.adjustGamma=function(i){if(i.gamma){for(var g=0;g<i.height;g++)for(var y=0;y<i.width;y++)for(var d=i.width*g+y<<2,v=0;v<3;v++){var p=i.data[d+v]/255;p=Math.pow(p,1/2.2/i.gamma),i.data[d+v]=Math.round(p*255)}i.gamma=0}},o.prototype.adjustGamma=function(){o.adjustGamma(this)}}).call(this,n("_process"),n("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(n,a,s){(function(u,c){"use strict";var m=n("assert").ok,_=n("zlib"),f=n("util"),h=n("buffer").kMaxLength;function l(d){if(!(this instanceof l))return new l(d);d&&d.chunkSize<_.Z_MIN_CHUNK&&(d.chunkSize=_.Z_MIN_CHUNK),_.Inflate.call(this,d),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,d&&d.maxLength!=null&&(this._maxLength=d.maxLength)}function o(d){return new l(d)}function i(d,v){v&&u.nextTick(v),d._handle&&(d._handle.close(),d._handle=null)}l.prototype._processChunk=function(d,v,p){if(typeof p=="function")return _.Inflate._processChunk.call(this,d,v,p);var b=this,w=d&&d.length,E=this._chunkSize-this._offset,D=this._maxLength,S=0,C=[],I=0,T;this.on("error",function(G){T=G});function M(G,V){if(!b._hadError){var H=E-V;if(m(H>=0,"have should not go down"),H>0){var R=b._buffer.slice(b._offset,b._offset+H);if(b._offset+=H,R.length>D&&(R=R.slice(0,D)),C.push(R),I+=R.length,D-=R.length,D===0)return!1}return(V===0||b._offset>=b._chunkSize)&&(E=b._chunkSize,b._offset=0,b._buffer=c.allocUnsafe(b._chunkSize)),V===0?(S+=w-G,w=G,!0):!1}}m(this._handle,"zlib binding closed");do{var P=this._handle.writeSync(v,d,S,w,this._buffer,this._offset,E);P=P||this._writeState}while(!this._hadError&&M(P[0],P[1]));if(this._hadError)throw T;if(I>=h)throw i(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+h.toString(16)+" bytes");var N=c.concat(C,I);return i(this),N},f.inherits(l,_.Inflate);function g(d,v){if(typeof v=="string"&&(v=c.from(v)),!(v instanceof c))throw new TypeError("Not a string or buffer");var p=d._finishFlushFlag;return p==null&&(p=_.Z_FINISH),d._processChunk(v,p)}function y(d,v){return g(new l(v),d)}a.exports=s=y,s.Inflate=l,s.createInflate=o,s.inflateSync=y}).call(this,n("_process"),n("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(n,a,s){"use strict";var u=a.exports=function(c){this._buffer=c,this._reads=[]};u.prototype.read=function(c,m){this._reads.push({length:Math.abs(c),allowLess:c<0,func:m})},u.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var c=this._reads[0];if(this._buffer.length&&(this._buffer.length>=c.length||c.allowLess)){this._reads.shift();var m=this._buffer;this._buffer=m.slice(c.length),c.func.call(this,m.slice(0,c.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(n,a,s){(function(u){"use strict";typeof u>"u"||!u.version||u.version.indexOf("v0.")===0||u.version.indexOf("v1.")===0&&u.version.indexOf("v1.8.")!==0?a.exports={nextTick:c}:a.exports=u;function c(m,_,f,h){if(typeof m!="function")throw new TypeError('"callback" argument must be a function');var l=arguments.length,o,i;switch(l){case 0:case 1:return u.nextTick(m);case 2:return u.nextTick(function(){m.call(null,_)});case 3:return u.nextTick(function(){m.call(null,_,f)});case 4:return u.nextTick(function(){m.call(null,_,f,h)});default:for(o=new Array(l-1),i=0;i<o.length;)o[i++]=arguments[i];return u.nextTick(function(){m.apply(null,o)})}}}).call(this,n("_process"))},{_process:133}],133:[function(n,a,s){var u=a.exports={},c,m;function _(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?c=setTimeout:c=_}catch{c=_}try{typeof clearTimeout=="function"?m=clearTimeout:m=f}catch{m=f}})();function h(w){if(c===setTimeout)return setTimeout(w,0);if((c===_||!c)&&setTimeout)return c=setTimeout,setTimeout(w,0);try{return c(w,0)}catch{try{return c.call(null,w,0)}catch{return c.call(this,w,0)}}}function l(w){if(m===clearTimeout)return clearTimeout(w);if((m===f||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(w);try{return m(w)}catch{try{return m.call(null,w)}catch{return m.call(this,w)}}}var o=[],i=!1,g,y=-1;function d(){!i||!g||(i=!1,g.length?o=g.concat(o):y=-1,o.length&&v())}function v(){if(!i){var w=h(d);i=!0;for(var E=o.length;E;){for(g=o,o=[];++y<E;)g&&g[y].run();y=-1,E=o.length}g=null,i=!1,l(w)}}u.nextTick=function(w){var E=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)E[D-1]=arguments[D];o.push(new p(w,E)),o.length===1&&!i&&h(v)};function p(w,E){this.fun=w,this.array=E}p.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function b(){}u.on=b,u.addListener=b,u.once=b,u.off=b,u.removeListener=b,u.removeAllListeners=b,u.emit=b,u.prependListener=b,u.prependOnceListener=b,u.listeners=function(w){return[]},u.binding=function(w){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(w){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],134:[function(n,a,s){(function(u){(function(c){var m=typeof s=="object"&&s&&!s.nodeType&&s,_=typeof a=="object"&&a&&!a.nodeType&&a,f=typeof u=="object"&&u;(f.global===f||f.window===f||f.self===f)&&(c=f);var h,l=2147483647,o=36,i=1,g=26,y=38,d=700,v=72,p=128,b="-",w=/^xn--/,E=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=o-i,I=Math.floor,T=String.fromCharCode,M;function P(q){throw new RangeError(S[q])}function N(q,te){for(var K=q.length,J=[];K--;)J[K]=te(q[K]);return J}function G(q,te){var K=q.split("@"),J="";K.length>1&&(J=K[0]+"@",q=K[1]),q=q.replace(D,".");var le=q.split("."),se=N(le,te).join(".");return J+se}function V(q){for(var te=[],K=0,J=q.length,le,se;K<J;)le=q.charCodeAt(K++),le>=55296&&le<=56319&&K<J?(se=q.charCodeAt(K++),(se&64512)==56320?te.push(((le&1023)<<10)+(se&1023)+65536):(te.push(le),K--)):te.push(le);return te}function H(q){return N(q,function(te){var K="";return te>65535&&(te-=65536,K+=T(te>>>10&1023|55296),te=56320|te&1023),K+=T(te),K}).join("")}function R(q){return q-48<10?q-22:q-65<26?q-65:q-97<26?q-97:o}function j(q,te){return q+22+75*(q<26)-((te!=0)<<5)}function Y(q,te,K){var J=0;for(q=K?I(q/d):q>>1,q+=I(q/te);q>C*g>>1;J+=o)q=I(q/C);return I(J+(C+1)*q/(q+y))}function ne(q){var te=[],K=q.length,J,le=0,se=p,_e=v,ge,Ee,ae,oe,Q,Z,z,$,O;for(ge=q.lastIndexOf(b),ge<0&&(ge=0),Ee=0;Ee<ge;++Ee)q.charCodeAt(Ee)>=128&&P("not-basic"),te.push(q.charCodeAt(Ee));for(ae=ge>0?ge+1:0;ae<K;){for(oe=le,Q=1,Z=o;ae>=K&&P("invalid-input"),z=R(q.charCodeAt(ae++)),(z>=o||z>I((l-le)/Q))&&P("overflow"),le+=z*Q,$=Z<=_e?i:Z>=_e+g?g:Z-_e,!(z<$);Z+=o)O=o-$,Q>I(l/O)&&P("overflow"),Q*=O;J=te.length+1,_e=Y(le-oe,J,oe==0),I(le/J)>l-se&&P("overflow"),se+=I(le/J),le%=J,te.splice(le++,0,se)}return H(te)}function re(q){var te,K,J,le,se,_e,ge,Ee,ae,oe,Q,Z=[],z,$,O,B;for(q=V(q),z=q.length,te=p,K=0,se=v,_e=0;_e<z;++_e)Q=q[_e],Q<128&&Z.push(T(Q));for(J=le=Z.length,le&&Z.push(b);J<z;){for(ge=l,_e=0;_e<z;++_e)Q=q[_e],Q>=te&&Q<ge&&(ge=Q);for($=J+1,ge-te>I((l-K)/$)&&P("overflow"),K+=(ge-te)*$,te=ge,_e=0;_e<z;++_e)if(Q=q[_e],Q<te&&++K>l&&P("overflow"),Q==te){for(Ee=K,ae=o;oe=ae<=se?i:ae>=se+g?g:ae-se,!(Ee<oe);ae+=o)B=Ee-oe,O=o-oe,Z.push(T(j(oe+B%O,0))),Ee=I(B/O);Z.push(T(j(Ee,0))),se=Y(K,$,J==le),K=0,++J}++K,++te}return Z.join("")}function ie(q){return G(q,function(te){return w.test(te)?ne(te.slice(4).toLowerCase()):te})}function W(q){return G(q,function(te){return E.test(te)?"xn--"+re(te):te})}if(h={version:"1.4.1",ucs2:{decode:V,encode:H},decode:ne,encode:re,toASCII:W,toUnicode:ie},typeof e=="function"&&typeof e.amd=="object"&&e.amd)e("punycode",function(){return h});else if(m&&_)if(a.exports==m)_.exports=h;else for(M in h)h.hasOwnProperty(M)&&(m[M]=h[M]);else c.punycode=h})(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{})},{}],135:[function(n,a,s){"use strict";function u(m,_){return Object.prototype.hasOwnProperty.call(m,_)}a.exports=function(m,_,f,h){_=_||"&",f=f||"=";var l={};if(typeof m!="string"||m.length===0)return l;var o=/\+/g;m=m.split(_);var i=1e3;h&&typeof h.maxKeys=="number"&&(i=h.maxKeys);var g=m.length;i>0&&g>i&&(g=i);for(var y=0;y<g;++y){var d=m[y].replace(o,"%20"),v=d.indexOf(f),p,b,w,E;v>=0?(p=d.substr(0,v),b=d.substr(v+1)):(p=d,b=""),w=decodeURIComponent(p),E=decodeURIComponent(b),u(l,w)?c(l[w])?l[w].push(E):l[w]=[l[w],E]:l[w]=E}return l};var c=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"}},{}],136:[function(n,a,s){"use strict";var u=function(f){switch(typeof f){case"string":return f;case"boolean":return f?"true":"false";case"number":return isFinite(f)?f:"";default:return""}};a.exports=function(f,h,l,o){return h=h||"&",l=l||"=",f===null&&(f=void 0),typeof f=="object"?m(_(f),function(i){var g=encodeURIComponent(u(i))+l;return c(f[i])?m(f[i],function(y){return g+encodeURIComponent(u(y))}).join(h):g+encodeURIComponent(u(f[i]))}).join(h):o?encodeURIComponent(u(o))+l+encodeURIComponent(u(f)):""};var c=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function m(f,h){if(f.map)return f.map(h);for(var l=[],o=0;o<f.length;o++)l.push(h(f[o],o));return l}var _=Object.keys||function(f){var h=[];for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&h.push(l);return h}},{}],137:[function(n,a,s){"use strict";s.decode=s.parse=n("./decode"),s.encode=s.stringify=n("./encode")},{"./decode":135,"./encode":136}],138:[function(n,a,s){a.exports=n("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(n,a,s){"use strict";var u=n("process-nextick-args"),c=Object.keys||function(d){var v=[];for(var p in d)v.push(p);return v};a.exports=i;var m=n("core-util-is");m.inherits=n("inherits");var _=n("./_stream_readable"),f=n("./_stream_writable");m.inherits(i,_);for(var h=c(f.prototype),l=0;l<h.length;l++){var o=h[l];i.prototype[o]||(i.prototype[o]=f.prototype[o])}function i(d){if(!(this instanceof i))return new i(d);_.call(this,d),f.call(this,d),d&&d.readable===!1&&(this.readable=!1),d&&d.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,d&&d.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function g(){this.allowHalfOpen||this._writableState.ended||u.nextTick(y,this)}function y(d){d.end()}Object.defineProperty(i.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),i.prototype._destroy=function(d,v){this.push(null),this.end(),u.nextTick(v,d)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(n,a,s){"use strict";a.exports=m;var u=n("./_stream_transform"),c=n("core-util-is");c.inherits=n("inherits"),c.inherits(m,u);function m(_){if(!(this instanceof m))return new m(_);u.call(this,_)}m.prototype._transform=function(_,f,h){h(null,_)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(n,a,s){(function(u,c){"use strict";var m=n("process-nextick-args");a.exports=T;var _=n("isarray"),f;T.ReadableState=I;var h=n("events").EventEmitter,l=function(Q,Z){return Q.listeners(Z).length},o=n("./internal/streams/stream"),i=n("safe-buffer").Buffer,g=c.Uint8Array||function(){};function y(Q){return i.from(Q)}function d(Q){return i.isBuffer(Q)||Q instanceof g}var v=n("core-util-is");v.inherits=n("inherits");var p=n("util"),b=void 0;p&&p.debuglog?b=p.debuglog("stream"):b=function(){};var w=n("./internal/streams/BufferList"),E=n("./internal/streams/destroy"),D;v.inherits(T,o);var S=["error","close","destroy","pause","resume"];function C(Q,Z,z){if(typeof Q.prependListener=="function")return Q.prependListener(Z,z);!Q._events||!Q._events[Z]?Q.on(Z,z):_(Q._events[Z])?Q._events[Z].unshift(z):Q._events[Z]=[z,Q._events[Z]]}function I(Q,Z){f=f||n("./_stream_duplex"),Q=Q||{};var z=Z instanceof f;this.objectMode=!!Q.objectMode,z&&(this.objectMode=this.objectMode||!!Q.readableObjectMode);var $=Q.highWaterMark,O=Q.readableHighWaterMark,B=this.objectMode?16:16*1024;$||$===0?this.highWaterMark=$:z&&(O||O===0)?this.highWaterMark=O:this.highWaterMark=B,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(D||(D=n("string_decoder/").StringDecoder),this.decoder=new D(Q.encoding),this.encoding=Q.encoding)}function T(Q){if(f=f||n("./_stream_duplex"),!(this instanceof T))return new T(Q);this._readableState=new I(Q,this),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),o.call(this)}Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Q){this._readableState&&(this._readableState.destroyed=Q)}}),T.prototype.destroy=E.destroy,T.prototype._undestroy=E.undestroy,T.prototype._destroy=function(Q,Z){this.push(null),Z(Q)},T.prototype.push=function(Q,Z){var z=this._readableState,$;return z.objectMode?$=!0:typeof Q=="string"&&(Z=Z||z.defaultEncoding,Z!==z.encoding&&(Q=i.from(Q,Z),Z=""),$=!0),M(this,Q,Z,!1,$)},T.prototype.unshift=function(Q){return M(this,Q,null,!0,!1)};function M(Q,Z,z,$,O){var B=Q._readableState;if(Z===null)B.reading=!1,j(Q,B);else{var U;O||(U=N(B,Z)),U?Q.emit("error",U):B.objectMode||Z&&Z.length>0?(typeof Z!="string"&&!B.objectMode&&Object.getPrototypeOf(Z)!==i.prototype&&(Z=y(Z)),$?B.endEmitted?Q.emit("error",new Error("stream.unshift() after end event")):P(Q,B,Z,!0):B.ended?Q.emit("error",new Error("stream.push() after EOF")):(B.reading=!1,B.decoder&&!z?(Z=B.decoder.write(Z),B.objectMode||Z.length!==0?P(Q,B,Z,!1):re(Q,B)):P(Q,B,Z,!1))):$||(B.reading=!1)}return G(B)}function P(Q,Z,z,$){Z.flowing&&Z.length===0&&!Z.sync?(Q.emit("data",z),Q.read(0)):(Z.length+=Z.objectMode?1:z.length,$?Z.buffer.unshift(z):Z.buffer.push(z),Z.needReadable&&Y(Q)),re(Q,Z)}function N(Q,Z){var z;return!d(Z)&&typeof Z!="string"&&Z!==void 0&&!Q.objectMode&&(z=new TypeError("Invalid non-string/buffer chunk")),z}function G(Q){return!Q.ended&&(Q.needReadable||Q.length<Q.highWaterMark||Q.length===0)}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(Q){return D||(D=n("string_decoder/").StringDecoder),this._readableState.decoder=new D(Q),this._readableState.encoding=Q,this};var V=8388608;function H(Q){return Q>=V?Q=V:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function R(Q,Z){return Q<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:Q!==Q?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(Q>Z.highWaterMark&&(Z.highWaterMark=H(Q)),Q<=Z.length?Q:Z.ended?Z.length:(Z.needReadable=!0,0))}T.prototype.read=function(Q){b("read",Q),Q=parseInt(Q,10);var Z=this._readableState,z=Q;if(Q!==0&&(Z.emittedReadable=!1),Q===0&&Z.needReadable&&(Z.length>=Z.highWaterMark||Z.ended))return b("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?Ee(this):Y(this),null;if(Q=R(Q,Z),Q===0&&Z.ended)return Z.length===0&&Ee(this),null;var $=Z.needReadable;b("need readable",$),(Z.length===0||Z.length-Q<Z.highWaterMark)&&($=!0,b("length less than watermark",$)),Z.ended||Z.reading?($=!1,b("reading or ended",$)):$&&(b("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(Q=R(z,Z)));var O;return Q>0?O=le(Q,Z):O=null,O===null?(Z.needReadable=!0,Q=0):Z.length-=Q,Z.length===0&&(Z.ended||(Z.needReadable=!0),z!==Q&&Z.ended&&Ee(this)),O!==null&&this.emit("data",O),O};function j(Q,Z){if(!Z.ended){if(Z.decoder){var z=Z.decoder.end();z&&z.length&&(Z.buffer.push(z),Z.length+=Z.objectMode?1:z.length)}Z.ended=!0,Y(Q)}}function Y(Q){var Z=Q._readableState;Z.needReadable=!1,Z.emittedReadable||(b("emitReadable",Z.flowing),Z.emittedReadable=!0,Z.sync?m.nextTick(ne,Q):ne(Q))}function ne(Q){b("emit readable"),Q.emit("readable"),J(Q)}function re(Q,Z){Z.readingMore||(Z.readingMore=!0,m.nextTick(ie,Q,Z))}function ie(Q,Z){for(var z=Z.length;!Z.reading&&!Z.flowing&&!Z.ended&&Z.length<Z.highWaterMark&&(b("maybeReadMore read 0"),Q.read(0),z!==Z.length);)z=Z.length;Z.readingMore=!1}T.prototype._read=function(Q){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(Q,Z){var z=this,$=this._readableState;switch($.pipesCount){case 0:$.pipes=Q;break;case 1:$.pipes=[$.pipes,Q];break;default:$.pipes.push(Q);break}$.pipesCount+=1,b("pipe count=%d opts=%j",$.pipesCount,Z);var O=(!Z||Z.end!==!1)&&Q!==u.stdout&&Q!==u.stderr,B=O?A:Oe;$.endEmitted?m.nextTick(B):z.once("end",B),Q.on("unpipe",U);function U(Ne,ke){b("onunpipe"),Ne===z&&ke&&ke.hasUnpiped===!1&&(ke.hasUnpiped=!0,he())}function A(){b("onend"),Q.end()}var k=W(z);Q.on("drain",k);var ee=!1;function he(){b("cleanup"),Q.removeListener("close",Me),Q.removeListener("finish",Ae),Q.removeListener("drain",k),Q.removeListener("error",Ce),Q.removeListener("unpipe",U),z.removeListener("end",A),z.removeListener("end",Oe),z.removeListener("data",pe),ee=!0,$.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&k()}var we=!1;z.on("data",pe);function pe(Ne){b("ondata"),we=!1;var ke=Q.write(Ne);ke===!1&&!we&&(($.pipesCount===1&&$.pipes===Q||$.pipesCount>1&&oe($.pipes,Q)!==-1)&&!ee&&(b("false write response, pause",z._readableState.awaitDrain),z._readableState.awaitDrain++,we=!0),z.pause())}function Ce(Ne){b("onerror",Ne),Oe(),Q.removeListener("error",Ce),l(Q,"error")===0&&Q.emit("error",Ne)}C(Q,"error",Ce);function Me(){Q.removeListener("finish",Ae),Oe()}Q.once("close",Me);function Ae(){b("onfinish"),Q.removeListener("close",Me),Oe()}Q.once("finish",Ae);function Oe(){b("unpipe"),z.unpipe(Q)}return Q.emit("pipe",z),$.flowing||(b("pipe resume"),z.resume()),Q};function W(Q){return function(){var Z=Q._readableState;b("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&l(Q,"data")&&(Z.flowing=!0,J(Q))}}T.prototype.unpipe=function(Q){var Z=this._readableState,z={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1)return Q&&Q!==Z.pipes?this:(Q||(Q=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,Q&&Q.emit("unpipe",this,z),this);if(!Q){var $=Z.pipes,O=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var B=0;B<O;B++)$[B].emit("unpipe",this,z);return this}var U=oe(Z.pipes,Q);return U===-1?this:(Z.pipes.splice(U,1),Z.pipesCount-=1,Z.pipesCount===1&&(Z.pipes=Z.pipes[0]),Q.emit("unpipe",this,z),this)},T.prototype.on=function(Q,Z){var z=o.prototype.on.call(this,Q,Z);if(Q==="data")this._readableState.flowing!==!1&&this.resume();else if(Q==="readable"){var $=this._readableState;!$.endEmitted&&!$.readableListening&&($.readableListening=$.needReadable=!0,$.emittedReadable=!1,$.reading?$.length&&Y(this):m.nextTick(q,this))}return z},T.prototype.addListener=T.prototype.on;function q(Q){b("readable nexttick read 0"),Q.read(0)}T.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(b("resume"),Q.flowing=!0,te(this,Q)),this};function te(Q,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,m.nextTick(K,Q,Z))}function K(Q,Z){Z.reading||(b("resume read 0"),Q.read(0)),Z.resumeScheduled=!1,Z.awaitDrain=0,Q.emit("resume"),J(Q),Z.flowing&&!Z.reading&&Q.read(0)}T.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function J(Q){var Z=Q._readableState;for(b("flow",Z.flowing);Z.flowing&&Q.read()!==null;);}T.prototype.wrap=function(Q){var Z=this,z=this._readableState,$=!1;Q.on("end",function(){if(b("wrapped end"),z.decoder&&!z.ended){var U=z.decoder.end();U&&U.length&&Z.push(U)}Z.push(null)}),Q.on("data",function(U){if(b("wrapped data"),z.decoder&&(U=z.decoder.write(U)),!(z.objectMode&&U==null)&&!(!z.objectMode&&(!U||!U.length))){var A=Z.push(U);A||($=!0,Q.pause())}});for(var O in Q)this[O]===void 0&&typeof Q[O]=="function"&&(this[O]=function(U){return function(){return Q[U].apply(Q,arguments)}}(O));for(var B=0;B<S.length;B++)Q.on(S[B],this.emit.bind(this,S[B]));return this._read=function(U){b("wrapped _read",U),$&&($=!1,Q.resume())},this},Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),T._fromList=le;function le(Q,Z){if(Z.length===0)return null;var z;return Z.objectMode?z=Z.buffer.shift():!Q||Q>=Z.length?(Z.decoder?z=Z.buffer.join(""):Z.buffer.length===1?z=Z.buffer.head.data:z=Z.buffer.concat(Z.length),Z.buffer.clear()):z=se(Q,Z.buffer,Z.decoder),z}function se(Q,Z,z){var $;return Q<Z.head.data.length?($=Z.head.data.slice(0,Q),Z.head.data=Z.head.data.slice(Q)):Q===Z.head.data.length?$=Z.shift():$=z?_e(Q,Z):ge(Q,Z),$}function _e(Q,Z){var z=Z.head,$=1,O=z.data;for(Q-=O.length;z=z.next;){var B=z.data,U=Q>B.length?B.length:Q;if(U===B.length?O+=B:O+=B.slice(0,Q),Q-=U,Q===0){U===B.length?(++$,z.next?Z.head=z.next:Z.head=Z.tail=null):(Z.head=z,z.data=B.slice(U));break}++$}return Z.length-=$,O}function ge(Q,Z){var z=i.allocUnsafe(Q),$=Z.head,O=1;for($.data.copy(z),Q-=$.data.length;$=$.next;){var B=$.data,U=Q>B.length?B.length:Q;if(B.copy(z,z.length-Q,0,U),Q-=U,Q===0){U===B.length?(++O,$.next?Z.head=$.next:Z.head=Z.tail=null):(Z.head=$,$.data=B.slice(U));break}++O}return Z.length-=O,z}function Ee(Q){var Z=Q._readableState;if(Z.length>0)throw new Error('"endReadable()" called on non-empty stream');Z.endEmitted||(Z.ended=!0,m.nextTick(ae,Z,Q))}function ae(Q,Z){!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,Z.readable=!1,Z.emit("end"))}function oe(Q,Z){for(var z=0,$=Q.length;z<$;z++)if(Q[z]===Z)return z;return-1}}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(n,a,s){"use strict";a.exports=_;var u=n("./_stream_duplex"),c=n("core-util-is");c.inherits=n("inherits"),c.inherits(_,u);function m(l,o){var i=this._transformState;i.transforming=!1;var g=i.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,o!=null&&this.push(o),g(l);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function _(l){if(!(this instanceof _))return new _(l);u.call(this,l),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",f)}function f(){var l=this;typeof this._flush=="function"?this._flush(function(o,i){h(l,o,i)}):h(this,null,null)}_.prototype.push=function(l,o){return this._transformState.needTransform=!1,u.prototype.push.call(this,l,o)},_.prototype._transform=function(l,o,i){throw new Error("_transform() is not implemented")},_.prototype._write=function(l,o,i){var g=this._transformState;if(g.writecb=i,g.writechunk=l,g.writeencoding=o,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},_.prototype._read=function(l){var o=this._transformState;o.writechunk!==null&&o.writecb&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0},_.prototype._destroy=function(l,o){var i=this;u.prototype._destroy.call(this,l,function(g){o(g),i.emit("close")})};function h(l,o,i){if(o)return l.emit("error",o);if(i!=null&&l.push(i),l._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(l._transformState.transforming)throw new Error("Calling transform done when still transforming");return l.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(n,a,s){(function(u,c,m){"use strict";var _=n("process-nextick-args");a.exports=C;function f(K,J,le){this.chunk=K,this.encoding=J,this.callback=le,this.next=null}function h(K){var J=this;this.next=null,this.entry=null,this.finish=function(){te(J,K)}}var l=!u.browser&&["v0.10","v0.9."].indexOf(u.version.slice(0,5))>-1?m:_.nextTick,o;C.WritableState=D;var i=n("core-util-is");i.inherits=n("inherits");var g={deprecate:n("util-deprecate")},y=n("./internal/streams/stream"),d=n("safe-buffer").Buffer,v=c.Uint8Array||function(){};function p(K){return d.from(K)}function b(K){return d.isBuffer(K)||K instanceof v}var w=n("./internal/streams/destroy");i.inherits(C,y);function E(){}function D(K,J){o=o||n("./_stream_duplex"),K=K||{};var le=J instanceof o;this.objectMode=!!K.objectMode,le&&(this.objectMode=this.objectMode||!!K.writableObjectMode);var se=K.highWaterMark,_e=K.writableHighWaterMark,ge=this.objectMode?16:16*1024;se||se===0?this.highWaterMark=se:le&&(_e||_e===0)?this.highWaterMark=_e:this.highWaterMark=ge,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ee=K.decodeStrings===!1;this.decodeStrings=!Ee,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ae){H(J,ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}D.prototype.getBuffer=function(){for(var J=this.bufferedRequest,le=[];J;)le.push(J),J=J.next;return le},function(){try{Object.defineProperty(D.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(K){return S.call(this,K)?!0:this!==C?!1:K&&K._writableState instanceof D}})):S=function(K){return K instanceof this};function C(K){if(o=o||n("./_stream_duplex"),!S.call(C,this)&&!(this instanceof o))return new C(K);this._writableState=new D(K,this),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),y.call(this)}C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function I(K,J){var le=new Error("write after end");K.emit("error",le),_.nextTick(J,le)}function T(K,J,le,se){var _e=!0,ge=!1;return le===null?ge=new TypeError("May not write null values to stream"):typeof le!="string"&&le!==void 0&&!J.objectMode&&(ge=new TypeError("Invalid non-string/buffer chunk")),ge&&(K.emit("error",ge),_.nextTick(se,ge),_e=!1),_e}C.prototype.write=function(K,J,le){var se=this._writableState,_e=!1,ge=!se.objectMode&&b(K);return ge&&!d.isBuffer(K)&&(K=p(K)),typeof J=="function"&&(le=J,J=null),ge?J="buffer":J||(J=se.defaultEncoding),typeof le!="function"&&(le=E),se.ended?I(this,le):(ge||T(this,se,K,le))&&(se.pendingcb++,_e=P(this,se,ge,K,J,le)),_e},C.prototype.cork=function(){var K=this._writableState;K.corked++},C.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.finished&&!K.bufferProcessing&&K.bufferedRequest&&Y(this,K))},C.prototype.setDefaultEncoding=function(J){if(typeof J=="string"&&(J=J.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((J+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+J);return this._writableState.defaultEncoding=J,this};function M(K,J,le){return!K.objectMode&&K.decodeStrings!==!1&&typeof J=="string"&&(J=d.from(J,le)),J}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(K,J,le,se,_e,ge){if(!le){var Ee=M(J,se,_e);se!==Ee&&(le=!0,_e="buffer",se=Ee)}var ae=J.objectMode?1:se.length;J.length+=ae;var oe=J.length<J.highWaterMark;if(oe||(J.needDrain=!0),J.writing||J.corked){var Q=J.lastBufferedRequest;J.lastBufferedRequest={chunk:se,encoding:_e,isBuf:le,callback:ge,next:null},Q?Q.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else N(K,J,!1,ae,se,_e,ge);return oe}function N(K,J,le,se,_e,ge,Ee){J.writelen=se,J.writecb=Ee,J.writing=!0,J.sync=!0,le?K._writev(_e,J.onwrite):K._write(_e,ge,J.onwrite),J.sync=!1}function G(K,J,le,se,_e){--J.pendingcb,le?(_.nextTick(_e,se),_.nextTick(W,K,J),K._writableState.errorEmitted=!0,K.emit("error",se)):(_e(se),K._writableState.errorEmitted=!0,K.emit("error",se),W(K,J))}function V(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function H(K,J){var le=K._writableState,se=le.sync,_e=le.writecb;if(V(le),J)G(K,le,se,J,_e);else{var ge=ne(le);!ge&&!le.corked&&!le.bufferProcessing&&le.bufferedRequest&&Y(K,le),se?l(R,K,le,ge,_e):R(K,le,ge,_e)}}function R(K,J,le,se){le||j(K,J),J.pendingcb--,se(),W(K,J)}function j(K,J){J.length===0&&J.needDrain&&(J.needDrain=!1,K.emit("drain"))}function Y(K,J){J.bufferProcessing=!0;var le=J.bufferedRequest;if(K._writev&&le&&le.next){var se=J.bufferedRequestCount,_e=new Array(se),ge=J.corkedRequestsFree;ge.entry=le;for(var Ee=0,ae=!0;le;)_e[Ee]=le,le.isBuf||(ae=!1),le=le.next,Ee+=1;_e.allBuffers=ae,N(K,J,!0,J.length,_e,"",ge.finish),J.pendingcb++,J.lastBufferedRequest=null,ge.next?(J.corkedRequestsFree=ge.next,ge.next=null):J.corkedRequestsFree=new h(J),J.bufferedRequestCount=0}else{for(;le;){var oe=le.chunk,Q=le.encoding,Z=le.callback,z=J.objectMode?1:oe.length;if(N(K,J,!1,z,oe,Q,Z),le=le.next,J.bufferedRequestCount--,J.writing)break}le===null&&(J.lastBufferedRequest=null)}J.bufferedRequest=le,J.bufferProcessing=!1}C.prototype._write=function(K,J,le){le(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(K,J,le){var se=this._writableState;typeof K=="function"?(le=K,K=null,J=null):typeof J=="function"&&(le=J,J=null),K!=null&&this.write(K,J),se.corked&&(se.corked=1,this.uncork()),!se.ending&&!se.finished&&q(this,se,le)};function ne(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function re(K,J){K._final(function(le){J.pendingcb--,le&&K.emit("error",le),J.prefinished=!0,K.emit("prefinish"),W(K,J)})}function ie(K,J){!J.prefinished&&!J.finalCalled&&(typeof K._final=="function"?(J.pendingcb++,J.finalCalled=!0,_.nextTick(re,K,J)):(J.prefinished=!0,K.emit("prefinish")))}function W(K,J){var le=ne(J);return le&&(ie(K,J),J.pendingcb===0&&(J.finished=!0,K.emit("finish"))),le}function q(K,J,le){J.ending=!0,W(K,J),le&&(J.finished?_.nextTick(le):K.once("finish",le)),J.ended=!0,K.writable=!1}function te(K,J,le){var se=K.entry;for(K.entry=null;se;){var _e=se.callback;J.pendingcb--,_e(le),se=se.next}J.corkedRequestsFree?J.corkedRequestsFree.next=K:J.corkedRequestsFree=K}Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(K){this._writableState&&(this._writableState.destroyed=K)}}),C.prototype.destroy=w.destroy,C.prototype._undestroy=w.undestroy,C.prototype._destroy=function(K,J){this.end(),J(K)}}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{},n("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(n,a,s){"use strict";function u(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var c=n("safe-buffer").Buffer,m=n("util");function _(f,h,l){f.copy(h,l)}a.exports=function(){function f(){u(this,f),this.head=null,this.tail=null,this.length=0}return f.prototype.push=function(l){var o={data:l,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},f.prototype.unshift=function(l){var o={data:l,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},f.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},f.prototype.clear=function(){this.head=this.tail=null,this.length=0},f.prototype.join=function(l){if(this.length===0)return"";for(var o=this.head,i=""+o.data;o=o.next;)i+=l+o.data;return i},f.prototype.concat=function(l){if(this.length===0)return c.alloc(0);if(this.length===1)return this.head.data;for(var o=c.allocUnsafe(l>>>0),i=this.head,g=0;i;)_(i.data,o,g),g+=i.data.length,i=i.next;return o},f}(),m&&m.inspect&&m.inspect.custom&&(a.exports.prototype[m.inspect.custom]=function(){var f=m.inspect({length:this.length});return this.constructor.name+" "+f})},{"safe-buffer":147,util:33}],145:[function(n,a,s){"use strict";var u=n("process-nextick-args");function c(f,h){var l=this,o=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return o||i?(h?h(f):f&&(!this._writableState||!this._writableState.errorEmitted)&&u.nextTick(_,this,f),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(g){!h&&g?(u.nextTick(_,l,g),l._writableState&&(l._writableState.errorEmitted=!0)):h&&h(g)}),this)}function m(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _(f,h){f.emit("error",h)}a.exports={destroy:c,undestroy:m}},{"process-nextick-args":132}],146:[function(n,a,s){a.exports=n("events").EventEmitter},{events:52}],147:[function(n,a,s){var u=n("buffer"),c=u.Buffer;function m(f,h){for(var l in f)h[l]=f[l]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?a.exports=u:(m(u,s),s.Buffer=_);function _(f,h,l){return c(f,h,l)}m(c,_),_.from=function(f,h,l){if(typeof f=="number")throw new TypeError("Argument must not be a number");return c(f,h,l)},_.alloc=function(f,h,l){if(typeof f!="number")throw new TypeError("Argument must be a number");var o=c(f);return h!==void 0?typeof l=="string"?o.fill(h,l):o.fill(h):o.fill(0),o},_.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return c(f)},_.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(f)}},{buffer:48}],148:[function(n,a,s){"use strict";var u=n("safe-buffer").Buffer,c=u.isEncoding||function(D){switch(D=""+D,D&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function m(D){if(!D)return"utf8";for(var S;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(S)return;D=(""+D).toLowerCase(),S=!0}}function _(D){var S=m(D);if(typeof S!="string"&&(u.isEncoding===c||!c(D)))throw new Error("Unknown encoding: "+D);return S||D}s.StringDecoder=f;function f(D){this.encoding=_(D);var S;switch(this.encoding){case"utf16le":this.text=d,this.end=v,S=4;break;case"utf8":this.fillLast=i,S=4;break;case"base64":this.text=p,this.end=b,S=3;break;default:this.write=w,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=u.allocUnsafe(S)}f.prototype.write=function(D){if(D.length===0)return"";var S,C;if(this.lastNeed){if(S=this.fillLast(D),S===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<D.length?S?S+this.text(D,C):this.text(D,C):S||""},f.prototype.end=y,f.prototype.text=g,f.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length};function h(D){return D<=127?0:D>>5===6?2:D>>4===14?3:D>>3===30?4:D>>6===2?-1:-2}function l(D,S,C){var I=S.length-1;if(I<C)return 0;var T=h(S[I]);return T>=0?(T>0&&(D.lastNeed=T-1),T):--I<C||T===-2?0:(T=h(S[I]),T>=0?(T>0&&(D.lastNeed=T-2),T):--I<C||T===-2?0:(T=h(S[I]),T>=0?(T>0&&(T===2?T=0:D.lastNeed=T-3),T):0))}function o(D,S,C){if((S[0]&192)!==128)return D.lastNeed=0,"\uFFFD";if(D.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return D.lastNeed=1,"\uFFFD";if(D.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return D.lastNeed=2,"\uFFFD"}}function i(D){var S=this.lastTotal-this.lastNeed,C=o(this,D,S);if(C!==void 0)return C;if(this.lastNeed<=D.length)return D.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,S,0,D.length),this.lastNeed-=D.length}function g(D,S){var C=l(this,D,S);if(!this.lastNeed)return D.toString("utf8",S);this.lastTotal=C;var I=D.length-(C-this.lastNeed);return D.copy(this.lastChar,0,I),D.toString("utf8",S,I)}function y(D){var S=D&&D.length?this.write(D):"";return this.lastNeed?S+"\uFFFD":S}function d(D,S){if((D.length-S)%2===0){var C=D.toString("utf16le",S);if(C){var I=C.charCodeAt(C.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",S,D.length-1)}function v(D){var S=D&&D.length?this.write(D):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,C)}return S}function p(D,S){var C=(D.length-S)%3;return C===0?D.toString("base64",S):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",S,D.length-C))}function b(D){var S=D&&D.length?this.write(D):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function w(D){return D.toString(this.encoding)}function E(D){return D&&D.length?this.write(D):""}},{"safe-buffer":147}],149:[function(n,a,s){a.exports=n("./readable").PassThrough},{"./readable":150}],150:[function(n,a,s){s=a.exports=n("./lib/_stream_readable.js"),s.Stream=s,s.Readable=s,s.Writable=n("./lib/_stream_writable.js"),s.Duplex=n("./lib/_stream_duplex.js"),s.Transform=n("./lib/_stream_transform.js"),s.PassThrough=n("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(n,a,s){a.exports=n("./readable").Transform},{"./readable":150}],152:[function(n,a,s){a.exports=n("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(n,a,s){var u=function(c){"use strict";var m=Object.prototype,_=m.hasOwnProperty,f,h=typeof Symbol=="function"?Symbol:{},l=h.iterator||"@@iterator",o=h.asyncIterator||"@@asyncIterator",i=h.toStringTag||"@@toStringTag";function g(re,ie,W,q){var te=ie&&ie.prototype instanceof E?ie:E,K=Object.create(te.prototype),J=new j(q||[]);return K._invoke=G(re,W,J),K}c.wrap=g;function y(re,ie,W){try{return{type:"normal",arg:re.call(ie,W)}}catch(q){return{type:"throw",arg:q}}}var d="suspendedStart",v="suspendedYield",p="executing",b="completed",w={};function E(){}function D(){}function S(){}var C={};C[l]=function(){return this};var I=Object.getPrototypeOf,T=I&&I(I(Y([])));T&&T!==m&&_.call(T,l)&&(C=T);var M=S.prototype=E.prototype=Object.create(C);D.prototype=M.constructor=S,S.constructor=D,S[i]=D.displayName="GeneratorFunction";function P(re){["next","throw","return"].forEach(function(ie){re[ie]=function(W){return this._invoke(ie,W)}})}c.isGeneratorFunction=function(re){var ie=typeof re=="function"&&re.constructor;return ie?ie===D||(ie.displayName||ie.name)==="GeneratorFunction":!1},c.mark=function(re){return Object.setPrototypeOf?Object.setPrototypeOf(re,S):(re.__proto__=S,i in re||(re[i]="GeneratorFunction")),re.prototype=Object.create(M),re},c.awrap=function(re){return{__await:re}};function N(re){function ie(te,K,J,le){var se=y(re[te],re,K);if(se.type==="throw")le(se.arg);else{var _e=se.arg,ge=_e.value;return ge&&typeof ge=="object"&&_.call(ge,"__await")?Promise.resolve(ge.__await).then(function(Ee){ie("next",Ee,J,le)},function(Ee){ie("throw",Ee,J,le)}):Promise.resolve(ge).then(function(Ee){_e.value=Ee,J(_e)},function(Ee){return ie("throw",Ee,J,le)})}}var W;function q(te,K){function J(){return new Promise(function(le,se){ie(te,K,le,se)})}return W=W?W.then(J,J):J()}this._invoke=q}P(N.prototype),N.prototype[o]=function(){return this},c.AsyncIterator=N,c.async=function(re,ie,W,q){var te=new N(g(re,ie,W,q));return c.isGeneratorFunction(ie)?te:te.next().then(function(K){return K.done?K.value:te.next()})};function G(re,ie,W){var q=d;return function(K,J){if(q===p)throw new Error("Generator is already running");if(q===b){if(K==="throw")throw J;return ne()}for(W.method=K,W.arg=J;;){var le=W.delegate;if(le){var se=V(le,W);if(se){if(se===w)continue;return se}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(q===d)throw q=b,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);q=p;var _e=y(re,ie,W);if(_e.type==="normal"){if(q=W.done?b:v,_e.arg===w)continue;return{value:_e.arg,done:W.done}}else _e.type==="throw"&&(q=b,W.method="throw",W.arg=_e.arg)}}}function V(re,ie){var W=re.iterator[ie.method];if(W===f){if(ie.delegate=null,ie.method==="throw"){if(re.iterator.return&&(ie.method="return",ie.arg=f,V(re,ie),ie.method==="throw"))return w;ie.method="throw",ie.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var q=y(W,re.iterator,ie.arg);if(q.type==="throw")return ie.method="throw",ie.arg=q.arg,ie.delegate=null,w;var te=q.arg;if(!te)return ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,w;if(te.done)ie[re.resultName]=te.value,ie.next=re.nextLoc,ie.method!=="return"&&(ie.method="next",ie.arg=f);else return te;return ie.delegate=null,w}P(M),M[i]="Generator",M[l]=function(){return this},M.toString=function(){return"[object Generator]"};function H(re){var ie={tryLoc:re[0]};1 in re&&(ie.catchLoc=re[1]),2 in re&&(ie.finallyLoc=re[2],ie.afterLoc=re[3]),this.tryEntries.push(ie)}function R(re){var ie=re.completion||{};ie.type="normal",delete ie.arg,re.completion=ie}function j(re){this.tryEntries=[{tryLoc:"root"}],re.forEach(H,this),this.reset(!0)}c.keys=function(re){var ie=[];for(var W in re)ie.push(W);return ie.reverse(),function q(){for(;ie.length;){var te=ie.pop();if(te in re)return q.value=te,q.done=!1,q}return q.done=!0,q}};function Y(re){if(re){var ie=re[l];if(ie)return ie.call(re);if(typeof re.next=="function")return re;if(!isNaN(re.length)){var W=-1,q=function te(){for(;++W<re.length;)if(_.call(re,W))return te.value=re[W],te.done=!1,te;return te.value=f,te.done=!0,te};return q.next=q}}return{next:ne}}c.values=Y;function ne(){return{value:f,done:!0}}return j.prototype={constructor:j,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(R),!re)for(var ie in this)ie.charAt(0)==="t"&&_.call(this,ie)&&!isNaN(+ie.slice(1))&&(this[ie]=f)},stop:function(){this.done=!0;var re=this.tryEntries[0],ie=re.completion;if(ie.type==="throw")throw ie.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var ie=this;function W(se,_e){return K.type="throw",K.arg=re,ie.next=se,_e&&(ie.method="next",ie.arg=f),!!_e}for(var q=this.tryEntries.length-1;q>=0;--q){var te=this.tryEntries[q],K=te.completion;if(te.tryLoc==="root")return W("end");if(te.tryLoc<=this.prev){var J=_.call(te,"catchLoc"),le=_.call(te,"finallyLoc");if(J&&le){if(this.prev<te.catchLoc)return W(te.catchLoc,!0);if(this.prev<te.finallyLoc)return W(te.finallyLoc)}else if(J){if(this.prev<te.catchLoc)return W(te.catchLoc,!0)}else if(le){if(this.prev<te.finallyLoc)return W(te.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(re,ie){for(var W=this.tryEntries.length-1;W>=0;--W){var q=this.tryEntries[W];if(q.tryLoc<=this.prev&&_.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var te=q;break}}te&&(re==="break"||re==="continue")&&te.tryLoc<=ie&&ie<=te.finallyLoc&&(te=null);var K=te?te.completion:{};return K.type=re,K.arg=ie,te?(this.method="next",this.next=te.finallyLoc,w):this.complete(K)},complete:function(re,ie){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&ie&&(this.next=ie),w},finish:function(re){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var W=this.tryEntries[ie];if(W.finallyLoc===re)return this.complete(W.completion,W.afterLoc),R(W),w}},catch:function(re){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var W=this.tryEntries[ie];if(W.tryLoc===re){var q=W.completion;if(q.type==="throw"){var te=q.arg;R(W)}return te}}throw new Error("illegal catch attempt")},delegateYield:function(re,ie,W){return this.delegate={iterator:Y(re),resultName:ie,nextLoc:W},this.method==="next"&&(this.arg=f),w}},c}(typeof a=="object"?a.exports:{});try{regeneratorRuntime=u}catch{Function("r","regeneratorRuntime = r")(u)}},{}],154:[function(n,a,s){var u=n("buffer"),c=u.Buffer;function m(f,h){for(var l in f)h[l]=f[l]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?a.exports=u:(m(u,s),s.Buffer=_);function _(f,h,l){return c(f,h,l)}_.prototype=Object.create(c.prototype),m(c,_),_.from=function(f,h,l){if(typeof f=="number")throw new TypeError("Argument must not be a number");return c(f,h,l)},_.alloc=function(f,h,l){if(typeof f!="number")throw new TypeError("Argument must be a number");var o=c(f);return h!==void 0?typeof l=="string"?o.fill(h,l):o.fill(h):o.fill(0),o},_.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return c(f)},_.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(f)}},{buffer:48}],155:[function(n,a,s){a.exports=m;var u=n("events").EventEmitter,c=n("inherits");c(m,u),m.Readable=n("readable-stream/readable.js"),m.Writable=n("readable-stream/writable.js"),m.Duplex=n("readable-stream/duplex.js"),m.Transform=n("readable-stream/transform.js"),m.PassThrough=n("readable-stream/passthrough.js"),m.Stream=m;function m(){u.call(this)}m.prototype.pipe=function(_,f){var h=this;function l(p){_.writable&&_.write(p)===!1&&h.pause&&h.pause()}h.on("data",l);function o(){h.readable&&h.resume&&h.resume()}_.on("drain",o),!_._isStdio&&(!f||f.end!==!1)&&(h.on("end",g),h.on("close",y));var i=!1;function g(){i||(i=!0,_.end())}function y(){i||(i=!0,typeof _.destroy=="function"&&_.destroy())}function d(p){if(v(),u.listenerCount(this,"error")===0)throw p}h.on("error",d),_.on("error",d);function v(){h.removeListener("data",l),_.removeListener("drain",o),h.removeListener("end",g),h.removeListener("close",y),h.removeListener("error",d),_.removeListener("error",d),h.removeListener("end",v),h.removeListener("close",v),_.removeListener("close",v)}return h.on("end",v),h.on("close",v),_.on("close",v),_.emit("pipe",h),_}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(n,a,s){(function(u){var c=n("./lib/request"),m=n("./lib/response"),_=n("xtend"),f=n("builtin-status-codes"),h=n("url"),l=s;l.request=function(o,i){typeof o=="string"?o=h.parse(o):o=_(o);var g=u.location.protocol.search(/^https?:$/)===-1?"http:":"",y=o.protocol||g,d=o.hostname||o.host,v=o.port,p=o.path||"/";d&&d.indexOf(":")!==-1&&(d="["+d+"]"),o.url=(d?y+"//"+d:"")+(v?":"+v:"")+p,o.method=(o.method||"GET").toUpperCase(),o.headers=o.headers||{};var b=new c(o);return i&&b.on("response",i),b},l.get=function(i,g){var y=l.request(i,g);return y.end(),y},l.ClientRequest=c,l.IncomingMessage=m.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=f,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(n,a,s){(function(u){s.fetch=f(u.fetch)&&f(u.ReadableStream),s.writableStream=f(u.WritableStream),s.abortController=f(u.AbortController);var c;function m(){if(c!==void 0)return c;if(u.XMLHttpRequest){c=new u.XMLHttpRequest;try{c.open("GET",u.XDomainRequest?"/":"https://example.com")}catch{c=null}}else c=null;return c}function _(h){var l=m();if(!l)return!1;try{return l.responseType=h,l.responseType===h}catch{}return!1}s.arraybuffer=s.fetch||_("arraybuffer"),s.msstream=!s.fetch&&_("ms-stream"),s.mozchunkedarraybuffer=!s.fetch&&_("moz-chunked-arraybuffer"),s.overrideMimeType=s.fetch||(m()?f(m().overrideMimeType):!1);function f(h){return typeof h=="function"}c=null}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{})},{}],158:[function(n,a,s){(function(u,c,m){var _=n("./capability"),f=n("inherits"),h=n("./response"),l=n("readable-stream"),o=h.IncomingMessage,i=h.readyStates;function g(p,b){return _.fetch&&b?"fetch":_.mozchunkedarraybuffer?"moz-chunked-arraybuffer":_.msstream?"ms-stream":_.arraybuffer&&p?"arraybuffer":"text"}var y=a.exports=function(p){var b=this;l.Writable.call(b),b._opts=p,b._body=[],b._headers={},p.auth&&b.setHeader("Authorization","Basic "+m.from(p.auth).toString("base64")),Object.keys(p.headers).forEach(function(D){b.setHeader(D,p.headers[D])});var w,E=!0;if(p.mode==="disable-fetch"||"requestTimeout"in p&&!_.abortController)E=!1,w=!0;else if(p.mode==="prefer-streaming")w=!1;else if(p.mode==="allow-wrong-content-type")w=!_.overrideMimeType;else if(!p.mode||p.mode==="default"||p.mode==="prefer-fast")w=!0;else throw new Error("Invalid value for opts.mode");b._mode=g(w,E),b._fetchTimer=null,b.on("finish",function(){b._onFinish()})};f(y,l.Writable),y.prototype.setHeader=function(p,b){var w=this,E=p.toLowerCase();v.indexOf(E)===-1&&(w._headers[E]={name:p,value:b})},y.prototype.getHeader=function(p){var b=this._headers[p.toLowerCase()];return b?b.value:null},y.prototype.removeHeader=function(p){var b=this;delete b._headers[p.toLowerCase()]},y.prototype._onFinish=function(){var p=this;if(!p._destroyed){var b=p._opts,w=p._headers,E=null;b.method!=="GET"&&b.method!=="HEAD"&&(E=new Blob(p._body,{type:(w["content-type"]||{}).value||""}));var D=[];if(Object.keys(w).forEach(function(M){var P=w[M].name,N=w[M].value;Array.isArray(N)?N.forEach(function(G){D.push([P,G])}):D.push([P,N])}),p._mode==="fetch"){var S=null,C=null;if(_.abortController){var I=new AbortController;S=I.signal,p._fetchAbortController=I,"requestTimeout"in b&&b.requestTimeout!==0&&(p._fetchTimer=c.setTimeout(function(){p.emit("requestTimeout"),p._fetchAbortController&&p._fetchAbortController.abort()},b.requestTimeout))}c.fetch(p._opts.url,{method:p._opts.method,headers:D,body:E||void 0,mode:"cors",credentials:b.withCredentials?"include":"same-origin",signal:S}).then(function(M){p._fetchResponse=M,p._connect()},function(M){c.clearTimeout(p._fetchTimer),p._destroyed||p.emit("error",M)})}else{var T=p._xhr=new c.XMLHttpRequest;try{T.open(p._opts.method,p._opts.url,!0)}catch(M){u.nextTick(function(){p.emit("error",M)});return}"responseType"in T&&(T.responseType=p._mode),"withCredentials"in T&&(T.withCredentials=!!b.withCredentials),p._mode==="text"&&"overrideMimeType"in T&&T.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in b&&(T.timeout=b.requestTimeout,T.ontimeout=function(){p.emit("requestTimeout")}),D.forEach(function(M){T.setRequestHeader(M[0],M[1])}),p._response=null,T.onreadystatechange=function(){switch(T.readyState){case i.LOADING:case i.DONE:p._onXHRProgress();break}},p._mode==="moz-chunked-arraybuffer"&&(T.onprogress=function(){p._onXHRProgress()}),T.onerror=function(){p._destroyed||p.emit("error",new Error("XHR error"))};try{T.send(E)}catch(M){u.nextTick(function(){p.emit("error",M)});return}}}};function d(p){try{var b=p.status;return b!==null&&b!==0}catch{return!1}}y.prototype._onXHRProgress=function(){var p=this;!d(p._xhr)||p._destroyed||(p._response||p._connect(),p._response._onXHRProgress())},y.prototype._connect=function(){var p=this;p._destroyed||(p._response=new o(p._xhr,p._fetchResponse,p._mode,p._fetchTimer),p._response.on("error",function(b){p.emit("error",b)}),p.emit("response",p._response))},y.prototype._write=function(p,b,w){var E=this;E._body.push(p),w()},y.prototype.abort=y.prototype.destroy=function(){var p=this;p._destroyed=!0,c.clearTimeout(p._fetchTimer),p._response&&(p._response._destroyed=!0),p._xhr?p._xhr.abort():p._fetchAbortController&&p._fetchAbortController.abort()},y.prototype.end=function(p,b,w){var E=this;typeof p=="function"&&(w=p,p=void 0),l.Writable.prototype.end.call(E,p,b,w)},y.prototype.flushHeaders=function(){},y.prototype.setTimeout=function(){},y.prototype.setNoDelay=function(){},y.prototype.setSocketKeepAlive=function(){};var v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{},n("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(n,a,s){(function(u,c,m){var _=n("./capability"),f=n("inherits"),h=n("readable-stream"),l=s.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},o=s.IncomingMessage=function(i,g,y,d){var v=this;if(h.Readable.call(v),v._mode=y,v.headers={},v.rawHeaders=[],v.trailers={},v.rawTrailers=[],v.on("end",function(){u.nextTick(function(){v.emit("close")})}),y==="fetch"){let C=function(){b.read().then(function(I){if(!v._destroyed){if(I.done){c.clearTimeout(d),v.push(null);return}v.push(m.from(I.value)),C()}}).catch(function(I){c.clearTimeout(d),v._destroyed||v.emit("error",I)})};var S=C;if(v._fetchResponse=g,v.url=g.url,v.statusCode=g.status,v.statusMessage=g.statusText,g.headers.forEach(function(I,T){v.headers[T.toLowerCase()]=I,v.rawHeaders.push(T,I)}),_.writableStream){var p=new WritableStream({write:function(I){return new Promise(function(T,M){v._destroyed?M():v.push(m.from(I))?T():v._resumeFetch=T})},close:function(){c.clearTimeout(d),v._destroyed||v.push(null)},abort:function(I){v._destroyed||v.emit("error",I)}});try{g.body.pipeTo(p).catch(function(I){c.clearTimeout(d),v._destroyed||v.emit("error",I)});return}catch{}}var b=g.body.getReader();C()}else{v._xhr=i,v._pos=0,v.url=i.responseURL,v.statusCode=i.status,v.statusMessage=i.statusText;var w=i.getAllResponseHeaders().split(/\r?\n/);if(w.forEach(function(C){var I=C.match(/^([^:]+):\s*(.*)/);if(I){var T=I[1].toLowerCase();T==="set-cookie"?(v.headers[T]===void 0&&(v.headers[T]=[]),v.headers[T].push(I[2])):v.headers[T]!==void 0?v.headers[T]+=", "+I[2]:v.headers[T]=I[2],v.rawHeaders.push(I[1],I[2])}}),v._charset="x-user-defined",!_.overrideMimeType){var E=v.rawHeaders["mime-type"];if(E){var D=E.match(/;\s*charset=([^;])(;|$)/);D&&(v._charset=D[1].toLowerCase())}v._charset||(v._charset="utf-8")}}};f(o,h.Readable),o.prototype._read=function(){var i=this,g=i._resumeFetch;g&&(i._resumeFetch=null,g())},o.prototype._onXHRProgress=function(){var i=this,g=i._xhr,y=null;switch(i._mode){case"text":if(y=g.responseText,y.length>i._pos){var d=y.substr(i._pos);if(i._charset==="x-user-defined"){for(var v=m.alloc(d.length),p=0;p<d.length;p++)v[p]=d.charCodeAt(p)&255;i.push(v)}else i.push(d,i._charset);i._pos=y.length}break;case"arraybuffer":if(g.readyState!==l.DONE||!g.response)break;y=g.response,i.push(m.from(new Uint8Array(y)));break;case"moz-chunked-arraybuffer":if(y=g.response,g.readyState!==l.LOADING||!y)break;i.push(m.from(new Uint8Array(y)));break;case"ms-stream":if(y=g.response,g.readyState!==l.LOADING)break;var b=new c.MSStreamReader;b.onprogress=function(){b.result.byteLength>i._pos&&(i.push(m.from(new Uint8Array(b.result.slice(i._pos)))),i._pos=b.result.byteLength)},b.onload=function(){i.push(null)},b.readAsArrayBuffer(y);break}i._xhr.readyState===l.DONE&&i._mode!=="ms-stream"&&i.push(null)}}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{},n("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(n,a,s){"use strict";function u(o,i){o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i}var c={};function m(o,i,g){g||(g=Error);function y(v,p,b){return typeof i=="string"?i:i(v,p,b)}var d=function(v){u(p,v);function p(b,w,E){return v.call(this,y(b,w,E))||this}return p}(g);d.prototype.name=g.name,d.prototype.code=o,c[o]=d}function _(o,i){if(Array.isArray(o)){var g=o.length;return o=o.map(function(y){return String(y)}),g>2?"one of ".concat(i," ").concat(o.slice(0,g-1).join(", "),", or ")+o[g-1]:g===2?"one of ".concat(i," ").concat(o[0]," or ").concat(o[1]):"of ".concat(i," ").concat(o[0])}else return"of ".concat(i," ").concat(String(o))}function f(o,i,g){return o.substr(!g||g<0?0:+g,i.length)===i}function h(o,i,g){return(g===void 0||g>o.length)&&(g=o.length),o.substring(g-i.length,g)===i}function l(o,i,g){return typeof g!="number"&&(g=0),g+i.length>o.length?!1:o.indexOf(i,g)!==-1}m("ERR_INVALID_OPT_VALUE",function(o,i){return'The value "'+i+'" is invalid for option "'+o+'"'},TypeError),m("ERR_INVALID_ARG_TYPE",function(o,i,g){var y;typeof i=="string"&&f(i,"not ")?(y="must not be",i=i.replace(/^not /,"")):y="must be";var d;if(h(o," argument"))d="The ".concat(o," ").concat(y," ").concat(_(i,"type"));else{var v=l(o,".")?"property":"argument";d='The "'.concat(o,'" ').concat(v," ").concat(y," ").concat(_(i,"type"))}return d+=". Received type ".concat(typeof g),d},TypeError),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),m("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),m("ERR_STREAM_PREMATURE_CLOSE","Premature close"),m("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),m("ERR_STREAM_WRITE_AFTER_END","write after end"),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.codes=c},{}],161:[function(n,a,s){(function(u){"use strict";var c=new Set;function m(f){if(!c.has(f)){var h=f+" is an experimental feature. This feature could change at any time";c.add(f),u.emitWarning(h,"ExperimentalWarning")}}function _(){}a.exports.emitExperimentalWarning=u.emitWarning?m:_}).call(this,n("_process"))},{_process:133}],162:[function(n,a,s){(function(u){"use strict";var c=Object.keys||function(y){var d=[];for(var v in y)d.push(v);return d};a.exports=o;var m=n("./_stream_readable"),_=n("./_stream_writable");n("inherits")(o,m);for(var f=c(_.prototype),h=0;h<f.length;h++){var l=f[h];o.prototype[l]||(o.prototype[l]=_.prototype[l])}function o(y){if(!(this instanceof o))return new o(y);m.call(this,y),_.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",i)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function i(){this._writableState.ended||u.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}})}).call(this,n("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(n,a,s){"use strict";a.exports=c;var u=n("./_stream_transform");n("inherits")(c,u);function c(m){if(!(this instanceof c))return new c(m);u.call(this,m)}c.prototype._transform=function(m,_,f){f(null,m)}},{"./_stream_transform":165,inherits:75}],164:[function(n,a,s){(function(u,c){"use strict";a.exports=R;var m;R.ReadableState=H;var _=n("events").EventEmitter,f=function(B,U){return B.listeners(U).length},h=n("./internal/streams/stream"),l=n("buffer").Buffer,o=c.Uint8Array||function(){};function i(O){return l.from(O)}function g(O){return l.isBuffer(O)||O instanceof o}var y=n("util"),d;y&&y.debuglog?d=y.debuglog("stream"):d=function(){};var v=n("./internal/streams/buffer_list"),p=n("./internal/streams/destroy"),b=n("./internal/streams/state"),w=b.getHighWaterMark,E=n("../errors").codes,D=E.ERR_INVALID_ARG_TYPE,S=E.ERR_STREAM_PUSH_AFTER_EOF,C=E.ERR_METHOD_NOT_IMPLEMENTED,I=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,T=n("../experimentalWarning"),M=T.emitExperimentalWarning,P,N;n("inherits")(R,h);var G=["error","close","destroy","pause","resume"];function V(O,B,U){if(typeof O.prependListener=="function")return O.prependListener(B,U);!O._events||!O._events[B]?O.on(B,U):Array.isArray(O._events[B])?O._events[B].unshift(U):O._events[B]=[U,O._events[B]]}function H(O,B,U){m=m||n("./_stream_duplex"),O=O||{},typeof U!="boolean"&&(U=B instanceof m),this.objectMode=!!O.objectMode,U&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=w(this,O,"readableHighWaterMark",U),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(P||(P=n("string_decoder/").StringDecoder),this.decoder=new P(O.encoding),this.encoding=O.encoding)}function R(O){if(m=m||n("./_stream_duplex"),!(this instanceof R))return new R(O);var B=this instanceof m;this._readableState=new H(O,this,B),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),h.call(this)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),R.prototype.destroy=p.destroy,R.prototype._undestroy=p.undestroy,R.prototype._destroy=function(O,B){B(O)},R.prototype.push=function(O,B){var U=this._readableState,A;return U.objectMode?A=!0:typeof O=="string"&&(B=B||U.defaultEncoding,B!==U.encoding&&(O=l.from(O,B),B=""),A=!0),j(this,O,B,!1,A)},R.prototype.unshift=function(O){return j(this,O,null,!0,!1)};function j(O,B,U,A,k){d("readableAddChunk",B);var ee=O._readableState;if(B===null)ee.reading=!1,q(O,ee);else{var he;if(k||(he=ne(ee,B)),he)O.emit("error",he);else if(ee.objectMode||B&&B.length>0)if(typeof B!="string"&&!ee.objectMode&&Object.getPrototypeOf(B)!==l.prototype&&(B=i(B)),A)ee.endEmitted?O.emit("error",new I):Y(O,ee,B,!0);else if(ee.ended)O.emit("error",new S);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!U?(B=ee.decoder.write(B),ee.objectMode||B.length!==0?Y(O,ee,B,!1):J(O,ee)):Y(O,ee,B,!1)}else A||(ee.reading=!1,J(O,ee))}return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function Y(O,B,U,A){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,O.emit("data",U)):(B.length+=B.objectMode?1:U.length,A?B.buffer.unshift(U):B.buffer.push(U),B.needReadable&&te(O)),J(O,B)}function ne(O,B){var U;return!g(B)&&typeof B!="string"&&B!==void 0&&!O.objectMode&&(U=new D("chunk",["string","Buffer","Uint8Array"],B)),U}R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(O){return P||(P=n("string_decoder/").StringDecoder),this._readableState.decoder=new P(O),this._readableState.encoding=this._readableState.decoder.encoding,this};var re=8388608;function ie(O){return O>=re?O=re:(O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++),O}function W(O,B){return O<=0||B.length===0&&B.ended?0:B.objectMode?1:O!==O?B.flowing&&B.length?B.buffer.head.data.length:B.length:(O>B.highWaterMark&&(B.highWaterMark=ie(O)),O<=B.length?O:B.ended?B.length:(B.needReadable=!0,0))}R.prototype.read=function(O){d("read",O),O=parseInt(O,10);var B=this._readableState,U=O;if(O!==0&&(B.emittedReadable=!1),O===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return d("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?Z(this):te(this),null;if(O=W(O,B),O===0&&B.ended)return B.length===0&&Z(this),null;var A=B.needReadable;d("need readable",A),(B.length===0||B.length-O<B.highWaterMark)&&(A=!0,d("length less than watermark",A)),B.ended||B.reading?(A=!1,d("reading or ended",A)):A&&(d("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(O=W(U,B)));var k;return O>0?k=Q(O,B):k=null,k===null?(B.needReadable=!0,O=0):(B.length-=O,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),U!==O&&B.ended&&Z(this)),k!==null&&this.emit("data",k),k};function q(O,B){if(!B.ended){if(B.decoder){var U=B.decoder.end();U&&U.length&&(B.buffer.push(U),B.length+=B.objectMode?1:U.length)}B.ended=!0,B.sync?te(O):(B.needReadable=!1,B.emittedReadable||(B.emittedReadable=!0,K(O)))}}function te(O){var B=O._readableState;B.needReadable=!1,B.emittedReadable||(d("emitReadable",B.flowing),B.emittedReadable=!0,u.nextTick(K,O))}function K(O){var B=O._readableState;d("emitReadable_",B.destroyed,B.length,B.ended),!B.destroyed&&(B.length||B.ended)&&O.emit("readable"),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,oe(O)}function J(O,B){B.readingMore||(B.readingMore=!0,u.nextTick(le,O,B))}function le(O,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var U=B.length;if(d("maybeReadMore read 0"),O.read(0),U===B.length)break}B.readingMore=!1}R.prototype._read=function(O){this.emit("error",new C("_read()"))},R.prototype.pipe=function(O,B){var U=this,A=this._readableState;switch(A.pipesCount){case 0:A.pipes=O;break;case 1:A.pipes=[A.pipes,O];break;default:A.pipes.push(O);break}A.pipesCount+=1,d("pipe count=%d opts=%j",A.pipesCount,B);var k=(!B||B.end!==!1)&&O!==u.stdout&&O!==u.stderr,ee=k?we:Be;A.endEmitted?u.nextTick(ee):U.once("end",ee),O.on("unpipe",he);function he(je,L){d("onunpipe"),je===U&&L&&L.hasUnpiped===!1&&(L.hasUnpiped=!0,Me())}function we(){d("onend"),O.end()}var pe=se(U);O.on("drain",pe);var Ce=!1;function Me(){d("cleanup"),O.removeListener("close",Ne),O.removeListener("finish",ke),O.removeListener("drain",pe),O.removeListener("error",Oe),O.removeListener("unpipe",he),U.removeListener("end",we),U.removeListener("end",Be),U.removeListener("data",Ae),Ce=!0,A.awaitDrain&&(!O._writableState||O._writableState.needDrain)&&pe()}U.on("data",Ae);function Ae(je){d("ondata");var L=O.write(je);d("dest.write",L),L===!1&&((A.pipesCount===1&&A.pipes===O||A.pipesCount>1&&$(A.pipes,O)!==-1)&&!Ce&&(d("false write response, pause",A.awaitDrain),A.awaitDrain++),U.pause())}function Oe(je){d("onerror",je),Be(),O.removeListener("error",Oe),f(O,"error")===0&&O.emit("error",je)}V(O,"error",Oe);function Ne(){O.removeListener("finish",ke),Be()}O.once("close",Ne);function ke(){d("onfinish"),O.removeListener("close",Ne),Be()}O.once("finish",ke);function Be(){d("unpipe"),U.unpipe(O)}return O.emit("pipe",U),A.flowing||(d("pipe resume"),U.resume()),O};function se(O){return function(){var U=O._readableState;d("pipeOnDrain",U.awaitDrain),U.awaitDrain&&U.awaitDrain--,U.awaitDrain===0&&f(O,"data")&&(U.flowing=!0,oe(O))}}R.prototype.unpipe=function(O){var B=this._readableState,U={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return O&&O!==B.pipes?this:(O||(O=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,O&&O.emit("unpipe",this,U),this);if(!O){var A=B.pipes,k=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var ee=0;ee<k;ee++)A[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var he=$(B.pipes,O);return he===-1?this:(B.pipes.splice(he,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),O.emit("unpipe",this,U),this)},R.prototype.on=function(O,B){var U=h.prototype.on.call(this,O,B),A=this._readableState;return O==="data"?(A.readableListening=this.listenerCount("readable")>0,A.flowing!==!1&&this.resume()):O==="readable"&&!A.endEmitted&&!A.readableListening&&(A.readableListening=A.needReadable=!0,A.flowing=!1,A.emittedReadable=!1,d("on readable",A.length,A.reading),A.length?te(this):A.reading||u.nextTick(ge,this)),U},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(O,B){var U=h.prototype.removeListener.call(this,O,B);return O==="readable"&&u.nextTick(_e,this),U},R.prototype.removeAllListeners=function(O){var B=h.prototype.removeAllListeners.apply(this,arguments);return(O==="readable"||O===void 0)&&u.nextTick(_e,this),B};function _e(O){var B=O._readableState;B.readableListening=O.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:O.listenerCount("data")>0&&O.resume()}function ge(O){d("readable nexttick read 0"),O.read(0)}R.prototype.resume=function(){var O=this._readableState;return O.flowing||(d("resume"),O.flowing=!O.readableListening,Ee(this,O)),O.paused=!1,this};function Ee(O,B){B.resumeScheduled||(B.resumeScheduled=!0,u.nextTick(ae,O,B))}function ae(O,B){d("resume",B.reading),B.reading||O.read(0),B.resumeScheduled=!1,O.emit("resume"),oe(O),B.flowing&&!B.reading&&O.read(0)}R.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function oe(O){var B=O._readableState;for(d("flow",B.flowing);B.flowing&&O.read()!==null;);}R.prototype.wrap=function(O){var B=this,U=this._readableState,A=!1;O.on("end",function(){if(d("wrapped end"),U.decoder&&!U.ended){var he=U.decoder.end();he&&he.length&&B.push(he)}B.push(null)}),O.on("data",function(he){if(d("wrapped data"),U.decoder&&(he=U.decoder.write(he)),!(U.objectMode&&he==null)&&!(!U.objectMode&&(!he||!he.length))){var we=B.push(he);we||(A=!0,O.pause())}});for(var k in O)this[k]===void 0&&typeof O[k]=="function"&&(this[k]=function(we){return function(){return O[we].apply(O,arguments)}}(k));for(var ee=0;ee<G.length;ee++)O.on(G[ee],this.emit.bind(this,G[ee]));return this._read=function(he){d("wrapped _read",he),A&&(A=!1,O.resume())},this},typeof Symbol=="function"&&(R.prototype[Symbol.asyncIterator]=function(){return M("Readable[Symbol.asyncIterator]"),N===void 0&&(N=n("./internal/streams/async_iterator")),N(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}}),R._fromList=Q,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Q(O,B){if(B.length===0)return null;var U;return B.objectMode?U=B.buffer.shift():!O||O>=B.length?(B.decoder?U=B.buffer.join(""):B.buffer.length===1?U=B.buffer.first():U=B.buffer.concat(B.length),B.buffer.clear()):U=B.buffer.consume(O,B.decoder),U}function Z(O){var B=O._readableState;d("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,u.nextTick(z,B,O))}function z(O,B){d("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,B.readable=!1,B.emit("end"))}function $(O,B){for(var U=0,A=O.length;U<A;U++)if(O[U]===B)return U;return-1}}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(n,a,s){"use strict";a.exports=o;var u=n("../errors").codes,c=u.ERR_METHOD_NOT_IMPLEMENTED,m=u.ERR_MULTIPLE_CALLBACK,_=u.ERR_TRANSFORM_ALREADY_TRANSFORMING,f=u.ERR_TRANSFORM_WITH_LENGTH_0,h=n("./_stream_duplex");n("inherits")(o,h);function l(y,d){var v=this._transformState;v.transforming=!1;var p=v.writecb;if(p===null)return this.emit("error",new m);v.writechunk=null,v.writecb=null,d!=null&&this.push(d),p(y);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function o(y){if(!(this instanceof o))return new o(y);h.call(this,y),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",i)}function i(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,v){g(y,d,v)}):g(this,null,null)}o.prototype.push=function(y,d){return this._transformState.needTransform=!1,h.prototype.push.call(this,y,d)},o.prototype._transform=function(y,d,v){v(new c("_transform()"))},o.prototype._write=function(y,d,v){var p=this._transformState;if(p.writecb=v,p.writechunk=y,p.writeencoding=d,!p.transforming){var b=this._readableState;(p.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},o.prototype._read=function(y){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},o.prototype._destroy=function(y,d){h.prototype._destroy.call(this,y,function(v){d(v)})};function g(y,d,v){if(d)return y.emit("error",d);if(v!=null&&y.push(v),y._writableState.length)throw new f;if(y._transformState.transforming)throw new _;return y.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(n,a,s){(function(u,c){"use strict";a.exports=V;function m(ae,oe,Q){this.chunk=ae,this.encoding=oe,this.callback=Q,this.next=null}function _(ae){var oe=this;this.next=null,this.entry=null,this.finish=function(){Ee(oe,ae)}}var f;V.WritableState=N;var h={deprecate:n("util-deprecate")},l=n("./internal/streams/stream"),o=n("buffer").Buffer,i=c.Uint8Array||function(){};function g(ae){return o.from(ae)}function y(ae){return o.isBuffer(ae)||ae instanceof i}var d=n("./internal/streams/destroy"),v=n("./internal/streams/state"),p=v.getHighWaterMark,b=n("../errors").codes,w=b.ERR_INVALID_ARG_TYPE,E=b.ERR_METHOD_NOT_IMPLEMENTED,D=b.ERR_MULTIPLE_CALLBACK,S=b.ERR_STREAM_CANNOT_PIPE,C=b.ERR_STREAM_DESTROYED,I=b.ERR_STREAM_NULL_VALUES,T=b.ERR_STREAM_WRITE_AFTER_END,M=b.ERR_UNKNOWN_ENCODING;n("inherits")(V,l);function P(){}function N(ae,oe,Q){f=f||n("./_stream_duplex"),ae=ae||{},typeof Q!="boolean"&&(Q=oe instanceof f),this.objectMode=!!ae.objectMode,Q&&(this.objectMode=this.objectMode||!!ae.writableObjectMode),this.highWaterMark=p(this,ae,"writableHighWaterMark",Q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Z=ae.decodeStrings===!1;this.decodeStrings=!Z,this.defaultEncoding=ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){W(oe,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ae.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}N.prototype.getBuffer=function(){for(var oe=this.bufferedRequest,Q=[];oe;)Q.push(oe),oe=oe.next;return Q},function(){try{Object.defineProperty(N.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var G;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(G=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(oe){return G.call(this,oe)?!0:this!==V?!1:oe&&oe._writableState instanceof N}})):G=function(oe){return oe instanceof this};function V(ae){f=f||n("./_stream_duplex");var oe=this instanceof f;if(!oe&&!G.call(V,this))return new V(ae);this._writableState=new N(ae,this,oe),this.writable=!0,ae&&(typeof ae.write=="function"&&(this._write=ae.write),typeof ae.writev=="function"&&(this._writev=ae.writev),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.final=="function"&&(this._final=ae.final)),l.call(this)}V.prototype.pipe=function(){this.emit("error",new S)};function H(ae,oe){var Q=new T;ae.emit("error",Q),u.nextTick(oe,Q)}function R(ae,oe,Q,Z){var z;return Q===null?z=new I:typeof Q!="string"&&!oe.objectMode&&(z=new w("chunk",["string","Buffer"],Q)),z?(ae.emit("error",z),u.nextTick(Z,z),!1):!0}V.prototype.write=function(ae,oe,Q){var Z=this._writableState,z=!1,$=!Z.objectMode&&y(ae);return $&&!o.isBuffer(ae)&&(ae=g(ae)),typeof oe=="function"&&(Q=oe,oe=null),$?oe="buffer":oe||(oe=Z.defaultEncoding),typeof Q!="function"&&(Q=P),Z.ending?H(this,Q):($||R(this,Z,ae,Q))&&(Z.pendingcb++,z=Y(this,Z,$,ae,oe,Q)),z},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var ae=this._writableState;ae.corked&&(ae.corked--,!ae.writing&&!ae.corked&&!ae.bufferProcessing&&ae.bufferedRequest&&K(this,ae))},V.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=oe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((oe+"").toLowerCase())>-1))throw new M(oe);return this._writableState.defaultEncoding=oe,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(ae,oe,Q){return!ae.objectMode&&ae.decodeStrings!==!1&&typeof oe=="string"&&(oe=o.from(oe,Q)),oe}Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Y(ae,oe,Q,Z,z,$){if(!Q){var O=j(oe,Z,z);Z!==O&&(Q=!0,z="buffer",Z=O)}var B=oe.objectMode?1:Z.length;oe.length+=B;var U=oe.length<oe.highWaterMark;if(U||(oe.needDrain=!0),oe.writing||oe.corked){var A=oe.lastBufferedRequest;oe.lastBufferedRequest={chunk:Z,encoding:z,isBuf:Q,callback:$,next:null},A?A.next=oe.lastBufferedRequest:oe.bufferedRequest=oe.lastBufferedRequest,oe.bufferedRequestCount+=1}else ne(ae,oe,!1,B,Z,z,$);return U}function ne(ae,oe,Q,Z,z,$,O){oe.writelen=Z,oe.writecb=O,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new C("write")):Q?ae._writev(z,oe.onwrite):ae._write(z,$,oe.onwrite),oe.sync=!1}function re(ae,oe,Q,Z,z){--oe.pendingcb,Q?(u.nextTick(z,Z),u.nextTick(_e,ae,oe),ae._writableState.errorEmitted=!0,ae.emit("error",Z)):(z(Z),ae._writableState.errorEmitted=!0,ae.emit("error",Z),_e(ae,oe))}function ie(ae){ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0}function W(ae,oe){var Q=ae._writableState,Z=Q.sync,z=Q.writecb;if(typeof z!="function")throw new D;if(ie(Q),oe)re(ae,Q,Z,oe,z);else{var $=J(Q)||ae.destroyed;!$&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&K(ae,Q),Z?u.nextTick(q,ae,Q,$,z):q(ae,Q,$,z)}}function q(ae,oe,Q,Z){Q||te(ae,oe),oe.pendingcb--,Z(),_e(ae,oe)}function te(ae,oe){oe.length===0&&oe.needDrain&&(oe.needDrain=!1,ae.emit("drain"))}function K(ae,oe){oe.bufferProcessing=!0;var Q=oe.bufferedRequest;if(ae._writev&&Q&&Q.next){var Z=oe.bufferedRequestCount,z=new Array(Z),$=oe.corkedRequestsFree;$.entry=Q;for(var O=0,B=!0;Q;)z[O]=Q,Q.isBuf||(B=!1),Q=Q.next,O+=1;z.allBuffers=B,ne(ae,oe,!0,oe.length,z,"",$.finish),oe.pendingcb++,oe.lastBufferedRequest=null,$.next?(oe.corkedRequestsFree=$.next,$.next=null):oe.corkedRequestsFree=new _(oe),oe.bufferedRequestCount=0}else{for(;Q;){var U=Q.chunk,A=Q.encoding,k=Q.callback,ee=oe.objectMode?1:U.length;if(ne(ae,oe,!1,ee,U,A,k),Q=Q.next,oe.bufferedRequestCount--,oe.writing)break}Q===null&&(oe.lastBufferedRequest=null)}oe.bufferedRequest=Q,oe.bufferProcessing=!1}V.prototype._write=function(ae,oe,Q){Q(new E("_write()"))},V.prototype._writev=null,V.prototype.end=function(ae,oe,Q){var Z=this._writableState;return typeof ae=="function"?(Q=ae,ae=null,oe=null):typeof oe=="function"&&(Q=oe,oe=null),ae!=null&&this.write(ae,oe),Z.corked&&(Z.corked=1,this.uncork()),Z.ending||ge(this,Z,Q),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function J(ae){return ae.ending&&ae.length===0&&ae.bufferedRequest===null&&!ae.finished&&!ae.writing}function le(ae,oe){ae._final(function(Q){oe.pendingcb--,Q&&ae.emit("error",Q),oe.prefinished=!0,ae.emit("prefinish"),_e(ae,oe)})}function se(ae,oe){!oe.prefinished&&!oe.finalCalled&&(typeof ae._final=="function"&&!oe.destroyed?(oe.pendingcb++,oe.finalCalled=!0,u.nextTick(le,ae,oe)):(oe.prefinished=!0,ae.emit("prefinish")))}function _e(ae,oe){var Q=J(oe);return Q&&(se(ae,oe),oe.pendingcb===0&&(oe.finished=!0,ae.emit("finish"))),Q}function ge(ae,oe,Q){oe.ending=!0,_e(ae,oe),Q&&(oe.finished?u.nextTick(Q):ae.once("finish",Q)),oe.ended=!0,ae.writable=!1}function Ee(ae,oe,Q){var Z=ae.entry;for(ae.entry=null;Z;){var z=Z.callback;oe.pendingcb--,z(Q),Z=Z.next}oe.corkedRequestsFree.next=ae}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(oe){this._writableState&&(this._writableState.destroyed=oe)}}),V.prototype.destroy=d.destroy,V.prototype._undestroy=d.undestroy,V.prototype._destroy=function(ae,oe){oe(ae)}}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(n,a,s){(function(u){"use strict";var c;function m(S,C,I){return C in S?Object.defineProperty(S,C,{value:I,enumerable:!0,configurable:!0,writable:!0}):S[C]=I,S}var _=n("./end-of-stream"),f=Symbol("lastResolve"),h=Symbol("lastReject"),l=Symbol("error"),o=Symbol("ended"),i=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function d(S,C){return{value:S,done:C}}function v(S){var C=S[f];if(C!==null){var I=S[y].read();I!==null&&(S[i]=null,S[f]=null,S[h]=null,C(d(I,!1)))}}function p(S){u.nextTick(v,S)}function b(S,C){return function(I,T){S.then(function(){if(C[o]){I(d(void 0,!0));return}C[g](I,T)},T)}}var w=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((c={get stream(){return this[y]},next:function(){var C=this,I=this[l];if(I!==null)return Promise.reject(I);if(this[o])return Promise.resolve(d(void 0,!0));if(this[y].destroyed)return new Promise(function(N,G){u.nextTick(function(){C[l]?G(C[l]):N(d(void 0,!0))})});var T=this[i],M;if(T)M=new Promise(b(T,this));else{var P=this[y].read();if(P!==null)return Promise.resolve(d(P,!1));M=new Promise(this[g])}return this[i]=M,M}},m(c,Symbol.asyncIterator,function(){return this}),m(c,"return",function(){var C=this;return new Promise(function(I,T){C[y].destroy(null,function(M){if(M){T(M);return}I(d(void 0,!0))})})}),c),w),D=function(C){var I,T=Object.create(E,(I={},m(I,y,{value:C,writable:!0}),m(I,f,{value:null,writable:!0}),m(I,h,{value:null,writable:!0}),m(I,l,{value:null,writable:!0}),m(I,o,{value:C._readableState.endEmitted,writable:!0}),m(I,g,{value:function(P,N){var G=T[y].read();G?(T[i]=null,T[f]=null,T[h]=null,P(d(G,!1))):(T[f]=P,T[h]=N)},writable:!0}),I));return T[i]=null,_(C,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=T[h];P!==null&&(T[i]=null,T[f]=null,T[h]=null,P(M)),T[l]=M;return}var N=T[f];N!==null&&(T[i]=null,T[f]=null,T[h]=null,N(d(void 0,!0))),T[o]=!0}),C.on("readable",p.bind(null,T)),T};a.exports=D}).call(this,n("_process"))},{"./end-of-stream":170,_process:133}],168:[function(n,a,s){"use strict";function u(i){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{},d=Object.keys(y);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(y).filter(function(v){return Object.getOwnPropertyDescriptor(y,v).enumerable}))),d.forEach(function(v){c(i,v,y[v])})}return i}function c(i,g,y){return g in i?Object.defineProperty(i,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):i[g]=y,i}var m=n("buffer"),_=m.Buffer,f=n("util"),h=f.inspect,l=h&&h.custom||"inspect";function o(i,g,y){_.prototype.copy.call(i,g,y)}a.exports=function(){function i(){this.head=null,this.tail=null,this.length=0}var g=i.prototype;return g.push=function(d){var v={data:d,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length},g.unshift=function(d){var v={data:d,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length},g.shift=function(){if(this.length!==0){var d=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,d}},g.clear=function(){this.head=this.tail=null,this.length=0},g.join=function(d){if(this.length===0)return"";for(var v=this.head,p=""+v.data;v=v.next;)p+=d+v.data;return p},g.concat=function(d){if(this.length===0)return _.alloc(0);for(var v=_.allocUnsafe(d>>>0),p=this.head,b=0;p;)o(p.data,v,b),b+=p.data.length,p=p.next;return v},g.consume=function(d,v){var p;return d<this.head.data.length?(p=this.head.data.slice(0,d),this.head.data=this.head.data.slice(d)):d===this.head.data.length?p=this.shift():p=v?this._getString(d):this._getBuffer(d),p},g.first=function(){return this.head.data},g._getString=function(d){var v=this.head,p=1,b=v.data;for(d-=b.length;v=v.next;){var w=v.data,E=d>w.length?w.length:d;if(E===w.length?b+=w:b+=w.slice(0,d),d-=E,d===0){E===w.length?(++p,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=w.slice(E));break}++p}return this.length-=p,b},g._getBuffer=function(d){var v=_.allocUnsafe(d),p=this.head,b=1;for(p.data.copy(v),d-=p.data.length;p=p.next;){var w=p.data,E=d>w.length?w.length:d;if(w.copy(v,v.length-d,0,E),d-=E,d===0){E===w.length?(++b,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=w.slice(E));break}++b}return this.length-=b,v},g[l]=function(y,d){return h(this,u({},d,{depth:0,customInspect:!1}))},i}()},{buffer:48,util:33}],169:[function(n,a,s){(function(u){"use strict";function c(l,o){var i=this,g=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return g||y?(o?o(l):l&&(!this._writableState||!this._writableState.errorEmitted)&&u.nextTick(h,this,l),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(d){!o&&d?(u.nextTick(m,i,d),i._writableState&&(i._writableState.errorEmitted=!0)):o?(u.nextTick(_,i),o(d)):u.nextTick(_,i)}),this)}function m(l,o){h(l,o),_(l)}function _(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function f(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(l,o){l.emit("error",o)}a.exports={destroy:c,undestroy:f}}).call(this,n("_process"))},{_process:133}],170:[function(n,a,s){"use strict";var u=n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function c(h){var l=!1;return function(){if(!l){l=!0;for(var o=arguments.length,i=new Array(o),g=0;g<o;g++)i[g]=arguments[g];h.apply(this,i)}}}function m(){}function _(h){return h.setHeader&&typeof h.abort=="function"}function f(h,l,o){if(typeof l=="function")return f(h,null,l);l||(l={}),o=c(o||m);var i=l.readable||l.readable!==!1&&h.readable,g=l.writable||l.writable!==!1&&h.writable,y=function(){h.writable||v()},d=h._writableState&&h._writableState.finished,v=function(){g=!1,d=!0,i||o.call(h)},p=h._readableState&&h._readableState.endEmitted,b=function(){i=!1,p=!0,g||o.call(h)},w=function(C){o.call(h,C)},E=function(){var C;if(i&&!p)return(!h._readableState||!h._readableState.ended)&&(C=new u),o.call(h,C);if(g&&!d)return(!h._writableState||!h._writableState.ended)&&(C=new u),o.call(h,C)},D=function(){h.req.on("finish",v)};return _(h)?(h.on("complete",v),h.on("abort",E),h.req?D():h.on("request",D)):g&&!h._writableState&&(h.on("end",y),h.on("close",y)),h.on("end",b),h.on("finish",v),l.error!==!1&&h.on("error",w),h.on("close",E),function(){h.removeListener("complete",v),h.removeListener("abort",E),h.removeListener("request",D),h.req&&h.req.removeListener("finish",v),h.removeListener("end",y),h.removeListener("close",y),h.removeListener("finish",v),h.removeListener("end",b),h.removeListener("error",w),h.removeListener("close",E)}}a.exports=f},{"../../../errors":160}],171:[function(n,a,s){"use strict";var u;function c(v){var p=!1;return function(){p||(p=!0,v.apply(void 0,arguments))}}var m=n("../../../errors").codes,_=m.ERR_MISSING_ARGS,f=m.ERR_STREAM_DESTROYED;function h(v){if(v)throw v}function l(v){return v.setHeader&&typeof v.abort=="function"}function o(v,p,b,w){w=c(w);var E=!1;v.on("close",function(){E=!0}),u===void 0&&(u=n("./end-of-stream")),u(v,{readable:p,writable:b},function(S){if(S)return w(S);E=!0,w()});var D=!1;return function(S){if(!E&&!D){if(D=!0,l(v))return v.abort();if(typeof v.destroy=="function")return v.destroy();w(S||new f("pipe"))}}}function i(v){v()}function g(v,p){return v.pipe(p)}function y(v){return!v.length||typeof v[v.length-1]!="function"?h:v.pop()}function d(){for(var v=arguments.length,p=new Array(v),b=0;b<v;b++)p[b]=arguments[b];var w=y(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new _("streams");var E,D=p.map(function(S,C){var I=C<p.length-1,T=C>0;return o(S,I,T,function(M){E||(E=M),M&&D.forEach(i),!I&&(D.forEach(i),w(E))})});return p.reduce(g)}a.exports=d},{"../../../errors":160,"./end-of-stream":170}],172:[function(n,a,s){"use strict";var u=n("../../../errors").codes.ERR_INVALID_OPT_VALUE;function c(_,f,h){return _.highWaterMark!=null?_.highWaterMark:f?_[h]:null}function m(_,f,h,l){var o=c(f,l,h);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var i=l?h:"highWaterMark";throw new u(i,o)}return Math.floor(o)}return _.objectMode?16:16*1024}a.exports={getHighWaterMark:m}},{"../../../errors":160}],173:[function(n,a,s){arguments[4][146][0].apply(s,arguments)},{dup:146,events:52}],174:[function(n,a,s){s=a.exports=n("./lib/_stream_readable.js"),s.Stream=s,s.Readable=s,s.Writable=n("./lib/_stream_writable.js"),s.Duplex=n("./lib/_stream_duplex.js"),s.Transform=n("./lib/_stream_transform.js"),s.PassThrough=n("./lib/_stream_passthrough.js"),s.finished=n("./lib/internal/streams/end-of-stream.js"),s.pipeline=n("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(n,a,s){arguments[4][148][0].apply(s,arguments)},{dup:148,"safe-buffer":154}],176:[function(n,a,s){(function(u,c){var m=n("process/browser.js").nextTick,_=Function.prototype.apply,f=Array.prototype.slice,h={},l=0;s.setTimeout=function(){return new o(_.call(setTimeout,ze,arguments),clearTimeout)},s.setInterval=function(){return new o(_.call(setInterval,ze,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(i){i.close()};function o(i,g){this._id=i,this._clearFn=g}o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(ze,this._id)},s.enroll=function(i,g){clearTimeout(i._idleTimeoutId),i._idleTimeout=g},s.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},s._unrefActive=s.active=function(i){clearTimeout(i._idleTimeoutId);var g=i._idleTimeout;g>=0&&(i._idleTimeoutId=setTimeout(function(){i._onTimeout&&i._onTimeout()},g))},s.setImmediate=typeof u=="function"?u:function(i){var g=l++,y=arguments.length<2?!1:f.call(arguments,1);return h[g]=!0,m(function(){h[g]&&(y?i.apply(null,y):i.call(null),s.clearImmediate(g))}),g},s.clearImmediate=typeof c=="function"?c:function(i){delete h[i]}}).call(this,n("timers").setImmediate,n("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(n,a,s){(function(u){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};s.clone=l,s.addLast=g,s.addFirst=y,s.removeLast=d,s.removeFirst=v,s.insert=p,s.removeAt=b,s.replaceAt=w,s.getIn=E,s.set=D,s.setIn=C,s.update=I,s.updateIn=T,s.merge=M,s.mergeDeep=P,s.mergeIn=N,s.omit=G,s.addDefaults=V;var m="INVALID_ARGS";function _(R){throw new Error(R)}function f(R){var j=Object.keys(R);return Object.getOwnPropertySymbols?j.concat(Object.getOwnPropertySymbols(R)):j}var h={}.hasOwnProperty;function l(R){if(Array.isArray(R))return R.slice();for(var j=f(R),Y={},ne=0;ne<j.length;ne++){var re=j[ne];Y[re]=R[re]}return Y}function o(R,j,Y){var ne=Y;ne==null&&_(u.env.NODE_ENV!=="production"?"At least one object should be provided to merge()":m);for(var re=!1,ie=arguments.length,W=Array(ie>3?ie-3:0),q=3;q<ie;q++)W[q-3]=arguments[q];for(var te=0;te<W.length;te++){var K=W[te];if(K!=null){var J=f(K);if(J.length)for(var le=0;le<=J.length;le++){var se=J[le];if(!(R&&ne[se]!==void 0)){var _e=K[se];j&&i(ne[se])&&i(_e)&&(_e=o(R,j,ne[se],_e)),!(_e===void 0||_e===ne[se])&&(re||(re=!0,ne=l(ne)),ne[se]=_e)}}}}return ne}function i(R){var j=typeof R>"u"?"undefined":c(R);return R!=null&&j==="object"}function g(R,j){return Array.isArray(j)?R.concat(j):R.concat([j])}function y(R,j){return Array.isArray(j)?j.concat(R):[j].concat(R)}function d(R){return R.length?R.slice(0,R.length-1):R}function v(R){return R.length?R.slice(1):R}function p(R,j,Y){return R.slice(0,j).concat(Array.isArray(Y)?Y:[Y]).concat(R.slice(j))}function b(R,j){return j>=R.length||j<0?R:R.slice(0,j).concat(R.slice(j+1))}function w(R,j,Y){if(R[j]===Y)return R;for(var ne=R.length,re=Array(ne),ie=0;ie<ne;ie++)re[ie]=R[ie];return re[j]=Y,re}function E(R,j){if(!Array.isArray(j)&&_(u.env.NODE_ENV!=="production"?"A path array should be provided when calling getIn()":m),R!=null){for(var Y=R,ne=0;ne<j.length;ne++){var re=j[ne];if(Y=Y?.[re],Y===void 0)return Y}return Y}}function D(R,j,Y){var ne=typeof j=="number"?[]:{},re=R??ne;if(re[j]===Y)return re;var ie=l(re);return ie[j]=Y,ie}function S(R,j,Y,ne){var re=void 0,ie=j[ne];if(ne===j.length-1)re=Y;else{var W=i(R)&&i(R[ie])?R[ie]:typeof j[ne+1]=="number"?[]:{};re=S(W,j,Y,ne+1)}return D(R,ie,re)}function C(R,j,Y){return j.length?S(R,j,Y,0):Y}function I(R,j,Y){var ne=R?.[j],re=Y(ne);return D(R,j,re)}function T(R,j,Y){var ne=E(R,j),re=Y(ne);return C(R,j,re)}function M(R,j,Y,ne,re,ie){for(var W=arguments.length,q=Array(W>6?W-6:0),te=6;te<W;te++)q[te-6]=arguments[te];return q.length?o.call.apply(o,[null,!1,!1,R,j,Y,ne,re,ie].concat(q)):o(!1,!1,R,j,Y,ne,re,ie)}function P(R,j,Y,ne,re,ie){for(var W=arguments.length,q=Array(W>6?W-6:0),te=6;te<W;te++)q[te-6]=arguments[te];return q.length?o.call.apply(o,[null,!1,!0,R,j,Y,ne,re,ie].concat(q)):o(!1,!0,R,j,Y,ne,re,ie)}function N(R,j,Y,ne,re,ie,W){var q=E(R,j);q==null&&(q={});for(var te=void 0,K=arguments.length,J=Array(K>7?K-7:0),le=7;le<K;le++)J[le-7]=arguments[le];return J.length?te=o.call.apply(o,[null,!1,!1,q,Y,ne,re,ie,W].concat(J)):te=o(!1,!1,q,Y,ne,re,ie,W),C(R,j,te)}function G(R,j){for(var Y=Array.isArray(j)?j:[j],ne=!1,re=0;re<Y.length;re++)if(h.call(R,Y[re])){ne=!0;break}if(!ne)return R;for(var ie={},W=f(R),q=0;q<W.length;q++){var te=W[q];Y.indexOf(te)>=0||(ie[te]=R[te])}return ie}function V(R,j,Y,ne,re,ie){for(var W=arguments.length,q=Array(W>6?W-6:0),te=6;te<W;te++)q[te-6]=arguments[te];return q.length?o.call.apply(o,[null,!0,!1,R,j,Y,ne,re,ie].concat(q)):o(!0,!1,R,j,Y,ne,re,ie)}var H={clone:l,addLast:g,addFirst:y,removeLast:d,removeFirst:v,insert:p,removeAt:b,replaceAt:w,getIn:E,set:D,setIn:C,update:I,updateIn:T,merge:M,mergeDeep:P,mergeIn:N,omit:G,addDefaults:V};s.default=H}).call(this,n("_process"))},{_process:133}],178:[function(n,a,s){(function(u){var c=/^\s+/,m=/\s+$/,_=0,f=u.round,h=u.min,l=u.max,o=u.random;function i(z,$){if(z=z||"",$=$||{},z instanceof i)return z;if(!(this instanceof i))return new i(z,$);var O=g(z);this._originalInput=z,this._r=O.r,this._g=O.g,this._b=O.b,this._a=O.a,this._roundA=f(100*this._a)/100,this._format=$.format||O.format,this._gradientType=$.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=O.ok,this._tc_id=_++}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var z=this.toRgb();return(z.r*299+z.g*587+z.b*114)/1e3},getLuminance:function(){var z=this.toRgb(),$,O,B,U,A,k;return $=z.r/255,O=z.g/255,B=z.b/255,$<=.03928?U=$/12.92:U=u.pow(($+.055)/1.055,2.4),O<=.03928?A=O/12.92:A=u.pow((O+.055)/1.055,2.4),B<=.03928?k=B/12.92:k=u.pow((B+.055)/1.055,2.4),.2126*U+.7152*A+.0722*k},setAlpha:function(z){return this._a=W(z),this._roundA=f(100*this._a)/100,this},toHsv:function(){var z=p(this._r,this._g,this._b);return{h:z.h*360,s:z.s,v:z.v,a:this._a}},toHsvString:function(){var z=p(this._r,this._g,this._b),$=f(z.h*360),O=f(z.s*100),B=f(z.v*100);return this._a==1?"hsv("+$+", "+O+"%, "+B+"%)":"hsva("+$+", "+O+"%, "+B+"%, "+this._roundA+")"},toHsl:function(){var z=d(this._r,this._g,this._b);return{h:z.h*360,s:z.s,l:z.l,a:this._a}},toHslString:function(){var z=d(this._r,this._g,this._b),$=f(z.h*360),O=f(z.s*100),B=f(z.l*100);return this._a==1?"hsl("+$+", "+O+"%, "+B+"%)":"hsla("+$+", "+O+"%, "+B+"%, "+this._roundA+")"},toHex:function(z){return w(this._r,this._g,this._b,z)},toHexString:function(z){return"#"+this.toHex(z)},toHex8:function(z){return E(this._r,this._g,this._b,this._a,z)},toHex8String:function(z){return"#"+this.toHex8(z)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(q(this._r,255)*100)+"%",g:f(q(this._g,255)*100)+"%",b:f(q(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+f(q(this._r,255)*100)+"%, "+f(q(this._g,255)*100)+"%, "+f(q(this._b,255)*100)+"%)":"rgba("+f(q(this._r,255)*100)+"%, "+f(q(this._g,255)*100)+"%, "+f(q(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:re[w(this._r,this._g,this._b,!0)]||!1},toFilter:function(z){var $="#"+D(this._r,this._g,this._b,this._a),O=$,B=this._gradientType?"GradientType = 1, ":"";if(z){var U=i(z);O="#"+D(U._r,U._g,U._b,U._a)}return"progid:DXImageTransform.Microsoft.gradient("+B+"startColorstr="+$+",endColorstr="+O+")"},toString:function(z){var $=!!z;z=z||this._format;var O=!1,B=this._a<1&&this._a>=0,U=!$&&B&&(z==="hex"||z==="hex6"||z==="hex3"||z==="hex4"||z==="hex8"||z==="name");return U?z==="name"&&this._a===0?this.toName():this.toRgbString():(z==="rgb"&&(O=this.toRgbString()),z==="prgb"&&(O=this.toPercentageRgbString()),(z==="hex"||z==="hex6")&&(O=this.toHexString()),z==="hex3"&&(O=this.toHexString(!0)),z==="hex4"&&(O=this.toHex8String(!0)),z==="hex8"&&(O=this.toHex8String()),z==="name"&&(O=this.toName()),z==="hsl"&&(O=this.toHslString()),z==="hsv"&&(O=this.toHsvString()),O||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(z,$){var O=z.apply(null,[this].concat([].slice.call($)));return this._r=O._r,this._g=O._g,this._b=O._b,this.setAlpha(O._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(M,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(S,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(I,arguments)},spin:function(){return this._applyModification(N,arguments)},_applyCombination:function(z,$){return z.apply(null,[this].concat([].slice.call($)))},analogous:function(){return this._applyCombination(j,arguments)},complement:function(){return this._applyCombination(G,arguments)},monochromatic:function(){return this._applyCombination(Y,arguments)},splitcomplement:function(){return this._applyCombination(R,arguments)},triad:function(){return this._applyCombination(V,arguments)},tetrad:function(){return this._applyCombination(H,arguments)}},i.fromRatio=function(z,$){if(typeof z=="object"){var O={};for(var B in z)z.hasOwnProperty(B)&&(B==="a"?O[B]=z[B]:O[B]=_e(z[B]));z=O}return i(z,$)};function g(z){var $={r:0,g:0,b:0},O=1,B=null,U=null,A=null,k=!1,ee=!1;return typeof z=="string"&&(z=Q(z)),typeof z=="object"&&(oe(z.r)&&oe(z.g)&&oe(z.b)?($=y(z.r,z.g,z.b),k=!0,ee=String(z.r).substr(-1)==="%"?"prgb":"rgb"):oe(z.h)&&oe(z.s)&&oe(z.v)?(B=_e(z.s),U=_e(z.v),$=b(z.h,B,U),k=!0,ee="hsv"):oe(z.h)&&oe(z.s)&&oe(z.l)&&(B=_e(z.s),A=_e(z.l),$=v(z.h,B,A),k=!0,ee="hsl"),z.hasOwnProperty("a")&&(O=z.a)),O=W(O),{ok:k,format:z.format||ee,r:h(255,l($.r,0)),g:h(255,l($.g,0)),b:h(255,l($.b,0)),a:O}}function y(z,$,O){return{r:q(z,255)*255,g:q($,255)*255,b:q(O,255)*255}}function d(z,$,O){z=q(z,255),$=q($,255),O=q(O,255);var B=l(z,$,O),U=h(z,$,O),A,k,ee=(B+U)/2;if(B==U)A=k=0;else{var he=B-U;switch(k=ee>.5?he/(2-B-U):he/(B+U),B){case z:A=($-O)/he+($<O?6:0);break;case $:A=(O-z)/he+2;break;case O:A=(z-$)/he+4;break}A/=6}return{h:A,s:k,l:ee}}function v(z,$,O){var B,U,A;z=q(z,360),$=q($,100),O=q(O,100);function k(we,pe,Ce){return Ce<0&&(Ce+=1),Ce>1&&(Ce-=1),Ce<1/6?we+(pe-we)*6*Ce:Ce<1/2?pe:Ce<2/3?we+(pe-we)*(2/3-Ce)*6:we}if($===0)B=U=A=O;else{var ee=O<.5?O*(1+$):O+$-O*$,he=2*O-ee;B=k(he,ee,z+1/3),U=k(he,ee,z),A=k(he,ee,z-1/3)}return{r:B*255,g:U*255,b:A*255}}function p(z,$,O){z=q(z,255),$=q($,255),O=q(O,255);var B=l(z,$,O),U=h(z,$,O),A,k,ee=B,he=B-U;if(k=B===0?0:he/B,B==U)A=0;else{switch(B){case z:A=($-O)/he+($<O?6:0);break;case $:A=(O-z)/he+2;break;case O:A=(z-$)/he+4;break}A/=6}return{h:A,s:k,v:ee}}function b(z,$,O){z=q(z,360)*6,$=q($,100),O=q(O,100);var B=u.floor(z),U=z-B,A=O*(1-$),k=O*(1-U*$),ee=O*(1-(1-U)*$),he=B%6,we=[O,k,A,A,ee,O][he],pe=[ee,O,O,k,A,A][he],Ce=[A,A,ee,O,O,k][he];return{r:we*255,g:pe*255,b:Ce*255}}function w(z,$,O,B){var U=[se(f(z).toString(16)),se(f($).toString(16)),se(f(O).toString(16))];return B&&U[0].charAt(0)==U[0].charAt(1)&&U[1].charAt(0)==U[1].charAt(1)&&U[2].charAt(0)==U[2].charAt(1)?U[0].charAt(0)+U[1].charAt(0)+U[2].charAt(0):U.join("")}function E(z,$,O,B,U){var A=[se(f(z).toString(16)),se(f($).toString(16)),se(f(O).toString(16)),se(ge(B))];return U&&A[0].charAt(0)==A[0].charAt(1)&&A[1].charAt(0)==A[1].charAt(1)&&A[2].charAt(0)==A[2].charAt(1)&&A[3].charAt(0)==A[3].charAt(1)?A[0].charAt(0)+A[1].charAt(0)+A[2].charAt(0)+A[3].charAt(0):A.join("")}function D(z,$,O,B){var U=[se(ge(B)),se(f(z).toString(16)),se(f($).toString(16)),se(f(O).toString(16))];return U.join("")}i.equals=function(z,$){return!z||!$?!1:i(z).toRgbString()==i($).toRgbString()},i.random=function(){return i.fromRatio({r:o(),g:o(),b:o()})};function S(z,$){$=$===0?0:$||10;var O=i(z).toHsl();return O.s-=$/100,O.s=te(O.s),i(O)}function C(z,$){$=$===0?0:$||10;var O=i(z).toHsl();return O.s+=$/100,O.s=te(O.s),i(O)}function I(z){return i(z).desaturate(100)}function T(z,$){$=$===0?0:$||10;var O=i(z).toHsl();return O.l+=$/100,O.l=te(O.l),i(O)}function M(z,$){$=$===0?0:$||10;var O=i(z).toRgb();return O.r=l(0,h(255,O.r-f(255*-($/100)))),O.g=l(0,h(255,O.g-f(255*-($/100)))),O.b=l(0,h(255,O.b-f(255*-($/100)))),i(O)}function P(z,$){$=$===0?0:$||10;var O=i(z).toHsl();return O.l-=$/100,O.l=te(O.l),i(O)}function N(z,$){var O=i(z).toHsl(),B=(O.h+$)%360;return O.h=B<0?360+B:B,i(O)}function G(z){var $=i(z).toHsl();return $.h=($.h+180)%360,i($)}function V(z){var $=i(z).toHsl(),O=$.h;return[i(z),i({h:(O+120)%360,s:$.s,l:$.l}),i({h:(O+240)%360,s:$.s,l:$.l})]}function H(z){var $=i(z).toHsl(),O=$.h;return[i(z),i({h:(O+90)%360,s:$.s,l:$.l}),i({h:(O+180)%360,s:$.s,l:$.l}),i({h:(O+270)%360,s:$.s,l:$.l})]}function R(z){var $=i(z).toHsl(),O=$.h;return[i(z),i({h:(O+72)%360,s:$.s,l:$.l}),i({h:(O+216)%360,s:$.s,l:$.l})]}function j(z,$,O){$=$||6,O=O||30;var B=i(z).toHsl(),U=360/O,A=[i(z)];for(B.h=(B.h-(U*$>>1)+720)%360;--$;)B.h=(B.h+U)%360,A.push(i(B));return A}function Y(z,$){$=$||6;for(var O=i(z).toHsv(),B=O.h,U=O.s,A=O.v,k=[],ee=1/$;$--;)k.push(i({h:B,s:U,v:A})),A=(A+ee)%1;return k}i.mix=function(z,$,O){O=O===0?0:O||50;var B=i(z).toRgb(),U=i($).toRgb(),A=O/100,k={r:(U.r-B.r)*A+B.r,g:(U.g-B.g)*A+B.g,b:(U.b-B.b)*A+B.b,a:(U.a-B.a)*A+B.a};return i(k)},i.readability=function(z,$){var O=i(z),B=i($);return(u.max(O.getLuminance(),B.getLuminance())+.05)/(u.min(O.getLuminance(),B.getLuminance())+.05)},i.isReadable=function(z,$,O){var B=i.readability(z,$),U,A;switch(A=!1,U=Z(O),U.level+U.size){case"AAsmall":case"AAAlarge":A=B>=4.5;break;case"AAlarge":A=B>=3;break;case"AAAsmall":A=B>=7;break}return A},i.mostReadable=function(z,$,O){var B=null,U=0,A,k,ee,he;O=O||{},k=O.includeFallbackColors,ee=O.level,he=O.size;for(var we=0;we<$.length;we++)A=i.readability(z,$[we]),A>U&&(U=A,B=i($[we]));return i.isReadable(z,B,{level:ee,size:he})||!k?B:(O.includeFallbackColors=!1,i.mostReadable(z,["#fff","#000"],O))};var ne=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},re=i.hexNames=ie(ne);function ie(z){var $={};for(var O in z)z.hasOwnProperty(O)&&($[z[O]]=O);return $}function W(z){return z=parseFloat(z),(isNaN(z)||z<0||z>1)&&(z=1),z}function q(z,$){J(z)&&(z="100%");var O=le(z);return z=h($,l(0,parseFloat(z))),O&&(z=parseInt(z*$,10)/100),u.abs(z-$)<1e-6?1:z%$/parseFloat($)}function te(z){return h(1,l(0,z))}function K(z){return parseInt(z,16)}function J(z){return typeof z=="string"&&z.indexOf(".")!=-1&&parseFloat(z)===1}function le(z){return typeof z=="string"&&z.indexOf("%")!=-1}function se(z){return z.length==1?"0"+z:""+z}function _e(z){return z<=1&&(z=z*100+"%"),z}function ge(z){return u.round(parseFloat(z)*255).toString(16)}function Ee(z){return K(z)/255}var ae=function(){var z="[-\\+]?\\d+%?",$="[-\\+]?\\d*\\.\\d+%?",O="(?:"+$+")|(?:"+z+")",B="[\\s|\\(]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",U="[\\s|\\(]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?";return{CSS_UNIT:new RegExp(O),rgb:new RegExp("rgb"+B),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+B),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+B),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function oe(z){return!!ae.CSS_UNIT.exec(z)}function Q(z){z=z.replace(c,"").replace(m,"").toLowerCase();var $=!1;if(ne[z])z=ne[z],$=!0;else if(z=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var O;return(O=ae.rgb.exec(z))?{r:O[1],g:O[2],b:O[3]}:(O=ae.rgba.exec(z))?{r:O[1],g:O[2],b:O[3],a:O[4]}:(O=ae.hsl.exec(z))?{h:O[1],s:O[2],l:O[3]}:(O=ae.hsla.exec(z))?{h:O[1],s:O[2],l:O[3],a:O[4]}:(O=ae.hsv.exec(z))?{h:O[1],s:O[2],v:O[3]}:(O=ae.hsva.exec(z))?{h:O[1],s:O[2],v:O[3],a:O[4]}:(O=ae.hex8.exec(z))?{r:K(O[1]),g:K(O[2]),b:K(O[3]),a:Ee(O[4]),format:$?"name":"hex8"}:(O=ae.hex6.exec(z))?{r:K(O[1]),g:K(O[2]),b:K(O[3]),format:$?"name":"hex"}:(O=ae.hex4.exec(z))?{r:K(O[1]+""+O[1]),g:K(O[2]+""+O[2]),b:K(O[3]+""+O[3]),a:Ee(O[4]+""+O[4]),format:$?"name":"hex8"}:(O=ae.hex3.exec(z))?{r:K(O[1]+""+O[1]),g:K(O[2]+""+O[2]),b:K(O[3]+""+O[3]),format:$?"name":"hex"}:!1}function Z(z){var $,O;return z=z||{level:"AA",size:"small"},$=(z.level||"AA").toUpperCase(),O=(z.size||"small").toLowerCase(),$!=="AA"&&$!=="AAA"&&($="AA"),O!=="small"&&O!=="large"&&(O="small"),{level:$,size:O}}typeof a<"u"&&a.exports?a.exports=i:typeof e=="function"&&e.amd?e(function(){return i}):ze.tinycolor=i})(Math)},{}],179:[function(n,a,s){s=a.exports=u;function u(c){return c.replace(/^\s*|\s*$/g,"")}s.left=function(c){return c.replace(/^\s*/,"")},s.right=function(c){return c.replace(/\s*$/,"")}},{}],180:[function(n,a,s){"use strict";var u=n("punycode"),c=n("./util");s.parse=S,s.resolve=I,s.resolveObject=T,s.format=C,s.Url=m;function m(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var _=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(l),i=["'"].concat(o),g=["%","/","?",";","#"].concat(i),y=["/","?","#"],d=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},D=n("querystring");function S(M,P,N){if(M&&c.isObject(M)&&M instanceof m)return M;var G=new m;return G.parse(M,P,N),G}m.prototype.parse=function(M,P,N){if(!c.isString(M))throw new TypeError("Parameter 'url' must be a string, not "+typeof M);var G=M.indexOf("?"),V=G!==-1&&G<M.indexOf("#")?"?":"#",H=M.split(V),R=/\\/g;H[0]=H[0].replace(R,"/"),M=H.join(V);var j=M;if(j=j.trim(),!N&&M.split("#").length===1){var Y=h.exec(j);if(Y)return this.path=j,this.href=j,this.pathname=Y[1],Y[2]?(this.search=Y[2],P?this.query=D.parse(this.search.substr(1)):this.query=this.search.substr(1)):P&&(this.search="",this.query={}),this}var ne=_.exec(j);if(ne){ne=ne[0];var re=ne.toLowerCase();this.protocol=re,j=j.substr(ne.length)}if(N||ne||j.match(/^\/\/[^@\/]+@[^@\/]+/)){var ie=j.substr(0,2)==="//";ie&&!(ne&&w[ne])&&(j=j.substr(2),this.slashes=!0)}if(!w[ne]&&(ie||ne&&!E[ne])){for(var W=-1,q=0;q<y.length;q++){var te=j.indexOf(y[q]);te!==-1&&(W===-1||te<W)&&(W=te)}var K,J;W===-1?J=j.lastIndexOf("@"):J=j.lastIndexOf("@",W),J!==-1&&(K=j.slice(0,J),j=j.slice(J+1),this.auth=decodeURIComponent(K)),W=-1;for(var q=0;q<g.length;q++){var te=j.indexOf(g[q]);te!==-1&&(W===-1||te<W)&&(W=te)}W===-1&&(W=j.length),this.host=j.slice(0,W),j=j.slice(W),this.parseHost(),this.hostname=this.hostname||"";var le=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!le)for(var se=this.hostname.split(/\./),q=0,_e=se.length;q<_e;q++){var ge=se[q];if(ge&&!ge.match(v)){for(var Ee="",ae=0,oe=ge.length;ae<oe;ae++)ge.charCodeAt(ae)>127?Ee+="x":Ee+=ge[ae];if(!Ee.match(v)){var Q=se.slice(0,q),Z=se.slice(q+1),z=ge.match(p);z&&(Q.push(z[1]),Z.unshift(z[2])),Z.length&&(j="/"+Z.join(".")+j),this.hostname=Q.join(".");break}}}this.hostname.length>d?this.hostname="":this.hostname=this.hostname.toLowerCase(),le||(this.hostname=u.toASCII(this.hostname));var $=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+$,this.href+=this.host,le&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),j[0]!=="/"&&(j="/"+j))}if(!b[re])for(var q=0,_e=i.length;q<_e;q++){var B=i[q];if(j.indexOf(B)!==-1){var U=encodeURIComponent(B);U===B&&(U=escape(B)),j=j.split(B).join(U)}}var A=j.indexOf("#");A!==-1&&(this.hash=j.substr(A),j=j.slice(0,A));var k=j.indexOf("?");if(k!==-1?(this.search=j.substr(k),this.query=j.substr(k+1),P&&(this.query=D.parse(this.query)),j=j.slice(0,k)):P&&(this.search="",this.query={}),j&&(this.pathname=j),E[re]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",ee=this.search||"";this.path=$+ee}return this.href=this.format(),this};function C(M){return c.isString(M)&&(M=S(M)),M instanceof m?M.format():m.prototype.format.call(M)}m.prototype.format=function(){var M=this.auth||"";M&&(M=encodeURIComponent(M),M=M.replace(/%3A/i,":"),M+="@");var P=this.protocol||"",N=this.pathname||"",G=this.hash||"",V=!1,H="";this.host?V=M+this.host:this.hostname&&(V=M+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(V+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(H=D.stringify(this.query));var R=this.search||H&&"?"+H||"";return P&&P.substr(-1)!==":"&&(P+=":"),this.slashes||(!P||E[P])&&V!==!1?(V="//"+(V||""),N&&N.charAt(0)!=="/"&&(N="/"+N)):V||(V=""),G&&G.charAt(0)!=="#"&&(G="#"+G),R&&R.charAt(0)!=="?"&&(R="?"+R),N=N.replace(/[?#]/g,function(j){return encodeURIComponent(j)}),R=R.replace("#","%23"),P+V+N+R+G};function I(M,P){return S(M,!1,!0).resolve(P)}m.prototype.resolve=function(M){return this.resolveObject(S(M,!1,!0)).format()};function T(M,P){return M?S(M,!1,!0).resolveObject(P):P}m.prototype.resolveObject=function(M){if(c.isString(M)){var P=new m;P.parse(M,!1,!0),M=P}for(var N=new m,G=Object.keys(this),V=0;V<G.length;V++){var H=G[V];N[H]=this[H]}if(N.hash=M.hash,M.href==="")return N.href=N.format(),N;if(M.slashes&&!M.protocol){for(var R=Object.keys(M),j=0;j<R.length;j++){var Y=R[j];Y!=="protocol"&&(N[Y]=M[Y])}return E[N.protocol]&&N.hostname&&!N.pathname&&(N.path=N.pathname="/"),N.href=N.format(),N}if(M.protocol&&M.protocol!==N.protocol){if(!E[M.protocol]){for(var ne=Object.keys(M),re=0;re<ne.length;re++){var ie=ne[re];N[ie]=M[ie]}return N.href=N.format(),N}if(N.protocol=M.protocol,!M.host&&!w[M.protocol]){for(var _e=(M.pathname||"").split("/");_e.length&&!(M.host=_e.shift()););M.host||(M.host=""),M.hostname||(M.hostname=""),_e[0]!==""&&_e.unshift(""),_e.length<2&&_e.unshift(""),N.pathname=_e.join("/")}else N.pathname=M.pathname;if(N.search=M.search,N.query=M.query,N.host=M.host||"",N.auth=M.auth,N.hostname=M.hostname||M.host,N.port=M.port,N.pathname||N.search){var W=N.pathname||"",q=N.search||"";N.path=W+q}return N.slashes=N.slashes||M.slashes,N.href=N.format(),N}var te=N.pathname&&N.pathname.charAt(0)==="/",K=M.host||M.pathname&&M.pathname.charAt(0)==="/",J=K||te||N.host&&M.pathname,le=J,se=N.pathname&&N.pathname.split("/")||[],_e=M.pathname&&M.pathname.split("/")||[],ge=N.protocol&&!E[N.protocol];if(ge&&(N.hostname="",N.port=null,N.host&&(se[0]===""?se[0]=N.host:se.unshift(N.host)),N.host="",M.protocol&&(M.hostname=null,M.port=null,M.host&&(_e[0]===""?_e[0]=M.host:_e.unshift(M.host)),M.host=null),J=J&&(_e[0]===""||se[0]==="")),K)N.host=M.host||M.host===""?M.host:N.host,N.hostname=M.hostname||M.hostname===""?M.hostname:N.hostname,N.search=M.search,N.query=M.query,se=_e;else if(_e.length)se||(se=[]),se.pop(),se=se.concat(_e),N.search=M.search,N.query=M.query;else if(!c.isNullOrUndefined(M.search)){if(ge){N.hostname=N.host=se.shift();var Ee=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;Ee&&(N.auth=Ee.shift(),N.host=N.hostname=Ee.shift())}return N.search=M.search,N.query=M.query,(!c.isNull(N.pathname)||!c.isNull(N.search))&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.href=N.format(),N}if(!se.length)return N.pathname=null,N.search?N.path="/"+N.search:N.path=null,N.href=N.format(),N;for(var ae=se.slice(-1)[0],oe=(N.host||M.host||se.length>1)&&(ae==="."||ae==="..")||ae==="",Q=0,Z=se.length;Z>=0;Z--)ae=se[Z],ae==="."?se.splice(Z,1):ae===".."?(se.splice(Z,1),Q++):Q&&(se.splice(Z,1),Q--);if(!J&&!le)for(;Q--;Q)se.unshift("..");J&&se[0]!==""&&(!se[0]||se[0].charAt(0)!=="/")&&se.unshift(""),oe&&se.join("/").substr(-1)!=="/"&&se.push("");var z=se[0]===""||se[0]&&se[0].charAt(0)==="/";if(ge){N.hostname=N.host=z?"":se.length?se.shift():"";var Ee=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;Ee&&(N.auth=Ee.shift(),N.host=N.hostname=Ee.shift())}return J=J||N.host&&se.length,J&&!z&&se.unshift(""),se.length?N.pathname=se.join("/"):(N.pathname=null,N.path=null),(!c.isNull(N.pathname)||!c.isNull(N.search))&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.auth=M.auth||N.auth,N.slashes=N.slashes||M.slashes,N.href=N.format(),N},m.prototype.parseHost=function(){var M=this.host,P=f.exec(M);P&&(P=P[0],P!==":"&&(this.port=P.substr(1)),M=M.substr(0,M.length-P.length)),M&&(this.hostname=M)}},{"./util":181,punycode:134,querystring:137}],181:[function(n,a,s){"use strict";a.exports={isString:function(u){return typeof u=="string"},isObject:function(u){return typeof u=="object"&&u!==null},isNull:function(u){return u===null},isNullOrUndefined:function(u){return u==null}}},{}],182:[function(n,a,s){(function(u){(function(){var c={};typeof a=="object"?a.exports=c:self.UTIF=c;var m;typeof n=="function"?m=n("pako"):m=self.pako;function _(){(typeof u>"u"||u.env.NODE_ENV=="development")&&console.log.apply(console,arguments)}(function(f,h){(function(){var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(y){this.message="JPEG error: "+y}return g.prototype=Error(),g.prototype.name="JpegError",g.constructor=g}(),i=function(){function g(y,d){this.message=y,this.g=d}return g.prototype=Error(),g.prototype.name="DNLMarkerError",g.constructor=g}();(function(){function g(){this.M=null,this.B=-1}function y(w,E){for(var D=0,S=[],C,I,T=16;0<T&&!w[T-1];)T--;S.push({children:[],index:0});var M=S[0],P;for(C=0;C<T;C++){for(I=0;I<w[C];I++){for(M=S.pop(),M.children[M.index]=E[D];0<M.index;)M=S.pop();for(M.index++,S.push(M);S.length<=C;)S.push(P={children:[],index:0}),M.children[M.index]=P.children,M=P;D++}C+1<T&&(S.push(P={children:[],index:0}),M.children[M.index]=P.children,M=P)}return S[0].children}function d(w,E,D,S,C,I,T,M,P){function N(){if(0<K)return K--,te>>K&1;if(te=w[E++],te===255){var A=w[E++];if(A){if(A===220&&ie){E+=2;var k=w[E++]<<8|w[E++];if(0<k&&k!==D.g)throw new i("Found DNL marker (0xFFDC) while parsing scan data",k)}throw new o("unexpected marker "+(te<<8|A).toString(16))}}return K=7,te>>>7}function G(A){for(;;){if(A=A[N()],typeof A=="number")return A;if((typeof A>"u"?"undefined":l(A))!=="object")throw new o("invalid huffman sequence")}}function V(A){for(var k=0;0<A;)k=k<<1|N(),A--;return k}function H(A){if(A===1)return N()===1?1:-1;var k=V(A);return k>=1<<A-1?k:k+(-1<<A)+1}function R(A,k){var ee=G(A.D);for(ee=ee===0?0:H(ee),A.a[k]=A.m+=ee,ee=1;64>ee;){var he=G(A.o),we=he&15;if(he>>=4,we===0){if(15>he)break;ee+=16}else ee+=he,A.a[k+b[ee]]=H(we),ee++}}function j(A,k){var ee=G(A.D);ee=ee===0?0:H(ee)<<P,A.a[k]=A.m+=ee}function Y(A,k){A.a[k]|=N()<<P}function ne(A,k){if(0<J)J--;else for(var ee=I;ee<=T;){var he=G(A.o),we=he&15;if(he>>=4,we===0){if(15>he){J=V(he)+(1<<he)-1;break}ee+=16}else ee+=he,A.a[k+b[ee]]=H(we)*(1<<P),ee++}}function re(A,k){for(var ee=I,he=0,we;ee<=T;){we=k+b[ee];var pe=0>A.a[we]?-1:1;switch(le){case 0:if(he=G(A.o),we=he&15,he>>=4,we===0)15>he?(J=V(he)+(1<<he),le=4):(he=16,le=1);else{if(we!==1)throw new o("invalid ACn encoding");se=H(we),le=he?2:3}continue;case 1:case 2:A.a[we]?A.a[we]+=pe*(N()<<P):(he--,he===0&&(le=le===2?3:0));break;case 3:A.a[we]?A.a[we]+=pe*(N()<<P):(A.a[we]=se<<P,le=0);break;case 4:A.a[we]&&(A.a[we]+=pe*(N()<<P))}ee++}le===4&&(J--,J===0&&(le=0))}for(var ie=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,W=D.P,q=E,te=0,K=0,J=0,le=0,se,_e=S.length,ge,Ee,ae,oe,Q=D.S?I===0?M===0?j:Y:M===0?ne:re:R,Z=0,z=_e===1?S[0].c*S[0].l:W*D.O,$,O;Z<z;){var B=C?Math.min(z-Z,C):z;for(ge=0;ge<_e;ge++)S[ge].m=0;if(J=0,_e===1){var U=S[0];for(oe=0;oe<B;oe++)Q(U,64*((U.c+1)*(Z/U.c|0)+Z%U.c)),Z++}else for(oe=0;oe<B;oe++){for(ge=0;ge<_e;ge++)for(U=S[ge],$=U.h,O=U.j,Ee=0;Ee<O;Ee++)for(ae=0;ae<$;ae++)Q(U,64*((U.c+1)*((Z/W|0)*U.j+Ee)+(Z%W*U.h+ae)));Z++}if(K=0,(U=p(w,E))&&U.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+U.f),E=U.offset),U=U&&U.F,!U||65280>=U)throw new o("marker was not found");if(65488<=U&&65495>=U)E+=2;else break}return(U=p(w,E))&&U.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+U.f),E=U.offset),E-q}function v(w,E){for(var D=E.c,S=E.l,C=new Int16Array(64),I=0;I<S;I++)for(var T=0;T<D;T++){var M=64*((E.c+1)*I+T),P=C,N=E.G,G=E.a;if(!N)throw new o("missing required Quantization Table.");for(var V=0;64>V;V+=8){var H=G[M+V],R=G[M+V+1],j=G[M+V+2],Y=G[M+V+3],ne=G[M+V+4],re=G[M+V+5],ie=G[M+V+6],W=G[M+V+7];if(H*=N[V],(R|j|Y|ne|re|ie|W)===0)H=5793*H+512>>10,P[V]=H,P[V+1]=H,P[V+2]=H,P[V+3]=H,P[V+4]=H,P[V+5]=H,P[V+6]=H,P[V+7]=H;else{R*=N[V+1],j*=N[V+2],Y*=N[V+3],ne*=N[V+4],re*=N[V+5],ie*=N[V+6],W*=N[V+7];var q=5793*H+128>>8,te=5793*ne+128>>8,K=j,J=ie;ne=2896*(R-W)+128>>8,W=2896*(R+W)+128>>8,Y<<=4,re<<=4,q=q+te+1>>1,te=q-te,H=3784*K+1567*J+128>>8,K=1567*K-3784*J+128>>8,J=H,ne=ne+re+1>>1,re=ne-re,W=W+Y+1>>1,Y=W-Y,q=q+J+1>>1,J=q-J,te=te+K+1>>1,K=te-K,H=2276*ne+3406*W+2048>>12,ne=3406*ne-2276*W+2048>>12,W=H,H=799*Y+4017*re+2048>>12,Y=4017*Y-799*re+2048>>12,re=H,P[V]=q+W,P[V+7]=q-W,P[V+1]=te+re,P[V+6]=te-re,P[V+2]=K+Y,P[V+5]=K-Y,P[V+3]=J+ne,P[V+4]=J-ne}}for(N=0;8>N;++N)H=P[N],R=P[N+8],j=P[N+16],Y=P[N+24],ne=P[N+32],re=P[N+40],ie=P[N+48],W=P[N+56],(R|j|Y|ne|re|ie|W)===0?(H=5793*H+8192>>14,H=-2040>H?0:2024<=H?255:H+2056>>4,G[M+N]=H,G[M+N+8]=H,G[M+N+16]=H,G[M+N+24]=H,G[M+N+32]=H,G[M+N+40]=H,G[M+N+48]=H,G[M+N+56]=H):(q=5793*H+2048>>12,te=5793*ne+2048>>12,K=j,J=ie,ne=2896*(R-W)+2048>>12,W=2896*(R+W)+2048>>12,q=(q+te+1>>1)+4112,te=q-te,H=3784*K+1567*J+2048>>12,K=1567*K-3784*J+2048>>12,J=H,ne=ne+re+1>>1,re=ne-re,W=W+Y+1>>1,Y=W-Y,q=q+J+1>>1,J=q-J,te=te+K+1>>1,K=te-K,H=2276*ne+3406*W+2048>>12,ne=3406*ne-2276*W+2048>>12,W=H,H=799*Y+4017*re+2048>>12,Y=4017*Y-799*re+2048>>12,re=H,H=q+W,W=q-W,R=te+re,ie=te-re,j=K+Y,re=K-Y,Y=J+ne,ne=J-ne,H=16>H?0:4080<=H?255:H>>4,R=16>R?0:4080<=R?255:R>>4,j=16>j?0:4080<=j?255:j>>4,Y=16>Y?0:4080<=Y?255:Y>>4,ne=16>ne?0:4080<=ne?255:ne>>4,re=16>re?0:4080<=re?255:re>>4,ie=16>ie?0:4080<=ie?255:ie>>4,W=16>W?0:4080<=W?255:W>>4,G[M+N]=H,G[M+N+8]=R,G[M+N+16]=j,G[M+N+24]=Y,G[M+N+32]=ne,G[M+N+40]=re,G[M+N+48]=ie,G[M+N+56]=W)}return E.a}function p(w,E){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:E,S=w.length-1;if(D=D<E?D:E,E>=S)return null;var C=w[E]<<8|w[E+1];if(65472<=C&&65534>=C)return{f:null,F:C,offset:E};for(var I=w[D]<<8|w[D+1];!(65472<=I&&65534>=I);){if(++D>=S)return null;I=w[D]<<8|w[D+1]}return{f:C.toString(16),F:I,offset:D}}var b=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);g.prototype={parse:function(w){function E(){var K=w[T]<<8|w[T+1];return T+=2,K}function D(){var K=E();K=T+K-2;var J=p(w,K,T);return J&&J.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+J.f),K=J.offset),K=w.subarray(T,K),T+=K.length,K}function S(K){for(var J=Math.ceil(K.v/8/K.s),le=Math.ceil(K.g/8/K.u),se=0;se<K.b.length;se++){q=K.b[se];var _e=Math.ceil(Math.ceil(K.v/8)*q.h/K.s),ge=Math.ceil(Math.ceil(K.g/8)*q.j/K.u);q.a=new Int16Array(64*le*q.j*(J*q.h+1)),q.c=_e,q.l=ge}K.P=J,K.O=le}var C=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,I=C===void 0?null:C,T=0,M=null,P=0;C=[];var N=[],G=[],V=E();if(V!==65496)throw new o("SOI not found");for(V=E();V!==65497;){switch(V){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var H=D();V===65518&&H[0]===65&&H[1]===100&&H[2]===111&&H[3]===98&&H[4]===101&&(M={version:H[5]<<8|H[6],Y:H[7]<<8|H[8],Z:H[9]<<8|H[10],W:H[11]});break;case 65499:V=E()+T-2;for(var R;T<V;){var j=w[T++],Y=new Uint16Array(64);if(j>>4===0)for(H=0;64>H;H++)R=b[H],Y[R]=w[T++];else if(j>>4===1)for(H=0;64>H;H++)R=b[H],Y[R]=E();else throw new o("DQT - invalid table spec");C[j&15]=Y}break;case 65472:case 65473:case 65474:if(ne)throw new o("Only single frame JPEGs supported");E();var ne={};for(ne.X=V===65473,ne.S=V===65474,ne.precision=w[T++],V=E(),ne.g=I||V,ne.v=E(),ne.b=[],ne.C={},H=w[T++],V=Y=j=0;V<H;V++){R=w[T];var re=w[T+1]>>4,ie=w[T+1]&15;j<re&&(j=re),Y<ie&&(Y=ie),re=ne.b.push({h:re,j:ie,T:w[T+2],G:null}),ne.C[R]=re-1,T+=3}ne.s=j,ne.u=Y,S(ne);break;case 65476:for(R=E(),V=2;V<R;){for(j=w[T++],Y=new Uint8Array(16),H=re=0;16>H;H++,T++)re+=Y[H]=w[T];for(ie=new Uint8Array(re),H=0;H<re;H++,T++)ie[H]=w[T];V+=17+re,(j>>4===0?G:N)[j&15]=y(Y,ie)}break;case 65501:E();var W=E();break;case 65498:for(H=++P===1&&!I,E(),j=w[T++],R=[],V=0;V<j;V++){Y=ne.C[w[T++]];var q=ne.b[Y];Y=w[T++],q.D=G[Y>>4],q.o=N[Y&15],R.push(q)}V=w[T++],j=w[T++],Y=w[T++];try{var te=d(w,T,ne,R,W,V,j,Y>>4,Y&15,H);T+=te}catch(K){if(K instanceof i)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(w,{N:K.g});throw K}break;case 65500:T+=4;break;case 65535:w[T]!==255&&T--;break;default:if(w[T-3]===255&&192<=w[T-2]&&254>=w[T-2])T-=3;else if((H=p(w,T-2))&&H.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+H.f),T=H.offset;else throw new o("unknown marker "+V.toString(16))}V=E()}for(this.width=ne.v,this.height=ne.g,this.A=M,this.b=[],V=0;V<ne.b.length;V++)q=ne.b[V],(W=C[q.T])&&(q.G=W),this.b.push({R:v(ne,q),U:q.h/ne.s,V:q.j/ne.u,c:q.c,l:q.l});this.i=this.b.length},L:function(w,E){var D=this.width/w,S=this.height/E,C,I,T=this.b.length,M=w*E*T,P=new Uint8ClampedArray(M),N=new Uint32Array(w);for(I=0;I<T;I++){var G=this.b[I],V=G.U*D,H=G.V*S,R=I,j=G.R,Y=G.c+1<<3;for(C=0;C<w;C++)G=0|C*V,N[C]=(G&4294967288)<<3|G&7;for(V=0;V<E;V++)for(G=0|V*H,G=Y*(G&4294967288)|(G&7)<<3,C=0;C<w;C++)P[R]=j[G+N[C]],R+=T}if(S=this.M)for(I=0;I<M;)for(D=G=0;G<T;G++,I++,D+=2)P[I]=(P[I]*S[D]>>8)+S[D+1];return P},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(w){for(var E,D,S,C=0,I=w.length;C<I;C+=3)E=w[C],D=w[C+1],S=w[C+2],w[C]=E-179.456+1.402*S,w[C+1]=E+135.459-.344*D-.714*S,w[C+2]=E-226.816+1.772*D;return w},K:function(w){for(var E,D,S,C,I=0,T=0,M=w.length;T<M;T+=4)E=w[T],D=w[T+1],S=w[T+2],C=w[T+3],w[I++]=-122.67195406894+D*(-660635669420364e-19*D+.000437130475926232*S-54080610064599e-18*E+.00048449797120281*C-.154362151871126)+S*(-.000957964378445773*S+.000817076911346625*E-.00477271405408747*C+1.53380253221734)+E*(.000961250184130688*E-.00266257332283933*C+.48357088451265)+C*(-.000336197177618394*C+.484791561490776),w[I++]=107.268039397724+D*(219927104525741e-19*D-.000640992018297945*S+.000659397001245577*E+.000426105652938837*C-.176491792462875)+S*(-.000778269941513683*S+.00130872261408275*E+.000770482631801132*C-.151051492775562)+E*(.00126935368114843*E-.00265090189010898*C+.25802910206845)+C*(-.000318913117588328*C-.213742400323665),w[I++]=-20.810012546947+D*(-.000570115196973677*D-263409051004589e-19*S+.0020741088115012*E-.00288260236853442*C+.814272968359295)+S*(-153496057440975e-19*S-.000132689043961446*E+.000560833691242812*C-.195152027534049)+E*(.00174418132927582*E-.00255243321439347*C+.116935020465145)+C*(-.000343531996510555*C+.24165260232407);return w.subarray(0,I)},J:function(w){for(var E,D,S,C=0,I=w.length;C<I;C+=4)E=w[C],D=w[C+1],S=w[C+2],w[C]=434.456-E-1.402*S,w[C+1]=119.541-E+.344*D+.714*S,w[C+2]=481.816-E-1.772*D;return w},H:function(w){for(var E,D,S,C,I=0,T=1/255,M=0,P=w.length;M<P;M+=4)E=w[M]*T,D=w[M+1]*T,S=w[M+2]*T,C=w[M+3]*T,w[I++]=255+E*(-4.387332384609988*E+54.48615194189176*D+18.82290502165302*S+212.25662451639585*C-285.2331026137004)+D*(1.7149763477362134*D-5.6096736904047315*S-17.873870861415444*C-5.497006427196366)+S*(-2.5217340131683033*S-21.248923337353073*C+17.5119270841813)-C*(21.86122147463605*C+189.48180835922747),w[I++]=255+E*(8.841041422036149*E+60.118027045597366*D+6.871425592049007*S+31.159100130055922*C-79.2970844816548)+D*(-15.310361306967817*D+17.575251261109482*S+131.35250912493976*C-190.9453302588951)+S*(4.444339102852739*S+9.8632861493405*C-24.86741582555878)-C*(20.737325471181034*C+187.80453709719578),w[I++]=255+E*(.8842522430003296*E+8.078677503112928*D+30.89978309703729*S-.23883238689178934*C-14.183576799673286)+D*(10.49593273432072*D+63.02378494754052*S+50.606957656360734*C-112.23884253719248)+S*(.03296041114873217*S+115.60384449646641*C-193.58209356861505)-C*(22.33816807309886*C+180.12613974708367);return w.subarray(0,I)},getData:function(w,E,D){if(4<this.i)throw new o("Unsupported color mode");if(w=this.L(w,E),this.i===1&&D){D=w.length,E=new Uint8ClampedArray(3*D);for(var S=0,C=0;C<D;C++){var I=w[C];E[S++]=I,E[S++]=I,E[S++]=I}return E}if(this.i===3&&this.w())return this.I(w);if(this.i===4){if(this.w())return D?this.K(w):this.J(w);if(D)return this.H(w)}return w}},f.JpegDecoder=g})()})(),f.encodeImage=function(l,o,i,g){var y={t256:[o],t257:[i],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[i],t279:[o*i*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(g)for(var d in g)y[d]=g[d];for(var v=new Uint8Array(f.encode([y])),p=new Uint8Array(l),b=new Uint8Array(1e3+o*i*4),d=0;d<v.length;d++)b[d]=v[d];for(var d=0;d<p.length;d++)b[1e3+d]=p[d];return b.buffer},f.encode=function(l){var o=new Uint8Array(2e4),i=4,g=f._binBE;o[0]=77,o[1]=77,o[3]=42;var y=8;g.writeUint(o,i,y),i+=4;for(var d=0;d<l.length;d++){var v=f._writeIFD(g,o,y,l[d]);y=v[1],d<l.length-1&&g.writeUint(o,v[0],y)}return o.slice(0,y).buffer},f.decode=function(l){f.decode._decodeG3.allow2D=null;var o=new Uint8Array(l),i=0,g=f._binBE.readASCII(o,i,2);i+=2;var y=g=="II"?f._binLE:f._binBE,d=y.readUshort(o,i);i+=2;var v=y.readUint(o,i);i+=4;for(var p=[];;){var b=f._readIFD(y,o,v,p);if(v=y.readUint(o,b),v==0)break}return p},f.decodeImages=function(l,o){for(var i=new Uint8Array(l),g=f._binBE.readASCII(i,0,2),y=0;y<o.length;y++){var d=o[y];if(d.t256!=null){d.isLE=g=="II",d.width=d.t256[0],d.height=d.t257[0];var v=d.t259?d.t259[0]:1,p=d.t266?d.t266[0]:1;d.t284&&d.t284[0]==2&&_("PlanarConfiguration 2 should not be used!");var b=(d.t258?Math.min(32,d.t258[0]):1)*(d.t277?d.t277[0]:1),w=Math.ceil(d.width*b/8)*8,E=d.t273;E==null&&(E=d.t324);var D=d.t279;v==1&&E.length==1&&(D=[d.height*(w>>>3)]),D==null&&(D=d.t325);var S=new Uint8Array(d.height*(w>>>3)),C=0;if(d.t322!=null){for(var I=d.t322[0],T=d.t323[0],M=Math.floor((d.width+I-1)/I),P=Math.floor((d.height+T-1)/T),N=new Uint8Array(Math.ceil(I*T*b/8)|0),G=0;G<P;G++)for(var V=0;V<M;V++){for(var H=G*M+V,R=0;R<N.length;R++)N[R]=0;f.decode._decompress(d,i,E[H],D[H],v,N,0,p),v==6?S=N:f._copyTile(N,Math.ceil(I*b/8)|0,T,S,Math.ceil(d.width*b/8)|0,d.height,Math.ceil(V*I*b/8)|0,G*T)}C=S.length*8}else{var j=d.t278?d.t278[0]:d.height;j=Math.min(j,d.height);for(var H=0;H<E.length;H++)f.decode._decompress(d,i,E[H],D[H],v,S,Math.ceil(C/8)|0,p),C+=w*j;C=Math.min(C,S.length*8)}d.data=new Uint8Array(S.buffer,0,Math.ceil(C/8)|0)}}},f.decode._decompress=function(l,o,i,g,y,d,v,p){if(y==1)for(var b=0;b<g;b++)d[v+b]=o[i+b];else if(y==3)f.decode._decodeG3(o,i,g,d,v,l.width,p);else if(y==4)f.decode._decodeG4(o,i,g,d,v,l.width,p);else if(y==5)f.decode._decodeLZW(o,i,d,v);else if(y==6)f.decode._decodeOldJPEG(l,o,i,g,d,v);else if(y==7)f.decode._decodeNewJPEG(l,o,i,g,d,v);else if(y==8)for(var w=new Uint8Array(o.buffer,i,g),E=h.inflate(w),D=0;D<E.length;D++)d[v+D]=E[D];else y==32773?f.decode._decodePackBits(o,i,g,d,v):y==32809?f.decode._decodeThunder(o,i,g,d,v):_("Unknown compression",y);if(l.t317&&l.t317[0]==2)for(var S=l.t277?l.t277[0]:1,C=l.t278?l.t278[0]:l.height,I=l.width*S,T=0;T<C;T++){var M=v+T*I;if(S==3)for(var b=3;b<I;b+=3)d[M+b]=d[M+b]+d[M+b-3]&255,d[M+b+1]=d[M+b+1]+d[M+b-2]&255,d[M+b+2]=d[M+b+2]+d[M+b-1]&255;else for(var b=S;b<I;b++)d[M+b]=d[M+b]+d[M+b-S]&255}},f.decode._decodeNikon=function(l,o,G,g,y){var d=[[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],v,p,b,w,E,D,S,C,I=0,T=0,M=0,P,N,G,V,H;_(l.slice(o,o+100)),v=l[o],o++,p=l[o],o++,_(v.toString(16),p.toString(16),G)},f.decode._decodeNewJPEG=function(l,o,i,g,y,d){var v=l.t347,p=v?v.length:0,b=new Uint8Array(p+g);if(v){for(var w=216,E=217,D=0,S=0;S<p-1&&!(v[S]==255&&v[S+1]==E);S++)b[D++]=v[S];var C=o[i],I=o[i+1];(C!=255||I!=w)&&(b[D++]=C,b[D++]=I);for(var S=2;S<g;S++)b[D++]=o[i+S]}else for(var S=0;S<g;S++)b[S]=o[i+S];if(l.t262==32803){var T=l.t258[0],M=new LosslessJpegDecoder,P=M.decode(b),N=P.length;if(T==16)for(var S=0;S<N;S++)y[d++]=P[S]&255,y[d++]=P[S]>>>8;else if(T==12)for(var S=0;S<N;S+=2)y[d++]=P[S]>>>4,y[d++]=(P[S]<<4|P[S+1]>>>8)&255,y[d++]=P[S+1]&255;else throw new Error("unsupported bit depth "+T)}else{var G=new f.JpegDecoder;G.parse(b);for(var V=G.getData(G.width,G.height),S=0;S<V.length;S++)y[d+S]=V[S]}l.t262[0]==6&&(l.t262[0]=2)},f.decode._decodeOldJPEGInit=function(l,o,i,g){var y=216,d=217,v=219,p=196,b=221,w=192,E=218,D=0,S=0,C,I,T=!1,M,P,N,G=l.t513,V=G?G[0]:0,H=l.t514,R=H?H[0]:0,j=l.t324||l.t273||G,Y=l.t530,ne=0,re=0,ie=l.t277?l.t277[0]:1,W=l.t515;if(j&&(S=j[0],T=j.length>1),!T){if(o[i]==255&&o[i+1]==y)return{jpegOffset:i};if(G!=null&&(o[i+V]==255&&o[i+V+1]==y?D=i+V:_("JPEGInterchangeFormat does not point to SOI"),H==null?_("JPEGInterchangeFormatLength field is missing"):(V>=S||V+R<=S)&&_("JPEGInterchangeFormatLength field value is invalid"),D!=null))return{jpegOffset:D}}if(Y!=null&&(ne=Y[0],re=Y[1]),G!=null&&H!=null)if(R>=2&&V+R<=S){for(o[i+V+R-2]==255&&o[i+V+R-1]==y?C=new Uint8Array(R-2):C=new Uint8Array(R),M=0;M<C.length;M++)C[M]=o[i+V+M];_("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else _("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(C==null){var q=0,te=[];te[q++]=255,te[q++]=y;var K=l.t519;if(K==null)throw new Error("JPEGQTables tag is missing");for(M=0;M<K.length;M++)for(te[q++]=255,te[q++]=v,te[q++]=0,te[q++]=67,te[q++]=M,P=0;P<64;P++)te[q++]=o[i+K[M]+P];for(N=0;N<2;N++){var J=l[N==0?"t520":"t521"];if(J==null)throw new Error((N==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(M=0;M<J.length;M++){te[q++]=255,te[q++]=p;var le=19;for(P=0;P<16;P++)le+=o[i+J[M]+P];for(te[q++]=le>>>8,te[q++]=le&255,te[q++]=M|N<<4,P=0;P<16;P++)te[q++]=o[i+J[M]+P];for(P=0;P<le;P++)te[q++]=o[i+J[M]+16+P]}}if(te[q++]=255,te[q++]=w,te[q++]=0,te[q++]=8+3*ie,te[q++]=8,te[q++]=l.height>>>8&255,te[q++]=l.height&255,te[q++]=l.width>>>8&255,te[q++]=l.width&255,te[q++]=ie,ie==1)te[q++]=1,te[q++]=17,te[q++]=0;else for(M=0;M<3;M++)te[q++]=M+1,te[q++]=M!=0?17:(ne&15)<<4|re&15,te[q++]=M;W!=null&&W[0]!=0&&(te[q++]=255,te[q++]=b,te[q++]=0,te[q++]=4,te[q++]=W[0]>>>8&255,te[q++]=W[0]&255),C=new Uint8Array(te)}var se=-1;for(M=0;M<C.length-1;){if(C[M]==255&&C[M+1]==w){se=M;break}M++}if(se==-1){var _e=new Uint8Array(C.length+10+3*ie);_e.set(C);var ge=C.length;if(se=C.length,C=_e,C[ge++]=255,C[ge++]=w,C[ge++]=0,C[ge++]=8+3*ie,C[ge++]=8,C[ge++]=l.height>>>8&255,C[ge++]=l.height&255,C[ge++]=l.width>>>8&255,C[ge++]=l.width&255,C[ge++]=ie,ie==1)C[ge++]=1,C[ge++]=17,C[ge++]=0;else for(M=0;M<3;M++)C[ge++]=M+1,C[ge++]=M!=0?17:(ne&15)<<4|re&15,C[ge++]=M}if(o[S]==255&&o[S+1]==E){var Ee=o[S+2]<<8|o[S+3];for(I=new Uint8Array(Ee+2),I[0]=o[S],I[1]=o[S+1],I[2]=o[S+2],I[3]=o[S+3],M=0;M<Ee-2;M++)I[M+4]=o[S+M+4]}else{I=new Uint8Array(8+2*ie);var ae=0;if(I[ae++]=255,I[ae++]=E,I[ae++]=0,I[ae++]=6+2*ie,I[ae++]=ie,ie==1)I[ae++]=1,I[ae++]=0;else for(M=0;M<3;M++)I[ae++]=M+1,I[ae++]=M<<4|M;I[ae++]=0,I[ae++]=63,I[ae++]=0}return{jpegOffset:i,tables:C,sosMarker:I,sofPosition:se}},f.decode._decodeOldJPEG=function(l,o,i,g,y,d){var v,p,b,w,E,D=f.decode._decodeOldJPEGInit(l,o,i,g);if(D.jpegOffset!=null)for(p=i+g-D.jpegOffset,w=new Uint8Array(p),v=0;v<p;v++)w[v]=o[D.jpegOffset+v];else{for(b=D.tables.length,w=new Uint8Array(b+D.sosMarker.length+g+2),w.set(D.tables),E=b,w[D.sofPosition+5]=l.height>>>8&255,w[D.sofPosition+6]=l.height&255,w[D.sofPosition+7]=l.width>>>8&255,w[D.sofPosition+8]=l.width&255,(o[i]!=255||o[i+1]!=SOS)&&(w.set(D.sosMarker,bufoff),bufoff+=sosMarker.length),v=0;v<g;v++)w[bufoff++]=o[i+v];w[bufoff++]=255,w[bufoff++]=EOI}var S=new f.JpegDecoder;S.parse(w);for(var C=S.getData(S.width,S.height),v=0;v<C.length;v++)y[d+v]=C[v];l.t262[0]==6&&(l.t262[0]=2)},f.decode._decodePackBits=function(l,o,i,g,y){for(var d=new Int8Array(l.buffer),v=new Int8Array(g.buffer),p=o+i;o<p;){var b=d[o];if(o++,b>=0&&b<128)for(var w=0;w<b+1;w++)v[y]=d[o],y++,o++;if(b>=-127&&b<0){for(var w=0;w<-b+1;w++)v[y]=d[o],y++;o++}}},f.decode._decodeThunder=function(l,o,i,g,y){for(var d=[0,1,0,-1],v=[0,1,2,3,0,-3,-2,-1],p=o+i,b=y*2,w=0;o<p;){var E=l[o],D=E>>>6,S=E&63;if(o++,D==3&&(w=S&15,g[b>>>1]|=w<<4*(1-b&1),b++),D==0)for(var C=0;C<S;C++)g[b>>>1]|=w<<4*(1-b&1),b++;if(D==2)for(var C=0;C<2;C++){var I=S>>>3*(1-C)&7;I!=4&&(w+=v[I],g[b>>>1]|=w<<4*(1-b&1),b++)}if(D==1)for(var C=0;C<3;C++){var I=S>>>2*(2-C)&3;I!=2&&(w+=d[I],g[b>>>1]|=w<<4*(1-b&1),b++)}}},f.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},f.decode._lens=function(){var l=function(b,w,E,D){for(var S=0;S<w.length;S++)b[w[S]]=E+S*D},o="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",i="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",g="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",y="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",d="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";o=o.split(","),i=i.split(","),g=g.split(","),y=y.split(","),d=d.split(",");var v={},p={};return l(v,o,0,1),l(v,g,64,64),l(v,d,1792,64),l(p,i,0,1),l(p,y,64,64),l(p,d,1792,64),[v,p]}(),f.decode._decodeG4=function(l,o,i,g,y,d,v){for(var p=f.decode,b=o<<3,w=0,E="",D=[],S=[],C=0;C<d;C++)S.push(0);S=p._makeDiff(S);for(var I=0,T=0,M=0,P=0,N=0,G=0,V=0,H="",R=0,j=Math.ceil(d/8)*8;b>>>3<o+i;){P=p._findDiff(S,I+(I==0?0:1),1-G),N=p._findDiff(S,P,G);var Y=0;if(v==1&&(Y=l[b>>>3]>>>7-(b&7)&1),v==2&&(Y=l[b>>>3]>>>(b&7)&1),b++,E+=Y,H=="H"){if(p._lens[G][E]!=null){var ne=p._lens[G][E];E="",w+=ne,ne<64&&(p._addNtimes(D,w,G),I+=w,G=1-G,w=0,R--,R==0&&(H=""))}}else E=="0001"&&(E="",p._addNtimes(D,N-I,G),I=N),E=="001"&&(E="",H="H",R=2),p._dmap[E]!=null&&(T=P+p._dmap[E],p._addNtimes(D,T-I,G),I=T,E="",G=1-G);D.length==d&&H==""&&(p._writeBits(D,g,y*8+V*j),G=0,V++,I=0,S=p._makeDiff(D),D=[])}},f.decode._findDiff=function(l,o,i){for(var g=0;g<l.length;g+=2)if(l[g]>=o&&l[g+1]==i)return l[g]},f.decode._makeDiff=function(l){var o=[];l[0]==1&&o.push(0,1);for(var i=1;i<l.length;i++)l[i-1]!=l[i]&&o.push(i,l[i]);return o.push(l.length,0,l.length,1),o},f.decode._decodeG3=function(l,o,i,g,y,d,v){for(var p=f.decode,b=o<<3,w=0,E="",D=[],S=[],C=0;C<d;C++)D.push(0);for(var I=0,T=0,M=0,P=0,N=0,G=0,V=-1,H="",R=0,j=!1,Y=Math.ceil(d/8)*8;b>>>3<o+i;){P=p._findDiff(S,I+(I==0?0:1),1-G),N=p._findDiff(S,P,G);var ne=0;if(v==1&&(ne=l[b>>>3]>>>7-(b&7)&1),v==2&&(ne=l[b>>>3]>>>(b&7)&1),b++,E+=ne,j){if(p._lens[G][E]!=null){var re=p._lens[G][E];E="",w+=re,re<64&&(p._addNtimes(D,w,G),G=1-G,w=0)}}else if(H=="H"){if(p._lens[G][E]!=null){var re=p._lens[G][E];E="",w+=re,re<64&&(p._addNtimes(D,w,G),I+=w,G=1-G,w=0,R--,R==0&&(H=""))}}else E=="0001"&&(E="",p._addNtimes(D,N-I,G),I=N),E=="001"&&(E="",H="H",R=2),p._dmap[E]!=null&&(T=P+p._dmap[E],p._addNtimes(D,T-I,G),I=T,E="",G=1-G);E.endsWith("000000000001")&&(V>=0&&p._writeBits(D,g,y*8+V*Y),v==1&&(j=(l[b>>>3]>>>7-(b&7)&1)==1),v==2&&(j=(l[b>>>3]>>>(b&7)&1)==1),b++,p._decodeG3.allow2D==null&&(p._decodeG3.allow2D=j),p._decodeG3.allow2D||(j=!0,b--),E="",G=0,V++,I=0,S=p._makeDiff(D),D=[])}D.length==d&&p._writeBits(D,g,y*8+V*Y)},f.decode._addNtimes=function(l,o,i){for(var g=0;g<o;g++)l.push(i)},f.decode._writeBits=function(l,o,i){for(var g=0;g<l.length;g++)o[i+g>>>3]|=l[g]<<7-(i+g&7)},f.decode._decodeLZW=function(l,o,i,g){if(f.decode._lzwTab==null){for(var y=new Uint32Array(65535),d=new Uint16Array(65535),E=new Uint8Array(2e6),v=0;v<256;v++)E[v<<2]=v,y[v]=v<<2,d[v]=1;f.decode._lzwTab=[y,d,E]}for(var p=f.decode._copyData,b=f.decode._lzwTab[0],w=f.decode._lzwTab[1],E=f.decode._lzwTab[2],D=258,S=1032,C=9,I=o<<3,T=256,M=257,P=0,N=0,G=0;P=l[I>>>3]<<16|l[I+8>>>3]<<8|l[I+16>>>3],N=P>>24-(I&7)-C&(1<<C)-1,I+=C,N!=M;){if(N==T){if(C=9,D=258,S=1032,P=l[I>>>3]<<16|l[I+8>>>3]<<8|l[I+16>>>3],N=P>>24-(I&7)-C&(1<<C)-1,I+=C,N==M)break;i[g]=N,g++}else if(N<D){var V=b[N],H=w[N];if(p(E,V,i,g,H),g+=H,G>=D)b[D]=S,E[b[D]]=V[0],w[D]=1,S=S+1+3&-4,D++;else{b[D]=S;var R=b[G],j=w[G];p(E,R,E,S,j),E[S+j]=E[V],j++,w[D]=j,D++,S=S+j+3&-4}D+1==1<<C&&C++}else{if(G>=D)b[D]=S,w[D]=0,D++;else{b[D]=S;var R=b[G],j=w[G];p(E,R,E,S,j),E[S+j]=E[S],j++,w[D]=j,D++,p(E,S,i,g,j),g+=j,S=S+j+3&-4}D+1==1<<C&&C++}G=N}},f.decode._copyData=function(l,o,i,g,y){for(var d=0;d<y;d+=4)i[g+d]=l[o+d],i[g+d+1]=l[o+d+1],i[g+d+2]=l[o+d+2],i[g+d+3]=l[o+d+3]},f.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},f.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},f._readIFD=function(l,o,i,g){var y=l.readUshort(o,i);i+=2;var d={};g.push(d);for(var v=0;v<y;v++){var p=l.readUshort(o,i);i+=2;var b=l.readUshort(o,i);i+=2;var w=l.readUint(o,i);i+=4;var E=l.readUint(o,i);i+=4;var D=[];if(d["t"+p]=D,b==1||b==7)for(var S=0;S<w;S++)D.push(o[(w<5?i-4:E)+S]);if(b==2&&D.push(l.readASCII(o,w<5?i-4:E,w-1)),b==3)for(var S=0;S<w;S++)D.push(l.readUshort(o,(w<3?i-4:E)+2*S));if(b==4)for(var S=0;S<w;S++)D.push(l.readUint(o,(w<2?i-4:E)+4*S));if(b==5)for(var S=0;S<w;S++)D.push(l.readUint(o,E+S*8)/l.readUint(o,E+S*8+4));if(b==8)for(var S=0;S<w;S++)D.push(l.readShort(o,(w<3?i-4:E)+2*S));if(b==9)for(var S=0;S<w;S++)D.push(l.readInt(o,(w<2?i-4:E)+4*S));if(b==10)for(var S=0;S<w;S++)D.push(l.readInt(o,E+S*8)/l.readInt(o,E+S*8+4));if(b==11)for(var S=0;S<w;S++)D.push(l.readFloat(o,E+S*4));if(b==12)for(var S=0;S<w;S++)D.push(l.readDouble(o,E+S*8));if(w!=0&&D.length==0&&_("unknown TIFF tag type: ",b,"num:",w),p==330)for(var S=0;S<w;S++)f._readIFD(l,o,D[S],g)}return i},f._writeIFD=function(l,o,i,g){var y=Object.keys(g);l.writeUshort(o,i,y.length),i+=2;for(var d=i+y.length*12+4,v=0;v<y.length;v++){var p=y[v],b=parseInt(p.slice(1)),w=f.ttypes[b];if(w==null)throw new Error("unknown type of tag: "+b);var E=g[p];w==2&&(E=E[0]+"\0");var D=E.length;l.writeUshort(o,i,b),i+=2,l.writeUshort(o,i,w),i+=2,l.writeUint(o,i,D),i+=4;var S=[-1,1,1,2,4,8,0,0,0,0,0,0,8][w]*D,C=i;if(S>4&&(l.writeUint(o,i,d),C=d),w==2&&l.writeASCII(o,C,E),w==3)for(var I=0;I<D;I++)l.writeUshort(o,C+2*I,E[I]);if(w==4)for(var I=0;I<D;I++)l.writeUint(o,C+4*I,E[I]);if(w==5)for(var I=0;I<D;I++)l.writeUint(o,C+8*I,Math.round(E[I]*1e4)),l.writeUint(o,C+8*I+4,1e4);if(w==12)for(var I=0;I<D;I++)l.writeDouble(o,C+8*I,E[I]);S>4&&(S+=S&1,d+=S),i+=4}return[i,d]},f.toRGBA8=function(l){var o=l.width,i=l.height,g=o*i,y=g*4,d=l.data,v=new Uint8Array(g*4),p=l.t262[0],b=l.t258?Math.min(32,l.t258[0]):1,w=l.isLE?1:0;if(p==0)for(var E=Math.ceil(b*o/8),D=0;D<i;D++){var S=D*E,C=D*o;if(b==1)for(var I=0;I<o;I++){var T=C+I<<2,M=d[S+(I>>3)]>>7-(I&7)&1;v[T]=v[T+1]=v[T+2]=(1-M)*255,v[T+3]=255}if(b==4)for(var I=0;I<o;I++){var T=C+I<<2,M=d[S+(I>>1)]>>4-4*(I&1)&15;v[T]=v[T+1]=v[T+2]=(15-M)*17,v[T+3]=255}if(b==8)for(var I=0;I<o;I++){var T=C+I<<2,M=d[S+I];v[T]=v[T+1]=v[T+2]=255-M,v[T+3]=255}}else if(p==1)for(var E=Math.ceil(b*o/8),D=0;D<i;D++){var S=D*E,C=D*o;if(b==1)for(var I=0;I<o;I++){var T=C+I<<2,M=d[S+(I>>3)]>>7-(I&7)&1;v[T]=v[T+1]=v[T+2]=M*255,v[T+3]=255}if(b==2)for(var I=0;I<o;I++){var T=C+I<<2,M=d[S+(I>>2)]>>6-2*(I&3)&3;v[T]=v[T+1]=v[T+2]=M*85,v[T+3]=255}if(b==8)for(var I=0;I<o;I++){var T=C+I<<2,M=d[S+I];v[T]=v[T+1]=v[T+2]=M,v[T+3]=255}if(b==16)for(var I=0;I<o;I++){var T=C+I<<2,M=d[S+(2*I+w)];v[T]=v[T+1]=v[T+2]=Math.min(255,M),v[T+3]=255}}else if(p==2)if(b==8)if(l.t338)if(l.t338[0]>0)for(var I=0;I<y;I++)v[I]=d[I];else for(var I=0;I<y;I+=4)v[I]=d[I],v[I+1]=d[I+1],v[I+2]=d[I+2],v[I+3]=255;else{var P=l.t258?l.t258.length:3;if(P==4)for(var I=0;I<y;I++)v[I]=d[I];if(P==3)for(var I=0;I<g;I++){var T=I<<2,N=I*3;v[T]=d[N],v[T+1]=d[N+1],v[T+2]=d[N+2],v[T+3]=255}}else for(var I=0;I<g;I++){var T=I<<2,N=I*6;v[T]=d[N],v[T+1]=d[N+2],v[T+2]=d[N+4],v[T+3]=255}else if(p==3)for(var G=l.t320,I=0;I<g;I++){var T=I<<2,V=d[I];v[T]=G[V]>>8,v[T+1]=G[256+V]>>8,v[T+2]=G[512+V]>>8,v[T+3]=255}else if(p==5)for(var P=l.t258?l.t258.length:4,H=P>4?1:0,I=0;I<g;I++){var T=I<<2,R=I*P,j=255-d[R],Y=255-d[R+1],ne=255-d[R+2],re=(255-d[R+3])*(1/255);v[T]=~~(j*re+.5),v[T+1]=~~(Y*re+.5),v[T+2]=~~(ne*re+.5),v[T+3]=255*(1-H)+d[R+4]*H}else _("Unknown Photometric interpretation: "+p);return v},f.replaceIMG=function(){for(var l=document.getElementsByTagName("img"),o=0;o<l.length;o++){var i=l[o],g=i.getAttribute("src");if(g!=null){var y=g.split(".").pop().toLowerCase();if(!(y!="tif"&&y!="tiff")){var d=new XMLHttpRequest;f._xhrs.push(d),f._imgs.push(i),d.open("GET",g),d.responseType="arraybuffer",d.onload=f._imgLoaded,d.send()}}}},f._xhrs=[],f._imgs=[],f._imgLoaded=function(l){var o=l.target.response,i=f.decode(o),g=i[0];f.decodeImages(o,i);var y=f.toRGBA8(g),d=g.width,v=g.height,p=f._xhrs.indexOf(l.target),b=f._imgs[p];f._xhrs.splice(p,1),f._imgs.splice(p,1);var w=document.createElement("canvas");w.width=d,w.height=v;for(var E=w.getContext("2d"),D=E.createImageData(d,v),S=0;S<y.length;S++)D.data[S]=y[S];E.putImageData(D,0,0);for(var C=["style","class","id"],S=0;S<C.length;S++)w.setAttribute(C[S],b.getAttribute(C[S]));b.parentNode.replaceChild(w,b)},f._binBE={nextZero:function(l,o){for(;l[o]!=0;)o++;return o},readUshort:function(l,o){return l[o]<<8|l[o+1]},readShort:function(l,o){var i=f._binBE.ui8;return i[0]=l[o+1],i[1]=l[o+0],f._binBE.i16[0]},readInt:function(l,o){var i=f._binBE.ui8;return i[0]=l[o+3],i[1]=l[o+2],i[2]=l[o+1],i[3]=l[o+0],f._binBE.i32[0]},readUint:function(l,o){var i=f._binBE.ui8;return i[0]=l[o+3],i[1]=l[o+2],i[2]=l[o+1],i[3]=l[o+0],f._binBE.ui32[0]},readASCII:function(l,o,i){for(var g="",y=0;y<i;y++)g+=String.fromCharCode(l[o+y]);return g},readFloat:function(l,o){for(var i=f._binBE.ui8,g=0;g<4;g++)i[g]=l[o+3-g];return f._binBE.fl32[0]},readDouble:function(l,o){for(var i=f._binBE.ui8,g=0;g<8;g++)i[g]=l[o+7-g];return f._binBE.fl64[0]},writeUshort:function(l,o,i){l[o]=i>>8&255,l[o+1]=i&255},writeUint:function(l,o,i){l[o]=i>>24&255,l[o+1]=i>>16&255,l[o+2]=i>>8&255,l[o+3]=i>>0&255},writeASCII:function(l,o,i){for(var g=0;g<i.length;g++)l[o+g]=i.charCodeAt(g)},writeDouble:function(l,o,i){f._binBE.fl64[0]=i;for(var g=0;g<8;g++)l[o+g]=f._binBE.ui8[7-g]}},f._binBE.ui8=new Uint8Array(8),f._binBE.i16=new Int16Array(f._binBE.ui8.buffer),f._binBE.i32=new Int32Array(f._binBE.ui8.buffer),f._binBE.ui32=new Uint32Array(f._binBE.ui8.buffer),f._binBE.fl32=new Float32Array(f._binBE.ui8.buffer),f._binBE.fl64=new Float64Array(f._binBE.ui8.buffer),f._binLE={nextZero:f._binBE.nextZero,readUshort:function(l,o){return l[o+1]<<8|l[o]},readShort:function(l,o){var i=f._binBE.ui8;return i[0]=l[o+0],i[1]=l[o+1],f._binBE.i16[0]},readInt:function(l,o){var i=f._binBE.ui8;return i[0]=l[o+0],i[1]=l[o+1],i[2]=l[o+2],i[3]=l[o+3],f._binBE.i32[0]},readUint:function(l,o){var i=f._binBE.ui8;return i[0]=l[o+0],i[1]=l[o+1],i[2]=l[o+2],i[3]=l[o+3],f._binBE.ui32[0]},readASCII:f._binBE.readASCII,readFloat:function(l,o){for(var i=f._binBE.ui8,g=0;g<4;g++)i[g]=l[o+g];return f._binBE.fl32[0]},readDouble:function(l,o){for(var i=f._binBE.ui8,g=0;g<8;g++)i[g]=l[o+g];return f._binBE.fl64[0]}},f._copyTile=function(l,o,i,g,y,d,v,p){for(var b=Math.min(o,y-v),w=Math.min(i,d-p),E=0;E<w;E++)for(var D=(p+E)*y+v,S=E*o,C=0;C<b;C++)g[D+C]=l[S+C]}})(c,m)})()}).call(this,n("_process"))},{_process:133,pako:86}],183:[function(n,a,s){(function(u){a.exports=c;function c(_,f){if(m("noDeprecation"))return _;var h=!1;function l(){if(!h){if(m("throwDeprecation"))throw new Error(f);m("traceDeprecation")?console.trace(f):console.warn(f),h=!0}return _.apply(this,arguments)}return l}function m(_){try{if(!u.localStorage)return!1}catch{return!1}var f=u.localStorage[_];return f==null?!1:String(f).toLowerCase()==="true"}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof ze<"u"?ze:{})},{}],184:[function(n,a,s){arguments[4][26][0].apply(s,arguments)},{dup:26}],185:[function(n,a,s){arguments[4][27][0].apply(s,arguments)},{dup:27}],186:[function(n,a,s){arguments[4][28][0].apply(s,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(n,a,s){"use strict";var u=n("global/window"),c=n("is-function"),m=n("parse-headers"),_=n("xtend");a.exports=o,a.exports.default=o,o.XMLHttpRequest=u.XMLHttpRequest||y,o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:u.XDomainRequest,f(["get","put","post","patch","head","delete"],function(d){o[d==="delete"?"del":d]=function(v,p,b){return p=l(v,p,b),p.method=d.toUpperCase(),i(p)}});function f(d,v){for(var p=0;p<d.length;p++)v(d[p])}function h(d){for(var v in d)if(d.hasOwnProperty(v))return!1;return!0}function l(d,v,p){var b=d;return c(v)?(p=v,typeof d=="string"&&(b={uri:d})):b=_(v,{uri:d}),b.callback=p,b}function o(d,v,p){return v=l(d,v,p),i(v)}function i(d){if(typeof d.callback>"u")throw new Error("callback argument missing");var v=!1,p=function(Y,ne,re){v||(v=!0,d.callback(Y,ne,re))};function b(){S.readyState===4&&setTimeout(D,0)}function w(){var j=void 0;if(S.response?j=S.response:j=S.responseText||g(S),V)try{j=JSON.parse(j)}catch{}return j}function E(j){return clearTimeout(H),j instanceof Error||(j=new Error(""+(j||"Unknown XMLHttpRequest Error"))),j.statusCode=0,p(j,R)}function D(){if(!I){var j;clearTimeout(H),d.useXDR&&S.status===void 0?j=200:j=S.status===1223?204:S.status;var Y=R,ne=null;return j!==0?(Y={body:w(),statusCode:j,method:M,headers:{},url:T,rawRequest:S},S.getAllResponseHeaders&&(Y.headers=m(S.getAllResponseHeaders()))):ne=new Error("Internal XMLHttpRequest Error"),p(ne,Y,Y.body)}}var S=d.xhr||null;S||(d.cors||d.useXDR?S=new o.XDomainRequest:S=new o.XMLHttpRequest);var C,I,T=S.url=d.uri||d.url,M=S.method=d.method||"GET",P=d.body||d.data,N=S.headers=d.headers||{},G=!!d.sync,V=!1,H,R={body:void 0,headers:{},statusCode:0,method:M,url:T,rawRequest:S};if("json"in d&&d.json!==!1&&(V=!0,N.accept||N.Accept||(N.Accept="application/json"),M!=="GET"&&M!=="HEAD"&&(N["content-type"]||N["Content-Type"]||(N["Content-Type"]="application/json"),P=JSON.stringify(d.json===!0?P:d.json))),S.onreadystatechange=b,S.onload=D,S.onerror=E,S.onprogress=function(){},S.onabort=function(){I=!0},S.ontimeout=E,S.open(M,T,!G,d.username,d.password),G||(S.withCredentials=!!d.withCredentials),!G&&d.timeout>0&&(H=setTimeout(function(){if(!I){I=!0,S.abort("timeout");var j=new Error("XMLHttpRequest timeout");j.code="ETIMEDOUT",E(j)}},d.timeout)),S.setRequestHeader)for(C in N)N.hasOwnProperty(C)&&S.setRequestHeader(C,N[C]);else if(d.headers&&!h(d.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in d&&(S.responseType=d.responseType),"beforeSend"in d&&typeof d.beforeSend=="function"&&d.beforeSend(S),S.send(P||null),S}function g(d){try{if(d.responseType==="document")return d.responseXML;var v=d.responseXML&&d.responseXML.documentElement.nodeName==="parsererror";if(d.responseType===""&&!v)return d.responseXML}catch{}return null}function y(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(n,a,s){a.exports=function(){return typeof self.DOMParser<"u"?function(c){var m=new self.DOMParser;return m.parseFromString(c,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(c){var m=new self.ActiveXObject("Microsoft.XMLDOM");return m.async="false",m.loadXML(c),m}:function(c){var m=document.createElement("div");return m.innerHTML=c,m}}()},{}],189:[function(n,a,s){a.exports=c;var u=Object.prototype.hasOwnProperty;function c(){for(var m={},_=0;_<arguments.length;_++){var f=arguments[_];for(var h in f)u.call(f,h)&&(m[h]=f[h])}return m}},{}],190:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.srcOver=u,s.dstOver=c,s.multiply=m,s.add=_,s.screen=f,s.overlay=h,s.darken=l,s.lighten=o,s.hardLight=i,s.difference=g,s.exclusion=y;function u(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=(d.r*d.a+v.r*v.a*(1-d.a))/b,E=(d.g*d.a+v.g*v.a*(1-d.a))/b,D=(d.b*d.a+v.b*v.a*(1-d.a))/b;return{r:w,g:E,b:D,a:b}}function c(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=(v.r*v.a+d.r*d.a*(1-v.a))/b,E=(v.g*v.a+d.g*d.a*(1-v.a))/b,D=(v.b*v.a+d.b*d.a*(1-v.a))/b;return{r:w,g:E,b:D,a:b}}function m(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=d.r*d.a,E=d.g*d.a,D=d.b*d.a,S=v.r*v.a,C=v.g*v.a,I=v.b*v.a,T=(w*S+w*(1-v.a)+S*(1-d.a))/b,M=(E*C+E*(1-v.a)+C*(1-d.a))/b,P=(D*I+D*(1-v.a)+I*(1-d.a))/b;return{r:T,g:M,b:P,a:b}}function _(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=d.r*d.a,E=d.g*d.a,D=d.b*d.a,S=v.r*v.a,C=v.g*v.a,I=v.b*v.a,T=(w+S)/b,M=(E+C)/b,P=(D+I)/b;return{r:T,g:M,b:P,a:b}}function f(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=d.r*d.a,E=d.g*d.a,D=d.b*d.a,S=v.r*v.a,C=v.g*v.a,I=v.b*v.a,T=(w*v.a+S*d.a-w*S+w*(1-v.a)+S*(1-d.a))/b,M=(E*v.a+C*d.a-E*C+E*(1-v.a)+C*(1-d.a))/b,P=(D*v.a+I*d.a-D*I+D*(1-v.a)+I*(1-d.a))/b;return{r:T,g:M,b:P,a:b}}function h(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=d.r*d.a,E=d.g*d.a,D=d.b*d.a,S=v.r*v.a,C=v.g*v.a,I=v.b*v.a,T=(2*S<=v.a?2*w*S+w*(1-v.a)+S*(1-d.a):w*(1+v.a)+S*(1+d.a)-2*S*w-v.a*d.a)/b,M=(2*C<=v.a?2*E*C+E*(1-v.a)+C*(1-d.a):E*(1+v.a)+C*(1+d.a)-2*C*E-v.a*d.a)/b,P=(2*I<=v.a?2*D*I+D*(1-v.a)+I*(1-d.a):D*(1+v.a)+I*(1+d.a)-2*I*D-v.a*d.a)/b;return{r:T,g:M,b:P,a:b}}function l(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=d.r*d.a,E=d.g*d.a,D=d.b*d.a,S=v.r*v.a,C=v.g*v.a,I=v.b*v.a,T=(Math.min(w*v.a,S*d.a)+w*(1-v.a)+S*(1-d.a))/b,M=(Math.min(E*v.a,C*d.a)+E*(1-v.a)+C*(1-d.a))/b,P=(Math.min(D*v.a,I*d.a)+D*(1-v.a)+I*(1-d.a))/b;return{r:T,g:M,b:P,a:b}}function o(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=d.r*d.a,E=d.g*d.a,D=d.b*d.a,S=v.r*v.a,C=v.g*v.a,I=v.b*v.a,T=(Math.max(w*v.a,S*d.a)+w*(1-v.a)+S*(1-d.a))/b,M=(Math.max(E*v.a,C*d.a)+E*(1-v.a)+C*(1-d.a))/b,P=(Math.max(D*v.a,I*d.a)+D*(1-v.a)+I*(1-d.a))/b;return{r:T,g:M,b:P,a:b}}function i(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=d.r*d.a,E=d.g*d.a,D=d.b*d.a,S=v.r*v.a,C=v.g*v.a,I=v.b*v.a,T=(2*w<=d.a?2*w*S+w*(1-v.a)+S*(1-d.a):w*(1+v.a)+S*(1+d.a)-2*S*w-v.a*d.a)/b,M=(2*E<=d.a?2*E*C+E*(1-v.a)+C*(1-d.a):E*(1+v.a)+C*(1+d.a)-2*C*E-v.a*d.a)/b,P=(2*D<=d.a?2*D*I+D*(1-v.a)+I*(1-d.a):D*(1+v.a)+I*(1+d.a)-2*I*D-v.a*d.a)/b;return{r:T,g:M,b:P,a:b}}function g(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=d.r*d.a,E=d.g*d.a,D=d.b*d.a,S=v.r*v.a,C=v.g*v.a,I=v.b*v.a,T=(w+S-2*Math.min(w*v.a,S*d.a))/b,M=(E+C-2*Math.min(E*v.a,C*d.a))/b,P=(D+I-2*Math.min(D*v.a,I*d.a))/b;return{r:T,g:M,b:P,a:b}}function y(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;d.a*=p;var b=v.a+d.a-v.a*d.a,w=d.r*d.a,E=d.g*d.a,D=d.b*d.a,S=v.r*v.a,C=v.g*v.a,I=v.b*v.a,T=(w*v.a+S*d.a-2*w*S+w*(1-v.a)+S*(1-d.a))/b,M=(E*v.a+C*d.a-2*E*C+E*(1-v.a)+C*(1-d.a))/b,P=(D*v.a+I*d.a-2*D*I+D*(1-v.a)+I*(1-d.a))/b;return{r:T,g:M,b:P,a:b}}},{}],191:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(s,"__esModule",{value:!0}),s.default=f;var c=n("@jimp/utils"),m=u(n("../constants")),_=u(n("./composite-modes"));function f(h,l,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=arguments.length>4?arguments[4]:void 0;if(typeof i=="function"&&(g=i,i={}),!(h instanceof this.constructor))return c.throwError.call(this,"The source must be a Jimp image",g);if(typeof l!="number"||typeof o!="number")return c.throwError.call(this,"x and y must be numbers",g);var y=i,d=y.mode,v=y.opacitySource,p=y.opacityDest;d||(d=m.BLEND_SOURCE_OVER),(typeof v!="number"||v<0||v>1)&&(v=1),(typeof p!="number"||p<0||p>1)&&(p=1);var b=_[d];l=Math.round(l),o=Math.round(o);var w=this;return p!==1&&w.opacity(p),h.scanQuiet(0,0,h.bitmap.width,h.bitmap.height,function(E,D,S){var C=w.getPixelIndex(l+E,o+D,m.EDGE_CROP),I=b({r:this.bitmap.data[S+0]/255,g:this.bitmap.data[S+1]/255,b:this.bitmap.data[S+2]/255,a:this.bitmap.data[S+3]/255},{r:w.bitmap.data[C+0]/255,g:w.bitmap.data[C+1]/255,b:w.bitmap.data[C+2]/255,a:w.bitmap.data[C+3]/255},v);w.bitmap.data[C+0]=this.constructor.limit255(I.r*255),w.bitmap.data[C+1]=this.constructor.limit255(I.g*255),w.bitmap.data[C+2]=this.constructor.limit255(I.b*255),w.bitmap.data[C+3]=this.constructor.limit255(I.a*255)}),(0,c.isNodePattern)(g)&&g.call(this,null,this),this}a.exports=s.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.EDGE_CROP=s.EDGE_WRAP=s.EDGE_EXTEND=s.BLEND_EXCLUSION=s.BLEND_DIFFERENCE=s.BLEND_HARDLIGHT=s.BLEND_LIGHTEN=s.BLEND_DARKEN=s.BLEND_OVERLAY=s.BLEND_SCREEN=s.BLEND_ADD=s.BLEND_MULTIPLY=s.BLEND_DESTINATION_OVER=s.BLEND_SOURCE_OVER=s.VERTICAL_ALIGN_BOTTOM=s.VERTICAL_ALIGN_MIDDLE=s.VERTICAL_ALIGN_TOP=s.HORIZONTAL_ALIGN_RIGHT=s.HORIZONTAL_ALIGN_CENTER=s.HORIZONTAL_ALIGN_LEFT=s.AUTO=void 0;var u=-1;s.AUTO=u;var c=1;s.HORIZONTAL_ALIGN_LEFT=c;var m=2;s.HORIZONTAL_ALIGN_CENTER=m;var _=4;s.HORIZONTAL_ALIGN_RIGHT=_;var f=8;s.VERTICAL_ALIGN_TOP=f;var h=16;s.VERTICAL_ALIGN_MIDDLE=h;var l=32;s.VERTICAL_ALIGN_BOTTOM=l;var o="srcOver";s.BLEND_SOURCE_OVER=o;var i="dstOver";s.BLEND_DESTINATION_OVER=i;var g="multiply";s.BLEND_MULTIPLY=g;var y="add";s.BLEND_ADD=y;var d="screen";s.BLEND_SCREEN=d;var v="overlay";s.BLEND_OVERLAY=v;var p="darken";s.BLEND_DARKEN=p;var b="lighten";s.BLEND_LIGHTEN=b;var w="hardLight";s.BLEND_HARDLIGHT=w;var E="difference";s.BLEND_DIFFERENCE=E;var D="exclusion";s.BLEND_EXCLUSION=D;var S=1;s.EDGE_EXTEND=S;var C=2;s.EDGE_WRAP=C;var I=3;s.EDGE_CROP=I},{}],193:[function(n,a,s){(function(u){"use strict";var c=n("@babel/runtime/helpers/interopRequireWildcard"),m=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.addConstants=_e,s.addJimpMethods=ge,s.jimpEvMethod=Ee,s.jimpEvChange=ae,Object.defineProperty(s,"addType",{enumerable:!0,get:function(){return G.addType}}),s.default=void 0;for(var _=m(n("@babel/runtime/helpers/construct")),f=m(n("@babel/runtime/helpers/slicedToArray")),h=m(n("@babel/runtime/helpers/classCallCheck")),l=m(n("@babel/runtime/helpers/createClass")),o=m(n("@babel/runtime/helpers/possibleConstructorReturn")),i=m(n("@babel/runtime/helpers/getPrototypeOf")),g=m(n("@babel/runtime/helpers/assertThisInitialized")),y=m(n("@babel/runtime/helpers/inherits")),d=m(n("@babel/runtime/helpers/defineProperty")),v=m(n("@babel/runtime/helpers/typeof")),p=m(n("fs")),b=m(n("path")),w=m(n("events")),E=n("@jimp/utils"),D=m(n("any-base")),S=m(n("mkdirp")),C=m(n("pixelmatch")),I=m(n("tinycolor2")),T=m(n("./modules/phash")),M=m(n("./request")),P=m(n("./composite")),N=m(n("./utils/promisify")),G=c(n("./utils/mime")),V=n("./utils/image-bitmap"),H=c(n("./constants")),R="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",j=[NaN,NaN],Y=2;Y<65;Y++){var ne=(0,D.default)(D.default.BIN,R.slice(0,Y))(new Array(65).join("1"));j.push(ne.length)}function re(){}function ie(Z){return Object.prototype.toString.call(Z).toLowerCase().indexOf("arraybuffer")>-1}function W(Z){for(var z=u.alloc(Z.byteLength),$=new Uint8Array(Z),O=0;O<z.length;++O)z[O]=$[O];return z}function q(Z,z){(0,M.default)(Z,function($,O,B){if($)return z($);if("headers"in O&&"location"in O.headers)return Z.url=O.headers.location,q(Z,z);if((0,v.default)(B)==="object"&&u.isBuffer(B))return z(null,B);var U="Could not load Buffer from <"+Z.url+"> (HTTP: "+O.statusCode+")";return new Error(U)})}function te(Z,z){p.default&&typeof p.default.readFile=="function"&&!Z.match(/^(http|ftp)s?:\/\/./)?p.default.readFile(Z,z):q({url:Z},z)}function K(Z){return Z&&(0,v.default)(Z)==="object"&&typeof Z.width=="number"&&typeof Z.height=="number"&&(u.isBuffer(Z.data)||Z.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&Z.data instanceof Uint8ClampedArray)&&(Z.data.length===Z.width*Z.height*4||Z.data.length===Z.width*Z.height*3)}function J(Z){if(Z.length%3!==0)throw new Error("Buffer length is incorrect");for(var z=u.allocUnsafe(Z.length/3*4),$=0,O=0;O<Z.length;O++)z[$]=Z[O],(O+1)%3===0&&(z[++$]=255),$++;return z}var le={data:null,width:null,height:null},se=function(Z){(0,y.default)(z,Z);function z(){for(var $,O=arguments.length,B=new Array(O),U=0;U<O;U++)B[U]=arguments[U];(0,h.default)(this,z),$=(0,o.default)(this,(0,i.default)(z).call(this)),(0,d.default)((0,g.default)($),"bitmap",le),(0,d.default)((0,g.default)($),"_background",0),(0,d.default)((0,g.default)($),"_originalMime",z.MIME_PNG),(0,d.default)((0,g.default)($),"_exif",null),(0,d.default)((0,g.default)($),"_rgba",!0),(0,d.default)((0,g.default)($),"writeAsync",function(je){return(0,N.default)($.write,(0,g.default)($),je)}),(0,d.default)((0,g.default)($),"getBase64Async",function(je){return(0,N.default)($.getBase64,(0,g.default)($),je)}),(0,d.default)((0,g.default)($),"getBuffer",V.getBuffer),(0,d.default)((0,g.default)($),"getBufferAsync",V.getBufferAsync),(0,d.default)((0,g.default)($),"getPixelColour",$.getPixelColor),(0,d.default)((0,g.default)($),"setPixelColour",$.setPixelColor);var A=(0,g.default)($),k=re;ie(B[0])&&(B[0]=W(B[0]));function ee(){for(var je=arguments.length,L=new Array(je),ce=0;ce<je;ce++)L[ce]=arguments[ce];var me=L[0],De=me||{};De.methodName="constructor",setTimeout(function(){var de;me&&k===re?A.emitError("constructor",me):me||A.emitMulti("constructor","initialized"),(de=k).call.apply(de,[A].concat(L))},1)}if(typeof B[0]=="number"&&typeof B[1]=="number"||parseInt(B[0],10)&&parseInt(B[1],10)){var he=parseInt(B[0],10),we=parseInt(B[1],10);if(k=B[2],typeof B[2]=="number"&&($._background=B[2],k=B[3]),typeof B[2]=="string"&&($._background=z.cssColorToHex(B[2]),k=B[3]),typeof k>"u"&&(k=re),typeof k!="function")return(0,o.default)($,E.throwError.call((0,g.default)($),"cb must be a function",ee));$.bitmap={data:u.alloc(he*we*4),width:he,height:we};for(var pe=0;pe<$.bitmap.data.length;pe+=4)$.bitmap.data.writeUInt32BE($._background,pe);ee(null,(0,g.default)($))}else if((0,v.default)(B[0])==="object"&&B[0].url){if(k=B[1]||re,typeof k!="function")return(0,o.default)($,E.throwError.call((0,g.default)($),"cb must be a function",ee));q(B[0],function(je,L){if(je)return E.throwError.call((0,g.default)($),je,ee);$.parseBitmap(L,B[0].url,ee)})}else if(B[0]instanceof z){var Ce=B[0];if(k=B[1],typeof k>"u"&&(k=re),typeof k!="function")return(0,o.default)($,E.throwError.call((0,g.default)($),"cb must be a function",ee));$.bitmap={data:u.from(Ce.bitmap.data),width:Ce.bitmap.width,height:Ce.bitmap.height},$._quality=Ce._quality,$._deflateLevel=Ce._deflateLevel,$._deflateStrategy=Ce._deflateStrategy,$._filterType=Ce._filterType,$._rgba=Ce._rgba,$._background=Ce._background,$._originalMime=Ce._originalMime,ee(null,(0,g.default)($))}else if(K(B[0])){var Me=B[0];k=B[1]||re;var Ae=Me.width*Me.height*4===Me.data.length,Oe=Ae?u.from(Me.data):J(Me.data);$.bitmap={data:Oe,width:Me.width,height:Me.height},ee(null,(0,g.default)($))}else if(typeof B[0]=="string"){var Ne=B[0];if(k=B[1],typeof k>"u"&&(k=re),typeof k!="function")return(0,o.default)($,E.throwError.call((0,g.default)($),"cb must be a function",ee));te(Ne,function(je,L){if(je)return E.throwError.call((0,g.default)($),je,ee);$.parseBitmap(L,Ne,ee)})}else if((0,v.default)(B[0])==="object"&&u.isBuffer(B[0])){var ke=B[0];if(k=B[1],typeof k!="function")return(0,o.default)($,E.throwError.call((0,g.default)($),"cb must be a function",ee));$.parseBitmap(ke,null,ee)}else{k=B[B.length-1],typeof k!="function"&&(k=B[B.length-2],typeof k!="function"&&(k=re));var Be=z.__extraConstructors.find(function(je){return je.test.apply(je,B)});if(Be)new Promise(function(je,L){var ce;return(ce=Be.run).call.apply(ce,[(0,g.default)($),je,L].concat(B))}).then(function(){return ee(null,(0,g.default)($))}).catch(ee);else return(0,o.default)($,E.throwError.call((0,g.default)($),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",ee))}return $}return(0,l.default)(z,[{key:"parseBitmap",value:function(O,B,U){V.parseBitmap.call(this,O,null,U)}},{key:"rgba",value:function(O,B){return typeof O!="boolean"?E.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",B):(this._rgba=O,(0,E.isNodePattern)(B)&&B.call(this,null,this),this)}},{key:"emitMulti",value:function(O,B){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};U=Object.assign(U,{methodName:O,eventName:B}),this.emit("any",U),O&&this.emit(O,U),this.emit(B,U)}},{key:"emitError",value:function(O,B){this.emitMulti(O,"error",B)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===le?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var O=this._originalMime||z.MIME_PNG;return O}},{key:"getExtension",value:function(){var O=this.getMIME();return G.getExtension(O)}},{key:"write",value:function(O,B){var U=this;if(!p.default||!p.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof O!="string")return E.throwError.call(this,"path must be a string",B);if(typeof B>"u"&&(B=re),typeof B!="function")return E.throwError.call(this,"cb must be a function",B);var A=G.getType(O)||this.getMIME(),k=b.default.parse(O);return k.dir&&S.default.sync(k.dir),this.getBuffer(A,function(ee,he){if(ee)return E.throwError.call(U,ee,B);var we=p.default.createWriteStream(O);we.on("open",function(){we.write(he),we.end()}).on("error",function(pe){return E.throwError.call(U,pe,B)}),we.on("finish",function(){B.call(U,null,U)})}),this}},{key:"getBase64",value:function(O,B){return O===z.AUTO&&(O=this.getMIME()),typeof O!="string"?E.throwError.call(this,"mime must be a string",B):typeof B!="function"?E.throwError.call(this,"cb must be a function",B):(this.getBuffer(O,function(U,A){if(U)return E.throwError.call(this,U,B);var k="data:"+O+";base64,"+A.toString("base64");B.call(this,null,k)}),this)}},{key:"hash",value:function(O,B){if(O=O||64,typeof O=="function"&&(B=O,O=64),typeof O!="number")return E.throwError.call(this,"base must be a number",B);if(O<2||O>64)return E.throwError.call(this,"base must be a number between 2 and 64",B);var U=this.pHash();for(U=(0,D.default)(D.default.BIN,R.slice(0,O))(U);U.length<j[O];)U="0"+U;return(0,E.isNodePattern)(B)&&B.call(this,null,U),U}},{key:"pHash",value:function(){var O=new T.default;return O.getHash(this)}},{key:"distanceFromHash",value:function(O){var B=new T.default,U=B.getHash(this);return B.distance(U,O)}},{key:"getPixelIndex",value:function(O,B,U,A){var k,ee;if(typeof U=="function"&&typeof A>"u"&&(A=U,U=null),U||(U=z.EDGE_EXTEND),typeof O!="number"||typeof B!="number")return E.throwError.call(this,"x and y must be numbers",A);O=Math.round(O),B=Math.round(B),k=O,ee=B,U===z.EDGE_EXTEND&&(O<0&&(k=0),O>=this.bitmap.width&&(k=this.bitmap.width-1),B<0&&(ee=0),B>=this.bitmap.height&&(ee=this.bitmap.height-1)),U===z.EDGE_WRAP&&(O<0&&(k=this.bitmap.width+O),O>=this.bitmap.width&&(k=O%this.bitmap.width),B<0&&(k=this.bitmap.height+B),B>=this.bitmap.height&&(ee=B%this.bitmap.height));var he=this.bitmap.width*ee+k<<2;return(k<0||k>=this.bitmap.width)&&(he=-1),(ee<0||ee>=this.bitmap.height)&&(he=-1),(0,E.isNodePattern)(A)&&A.call(this,null,he),he}},{key:"getPixelColor",value:function(O,B,U){if(typeof O!="number"||typeof B!="number")return E.throwError.call(this,"x and y must be numbers",U);O=Math.round(O),B=Math.round(B);var A=this.getPixelIndex(O,B),k=this.bitmap.data.readUInt32BE(A);return(0,E.isNodePattern)(U)&&U.call(this,null,k),k}},{key:"setPixelColor",value:function(O,B,U,A){if(typeof O!="number"||typeof B!="number"||typeof U!="number")return E.throwError.call(this,"hex, x and y must be numbers",A);B=Math.round(B),U=Math.round(U);var k=this.getPixelIndex(B,U);return this.bitmap.data.writeUInt32BE(O,k),(0,E.isNodePattern)(A)&&A.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var O=0;O<this.bitmap.height;O++)for(var B=0;B<this.bitmap.width;B++){var U=this.bitmap.width*O+B<<2,A=this.bitmap.data[U+3];if(A!==255)return!0}return!1}},{key:"scanIterator",value:function(O,B,U,A){return typeof O!="number"||typeof B!="number"?E.throwError.call(this,"x and y must be numbers"):typeof U!="number"||typeof A!="number"?E.throwError.call(this,"w and h must be numbers"):(0,E.scanIterator)(this,O,B,U,A)}}]),z}(w.default);function _e(Z){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se;Object.entries(Z).forEach(function($){var O=(0,f.default)($,2),B=O[0],U=O[1];z[B]=U})}function ge(Z){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se;Object.entries(Z).forEach(function($){var O=(0,f.default)($,2),B=O[0],U=O[1];z.prototype[B]=U})}_e(H),ge({composite:P.default}),se.__extraConstructors=[],se.appendConstructorOption=function(Z,z,$){se.__extraConstructors.push({name:Z,test:z,run:$})},se.read=function(){for(var Z=arguments.length,z=new Array(Z),$=0;$<Z;$++)z[$]=arguments[$];return new Promise(function(O,B){(0,_.default)(se,z.concat([function(U,A){U?B(U):O(A)}]))})},se.create=se.read,se.rgbaToInt=function(Z,z,$,O,B){if(typeof Z!="number"||typeof z!="number"||typeof $!="number"||typeof O!="number")return E.throwError.call(this,"r, g, b and a must be numbers",B);if(Z<0||Z>255)return E.throwError.call(this,"r must be between 0 and 255",B);if((z<0||z>255)&&E.throwError.call(this,"g must be between 0 and 255",B),$<0||$>255)return E.throwError.call(this,"b must be between 0 and 255",B);if(O<0||O>255)return E.throwError.call(this,"a must be between 0 and 255",B);Z=Math.round(Z),$=Math.round($),z=Math.round(z),O=Math.round(O);var U=Z*Math.pow(256,3)+z*Math.pow(256,2)+$*Math.pow(256,1)+O*Math.pow(256,0);return(0,E.isNodePattern)(B)&&B.call(this,null,U),U},se.intToRGBA=function(Z,z){if(typeof Z!="number")return E.throwError.call(this,"i must be a number",z);var $={};return $.r=Math.floor(Z/Math.pow(256,3)),$.g=Math.floor((Z-$.r*Math.pow(256,3))/Math.pow(256,2)),$.b=Math.floor((Z-$.r*Math.pow(256,3)-$.g*Math.pow(256,2))/Math.pow(256,1)),$.a=Math.floor((Z-$.r*Math.pow(256,3)-$.g*Math.pow(256,2)-$.b*Math.pow(256,1))/Math.pow(256,0)),(0,E.isNodePattern)(z)&&z.call(this,null,$),$},se.cssColorToHex=function(Z){return Z=Z||0,typeof Z=="number"?Number(Z):parseInt((0,I.default)(Z).toHex8(),16)},se.limit255=function(Z){return Z=Math.max(Z,0),Z=Math.min(Z,255),Z},se.diff=function(Z,z){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(Z instanceof se)||!(z instanceof se))return E.throwError.call(this,"img1 and img2 must be an Jimp images");var O=Z.bitmap,B=z.bitmap;if((O.width!==B.width||O.height!==B.height)&&(O.width*O.height>B.width*B.height?Z=Z.cloneQuiet().resize(B.width,B.height):z=z.cloneQuiet().resize(O.width,O.height)),typeof $!="number"||$<0||$>1)return E.throwError.call(this,"threshold must be a number between 0 and 1");var U=new se(O.width,O.height,4294967295),A=(0,C.default)(O.data,B.data,U.bitmap.data,U.bitmap.width,U.bitmap.height,{threshold:$});return{percent:A/(U.bitmap.width*U.bitmap.height),image:U}},se.distance=function(Z,z){var $=new T.default,O=$.getHash(Z),B=$.getHash(z);return $.distance(O,B)},se.compareHashes=function(Z,z){var $=new T.default;return $.distance(Z,z)},se.colorDiff=function(Z,z){var $=function(A){return Math.pow(A,2)},O=Math.max,B=255*255*3;return Z.a!==0&&!Z.a&&(Z.a=255),z.a!==0&&!z.a&&(z.a=255),(O($(Z.r-z.r),$(Z.r-z.r-Z.a+z.a))+O($(Z.g-z.g),$(Z.g-z.g-Z.a+z.a))+O($(Z.b-z.b),$(Z.b-z.b-Z.a+z.a)))/B};function Ee(Z,z,$){var O="before-"+z,B=z.replace(/e$/,"")+"ed";se.prototype[Z]=function(){for(var U,A=arguments.length,k=new Array(A),ee=0;ee<A;ee++)k[ee]=arguments[ee];var he=k[$.length-1],we=this;typeof he=="function"?(U=function(){for(var Me=arguments.length,Ae=new Array(Me),Oe=0;Oe<Me;Oe++)Ae[Oe]=arguments[Oe];var Ne=Ae[0],ke=Ae[1];Ne?we.emitError(Z,Ne):we.emitMulti(Z,B,(0,d.default)({},Z,ke)),he.apply(this,Ae)},k[k.length-1]=U):U=!1,this.emitMulti(Z,O);var pe;try{pe=$.apply(this,k),U||this.emitMulti(Z,B,(0,d.default)({},Z,pe))}catch(Ce){Ce.methodName=Z,this.emitError(Z,Ce)}return pe},se.prototype[Z+"Quiet"]=$}Ee("clone","clone",function(Z){var z=new se(this);return(0,E.isNodePattern)(Z)&&Z.call(z,null,z),z});function ae(Z,z){Ee(Z,"change",z)}ae("background",function(Z,z){return typeof Z!="number"?E.throwError.call(this,"hex must be a hexadecimal rgba value",z):(this._background=Z,(0,E.isNodePattern)(z)&&z.call(this,null,this),this)}),ae("scan",function(Z,z,$,O,B,U){if(typeof Z!="number"||typeof z!="number")return E.throwError.call(this,"x and y must be numbers",U);if(typeof $!="number"||typeof O!="number")return E.throwError.call(this,"w and h must be numbers",U);if(typeof B!="function")return E.throwError.call(this,"f must be a function",U);var A=(0,E.scan)(this,Z,z,$,O,B);return(0,E.isNodePattern)(U)&&U.call(this,null,A),A});var oe;typeof ze<"u"&&(typeof ze>"u"?"undefined":(0,v.default)(ze))==="object"&&(oe=ze),typeof self<"u"&&(typeof self>"u"?"undefined":(0,v.default)(self))==="object"&&(oe=self),oe.Jimp=se,oe.Buffer=u;var Q=se;s.default=Q}).call(this,n("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(n,a,s){"use strict";function u(h,l){this.size=this.size||h,this.smallerSize=this.smallerSize||l,_(this.size)}u.prototype.size=32,u.prototype.smallerSize=8,u.prototype.distance=function(h,l){for(var o=0,i=0;i<h.length;i++)h[i]!==l[i]&&o++;return o/h.length},u.prototype.getHash=function(h){h=h.clone().resize(this.size,this.size),h.grayscale();for(var l=[],o=0;o<h.bitmap.width;o++){l[o]=[];for(var i=0;i<h.bitmap.height;i++)l[o][i]=c(h.getPixelColor(o,i)).b}for(var g=f(l,this.size),y=0,d=0;d<this.smallerSize;d++)for(var v=0;v<this.smallerSize;v++)y+=g[d][v];for(var p=y/(this.smallerSize*this.smallerSize),b="",w=0;w<this.smallerSize;w++)for(var E=0;E<this.smallerSize;E++)b+=g[w][E]>p?"1":"0";return b};function c(h){var l={};return l.r=Math.floor(h/Math.pow(256,3)),l.g=Math.floor((h-l.r*Math.pow(256,3))/Math.pow(256,2)),l.b=Math.floor((h-l.r*Math.pow(256,3)-l.g*Math.pow(256,2))/Math.pow(256,1)),l.a=Math.floor((h-l.r*Math.pow(256,3)-l.g*Math.pow(256,2)-l.b*Math.pow(256,1))/Math.pow(256,0)),l}var m=[];function _(h){for(var l=1;l<h;l++)m[l]=1;m[0]=1/Math.sqrt(2)}function f(h,l){for(var o=l,i=[],g=0;g<o;g++){i[g]=[];for(var y=0;y<o;y++){for(var d=0,v=0;v<o;v++)for(var p=0;p<o;p++)d+=Math.cos((2*v+1)/(2*o)*g*Math.PI)*Math.cos((2*p+1)/(2*o)*y*Math.PI)*h[v][p];d*=m[g]*m[y]/4,i[g][y]=d}}return i}a.exports=u},{}],195:[function(n,a,s){(function(u,c){"use strict";var m=n("@babel/runtime/helpers/interopRequireDefault"),_=m(n("@babel/runtime/helpers/defineProperty")),f=m(n("@babel/runtime/helpers/extends"));function h(o,i){var g=Object.keys(o);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(o);i&&(y=y.filter(function(d){return Object.getOwnPropertyDescriptor(o,d).enumerable})),g.push.apply(g,y)}return g}function l(o){for(var i=1;i<arguments.length;i++){var g=arguments[i]!=null?arguments[i]:{};i%2?h(g,!0).forEach(function(y){(0,_.default)(o,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(g)):h(g).forEach(function(y){Object.defineProperty(o,y,Object.getOwnPropertyDescriptor(g,y))})}return o}u.browser,a.exports=function(o,i){var g=new XMLHttpRequest;g.open("GET",o.url,!0),g.responseType="arraybuffer",g.addEventListener("load",function(){if(g.status<400)try{var y=c.from(this.response);i(null,g,y)}catch(d){return i(new Error("Response is not a buffer for url "+o.url+". Error: "+d.message))}else i(new Error("HTTP Status "+g.status+" for url "+o.url))}),g.addEventListener("error",function(y){i(y)}),g.send()}}).call(this,n("_process"),n("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(n,a,s){(function(u){"use strict";var c=n("@babel/runtime/helpers/interopRequireWildcard"),m=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.parseBitmap=w,s.getBuffer=D,s.getBufferAsync=S;var _=m(n("@babel/runtime/helpers/slicedToArray")),f=m(n("file-type")),h=m(n("exif-parser")),l=n("@jimp/utils"),o=c(n("../constants")),i=c(n("./mime")),g=m(n("./promisify"));function y(C,I){var T=(0,f.default)(C);return T?T.mime:I?i.getType(I):null}function d(C){return C._exif&&C._exif.tags&&C._exif.tags.Orientation||1}function v(C){var I=C.getWidth(),T=C.getHeight();switch(d(C)){case 1:return null;case 2:return function(M,P){return[I-M-1,P]};case 3:return function(M,P){return[I-M-1,T-P-1]};case 4:return function(M,P){return[M,T-P-1]};case 5:return function(M,P){return[P,M]};case 6:return function(M,P){return[P,T-M-1]};case 7:return function(M,P){return[I-P-1,T-M-1]};case 8:return function(M,P){return[I-P-1,M]};default:return null}}function p(C,I,T,M){for(var P=C.bitmap.data,N=C.bitmap.width,G=u.alloc(P.length),V=0;V<I;V++)for(var H=0;H<T;H++){var R=M(V,H),j=(0,_.default)(R,2),Y=j[0],ne=j[1],re=I*H+V<<2,ie=N*ne+Y<<2,W=P.readUInt32BE(ie);G.writeUInt32BE(W,re)}C.bitmap.data=G,C.bitmap.width=I,C.bitmap.height=T}function b(C){if(!(d(C)<2)){var I=v(C),T=d(C)>4,M=T?C.bitmap.height:C.bitmap.width,P=T?C.bitmap.width:C.bitmap.height;p(C,M,P,I)}}function w(C,I,T){var M=y(C,I);if(typeof M!="string")return T(new Error("Could not find MIME for Buffer <"+I+">"));this._originalMime=M.toLowerCase();try{var P=this.getMIME();if(this.constructor.decoders[P])this.bitmap=this.constructor.decoders[P](C);else return l.throwError.call(this,"Unsupported MIME type: "+P,T)}catch(N){return T.call(this,N,this)}try{this._exif=h.default.create(C).parse(),b(this)}catch{}return T.call(this,null,this),this}function E(C,I){return new C(I.bitmap.width,I.bitmap.height,I._background).composite(I,0,0).bitmap}function D(C,I){if(C===o.AUTO&&(C=this.getMIME()),typeof C!="string")return l.throwError.call(this,"mime must be a string",I);if(typeof I!="function")return l.throwError.call(this,"cb must be a function",I);if(C=C.toLowerCase(),this._rgba&&this.constructor.hasAlpha[C]?this.bitmap.data=u.from(this.bitmap.data):this.bitmap.data=E(this.constructor,this).data,this.constructor.encoders[C]){var T=this.constructor.encoders[C](this);I.call(this,null,T)}else I.call(this,"Unsupported MIME type: "+C);return this}function S(C){return(0,g.default)(D,this,C)}}).call(this,n("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getExtension=s.getType=s.addType=void 0;var u={},c=function(l){return Object.entries(u).find(function(o){return o[1].includes(l)})||[]},m=function(l,o){u[l]=o};s.addType=m;var _=function(l){var o=l.split("/").slice(-1),i=o[o.length-1].split(".").pop(),g=c(i);return g[0]};s.getType=_;var f=function(l){return(u[l.toLowerCase()]||[])[0]};s.getExtension=f},{}],198:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=function(_,f){for(var h=arguments.length,l=new Array(h>2?h-2:0),o=2;o<h;o++)l[o-2]=arguments[o];return new Promise(function(i,g){l.push(function(y,d){y&&g(y),i(d)}),_.bind(f).apply(void 0,l)})},c=u;s.default=c,a.exports=s.default},{}],199:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireWildcard"),c=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=i;var m=c(n("@babel/runtime/helpers/toConsumableArray")),_=c(n("@babel/runtime/helpers/defineProperty")),f=c(n("@babel/runtime/helpers/slicedToArray")),h=u(n("@jimp/core"));function l(g,y){var d=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);y&&(v=v.filter(function(p){return Object.getOwnPropertyDescriptor(g,p).enumerable})),d.push.apply(d,v)}return d}function o(g){for(var y=1;y<arguments.length;y++){var d=arguments[y]!=null?arguments[y]:{};y%2?l(d,!0).forEach(function(v){(0,_.default)(g,v,d[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(d)):l(d).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(d,v))})}return g}function i(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default,d={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function v(w){Object.entries(w).forEach(function(E){var D=(0,f.default)(E,2),S=D[0],C=D[1];d[S]=o({},d[S],{},C)})}function p(w){var E=w();Array.isArray(E.mime)?h.addType.apply(void 0,(0,m.default)(E.mime)):Object.entries(E.mime).forEach(function(D){return h.addType.apply(void 0,(0,m.default)(D))}),delete E.mime,v(E)}function b(w){var E=w(h.jimpEvChange)||{};!E.class&&!E.constants?v({class:E}):v(E)}return g.types&&(g.types.forEach(p),y.decoders=o({},y.decoders,{},d.decoders),y.encoders=o({},y.encoders,{},d.encoders),y.hasAlpha=o({},y.hasAlpha,{},d.hasAlpha)),g.plugins&&g.plugins.forEach(b),(0,h.addJimpMethods)(d.class,y),(0,h.addConstants)(d.constants,y),h.default}a.exports=s.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=u(n("@jimp/custom")),m=u(n("@jimp/types")),_=u(n("@jimp/plugins")),f=(0,c.default)({types:[m.default],plugins:[_.default]});s.default=f,a.exports=s.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=u(n("@babel/runtime/helpers/typeof")),m=n("@jimp/utils"),_=function(){return{blit:function(l,o,i,g,y,d,v,p){if(!(l instanceof this.constructor))return m.throwError.call(this,"The source must be a Jimp image",p);if(typeof o!="number"||typeof i!="number")return m.throwError.call(this,"x and y must be numbers",p);if(typeof g=="function")p=g,g=0,y=0,d=l.bitmap.width,v=l.bitmap.height;else if((0,c.default)(g)===(0,c.default)(y)&&(0,c.default)(y)===(0,c.default)(d)&&(0,c.default)(d)===(0,c.default)(v))g=g||0,y=y||0,d=d||l.bitmap.width,v=v||l.bitmap.height;else return m.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",p);o=Math.round(o),i=Math.round(i),g=Math.round(g),y=Math.round(y),d=Math.round(d),v=Math.round(v);var b=this.bitmap.width,w=this.bitmap.height,E=this;return l.scanQuiet(g,y,d,v,function(D,S,C){var I=o+D-g,T=i+S-y;if(I>=0&&T>=0&&b-I>0&&w-T>0){var M=E.getPixelIndex(I,T),P={r:this.bitmap.data[C],g:this.bitmap.data[C+1],b:this.bitmap.data[C+2],a:this.bitmap.data[C+3]},N={r:E.bitmap.data[M],g:E.bitmap.data[M+1],b:E.bitmap.data[M+2],a:E.bitmap.data[M+3]};E.bitmap.data[M]=(P.a*(P.r-N.r)-N.r+255>>8)+N.r,E.bitmap.data[M+1]=(P.a*(P.g-N.g)-N.g+255>>8)+N.g,E.bitmap.data[M+2]=(P.a*(P.b-N.b)-N.b+255>>8)+N.b,E.bitmap.data[M+3]=this.constructor.limit255(N.a+P.a)}}),(0,m.isNodePattern)(p)&&p.call(this,null,this),this}}};s.default=_,a.exports=s.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.shgTable=s.mulTable=void 0;var u=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];s.mulTable=u;var c=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];s.shgTable=c},{}],203:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=n("./blur-tables"),m=function(){return{blur:function(h,l){if(typeof h!="number")return u.throwError.call(this,"r must be a number",l);if(h<1)return u.throwError.call(this,"r must be greater than 0",l);for(var o,i,g,y,d,v,p,b,w,E,D,S,C,I,T=this.bitmap.width-1,M=this.bitmap.height-1,P=h+1,N=c.mulTable[h],G=c.shgTable[h],V=[],H=[],R=[],j=[],Y=[],ne=[],re=2;re-- >0;){for(S=0,C=0,v=0;v<this.bitmap.height;v++){for(o=this.bitmap.data[C]*P,i=this.bitmap.data[C+1]*P,g=this.bitmap.data[C+2]*P,y=this.bitmap.data[C+3]*P,p=1;p<=h;p++)b=C+((p>T?T:p)<<2),o+=this.bitmap.data[b++],i+=this.bitmap.data[b++],g+=this.bitmap.data[b++],y+=this.bitmap.data[b];for(d=0;d<this.bitmap.width;d++)V[S]=o,H[S]=i,R[S]=g,j[S]=y,v===0&&(Y[d]=((b=d+P)<T?b:T)<<2,ne[d]=(b=d-h)>0?b<<2:0),w=C+Y[d],E=C+ne[d],o+=this.bitmap.data[w++]-this.bitmap.data[E++],i+=this.bitmap.data[w++]-this.bitmap.data[E++],g+=this.bitmap.data[w++]-this.bitmap.data[E++],y+=this.bitmap.data[w]-this.bitmap.data[E],S++;C+=this.bitmap.width<<2}for(d=0;d<this.bitmap.width;d++){for(D=d,o=V[D]*P,i=H[D]*P,g=R[D]*P,y=j[D]*P,p=1;p<=h;p++)D+=p>M?0:this.bitmap.width,o+=V[D],i+=H[D],g+=R[D],y+=j[D];for(S=d<<2,v=0;v<this.bitmap.height;v++)I=y*N>>>G,this.bitmap.data[S+3]=I,I>255&&(this.bitmap.data[S+3]=255),I>0?(I=255/I,this.bitmap.data[S]=(o*N>>>G)*I,this.bitmap.data[S+1]=(i*N>>>G)*I,this.bitmap.data[S+2]=(g*N>>>G)*I):(this.bitmap.data[S+2]=0,this.bitmap.data[S+1]=0,this.bitmap.data[S]=0),d===0&&(Y[v]=((b=v+P)<M?b:M)*this.bitmap.width,ne[v]=(b=v-h)>0?b*this.bitmap.width:0),w=d+Y[v],E=d+ne[v],o+=V[w]-V[E],i+=H[w]-H[E],g+=R[w]-R[E],y+=j[w]-j[E],S+=this.bitmap.width<<2}}return(0,u.isNodePattern)(l)&&l.call(this,null,this),this}}};s.default=m,a.exports=s.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=function(){return{circle:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1?arguments[1]:void 0;typeof f=="function"&&(h=f,f={});var l=f.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,o={x:typeof f.x=="number"?f.x:this.bitmap.width/2,y:typeof f.y=="number"?f.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(i,g,y){var d=Math.sqrt(Math.pow(i-o.x,2)+Math.pow(g-o.y,2));l-d<=0?this.bitmap.data[y+3]=0:l-d<1&&(this.bitmap.data[y+3]=255*(l-d))}),(0,u.isNodePattern)(h)&&h.call(this,null,this),this}}};s.default=c,a.exports=s.default},{"@jimp/utils":235}],205:[function(n,a,s){(function(u){"use strict";var c=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var m=c(n("@babel/runtime/helpers/toConsumableArray")),_=c(n("tinycolor2")),f=n("@jimp/utils");function h(d,v,p,b){for(var w=[0,0,0],E=(v.length-1)/2,D=0;D<v.length;D+=1)for(var S=0;S<v[D].length;S+=1){var C=d.getPixelIndex(p+D-E,b+S-E);w[0]+=d.bitmap.data[C]*v[D][S],w[1]+=d.bitmap.data[C+1]*v[D][S],w[2]+=d.bitmap.data[C+2]*v[D][S]}return w}var l=function(v){return typeof v<"u"&&v!==null};function o(d){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(v,p,b){var w=parseInt(.2126*this.bitmap.data[b]+.7152*this.bitmap.data[b+1]+.0722*this.bitmap.data[b+2],10);this.bitmap.data[b]=w,this.bitmap.data[b+1]=w,this.bitmap.data[b+2]=w}),(0,f.isNodePattern)(d)&&d.call(this,null,this),this}function i(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(v.r-d.r)*(p/100)+d.r,g:(v.g-d.g)*(p/100)+d.g,b:(v.b-d.b)*(p/100)+d.b}}function g(d,v){var p=this;return!d||!Array.isArray(d)?f.throwError.call(this,"actions must be an array",v):(d=d.map(function(b){return(b.apply==="xor"||b.apply==="mix")&&(b.params[0]=(0,_.default)(b.params[0]).toRgb()),b}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(b,w,E){var D={r:p.bitmap.data[E],g:p.bitmap.data[E+1],b:p.bitmap.data[E+2]},S=function(I,T){return p.constructor.limit255(D[I]+T)};d.forEach(function(C){if(C.apply==="mix")D=i(D,C.params[0],C.params[1]);else if(C.apply==="tint")D=i(D,{r:255,g:255,b:255},C.params[0]);else if(C.apply==="shade")D=i(D,{r:0,g:0,b:0},C.params[0]);else if(C.apply==="xor")D={r:D.r^C.params[0].r,g:D.g^C.params[0].g,b:D.b^C.params[0].b};else if(C.apply==="red")D.r=S("r",C.params[0]);else if(C.apply==="green")D.g=S("g",C.params[0]);else if(C.apply==="blue")D.b=S("b",C.params[0]);else{var I;if(C.apply==="hue"&&(C.apply="spin"),D=(0,_.default)(D),!D[C.apply])return f.throwError.call(p,"action "+C.apply+" not supported",v);D=(I=D)[C.apply].apply(I,(0,m.default)(C.params)).toRgb()}}),p.bitmap.data[E]=D.r,p.bitmap.data[E+1]=D.g,p.bitmap.data[E+2]=D.b}),(0,f.isNodePattern)(v)&&v.call(this,null,this),this)}var y=function(){return{brightness:function(p,b){return typeof p!="number"?f.throwError.call(this,"val must be numbers",b):p<-1||p>1?f.throwError.call(this,"val must be a number between -1 and +1",b):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,E,D){p<0?(this.bitmap.data[D]=this.bitmap.data[D]*(1+p),this.bitmap.data[D+1]=this.bitmap.data[D+1]*(1+p),this.bitmap.data[D+2]=this.bitmap.data[D+2]*(1+p)):(this.bitmap.data[D]=this.bitmap.data[D]+(255-this.bitmap.data[D])*p,this.bitmap.data[D+1]=this.bitmap.data[D+1]+(255-this.bitmap.data[D+1])*p,this.bitmap.data[D+2]=this.bitmap.data[D+2]+(255-this.bitmap.data[D+2])*p)}),(0,f.isNodePattern)(b)&&b.call(this,null,this),this)},contrast:function(p,b){if(typeof p!="number")return f.throwError.call(this,"val must be numbers",b);if(p<-1||p>1)return f.throwError.call(this,"val must be a number between -1 and +1",b);var w=(p+1)/(1-p);function E(D){return D=Math.floor(w*(D-127)+127),D<0?0:D>255?255:D}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(D,S,C){this.bitmap.data[C]=E(this.bitmap.data[C]),this.bitmap.data[C+1]=E(this.bitmap.data[C+1]),this.bitmap.data[C+2]=E(this.bitmap.data[C+2])}),(0,f.isNodePattern)(b)&&b.call(this,null,this),this},posterize:function(p,b){return typeof p!="number"?f.throwError.call(this,"n must be numbers",b):(p<2&&(p=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,E,D){this.bitmap.data[D]=Math.floor(this.bitmap.data[D]/255*(p-1))/(p-1)*255,this.bitmap.data[D+1]=Math.floor(this.bitmap.data[D+1]/255*(p-1))/(p-1)*255,this.bitmap.data[D+2]=Math.floor(this.bitmap.data[D+2]/255*(p-1))/(p-1)*255}),(0,f.isNodePattern)(b)&&b.call(this,null,this),this)},greyscale:o,grayscale:o,opacity:function(p,b){return typeof p!="number"?f.throwError.call(this,"f must be a number",b):p<0||p>1?f.throwError.call(this,"f must be a number from 0 to 1",b):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,E,D){var S=this.bitmap.data[D+3]*p;this.bitmap.data[D+3]=S}),(0,f.isNodePattern)(b)&&b.call(this,null,this),this)},sepia:function(p){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(b,w,E){var D=this.bitmap.data[E],S=this.bitmap.data[E+1],C=this.bitmap.data[E+2];D=D*.393+S*.769+C*.189,S=D*.349+S*.686+C*.168,C=D*.272+S*.534+C*.131,this.bitmap.data[E]=D<255?D:255,this.bitmap.data[E+1]=S<255?S:255,this.bitmap.data[E+2]=C<255?C:255}),(0,f.isNodePattern)(p)&&p.call(this,null,this),this},fade:function(p,b){return typeof p!="number"?f.throwError.call(this,"f must be a number",b):p<0||p>1?f.throwError.call(this,"f must be a number from 0 to 1",b):(this.opacity(1-p),(0,f.isNodePattern)(b)&&b.call(this,null,this),this)},convolution:function(p,b,w){typeof b=="function"&&typeof w>"u"&&(w=b,b=null),b||(b=this.constructor.EDGE_EXTEND);var E=u.from(this.bitmap.data),D=p.length,S=p[0].length,C=Math.floor(D/2),I=Math.floor(S/2),T=-C,M=-I,P,N,G,V,H,R,j,Y,ne,re;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ie,W,q){V=0,G=0,N=0;for(var te=T;te<=C;te++)for(var K=M;K<=I;K++)Y=ie+K,ne=W+te,P=p[te+C][K+I],re=this.getPixelIndex(Y,ne,b),re===-1?(j=0,R=0,H=0):(H=this.bitmap.data[re+0],R=this.bitmap.data[re+1],j=this.bitmap.data[re+2]),N+=P*H,G+=P*R,V+=P*j;N<0&&(N=0),G<0&&(G=0),V<0&&(V=0),N>255&&(N=255),G>255&&(G=255),V>255&&(V=255),E[q+0]=N,E[q+1]=G,E[q+2]=V}),this.bitmap.data=E,(0,f.isNodePattern)(w)&&w.call(this,null,this),this},opaque:function(p){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(b,w,E){this.bitmap.data[E+3]=255}),(0,f.isNodePattern)(p)&&p.call(this,null,this),this},pixelate:function(p,b,w,E,D,S){if(typeof b=="function")S=b,D=null,E=null,w=null,b=null;else{if(typeof p!="number")return f.throwError.call(this,"size must be a number",S);if(l(b)&&typeof b!="number")return f.throwError.call(this,"x must be a number",S);if(l(w)&&typeof w!="number")return f.throwError.call(this,"y must be a number",S);if(l(E)&&typeof E!="number")return f.throwError.call(this,"w must be a number",S);if(l(D)&&typeof D!="number")return f.throwError.call(this,"h must be a number",S)}var C=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];b=b||0,w=w||0,E=l(E)?E:this.bitmap.width-b,D=l(D)?D:this.bitmap.height-w;var I=this.cloneQuiet();return this.scanQuiet(b,w,E,D,function(T,M,P){T=p*Math.floor(T/p),M=p*Math.floor(M/p);var N=h(I,C,T,M);this.bitmap.data[P]=N[0],this.bitmap.data[P+1]=N[1],this.bitmap.data[P+2]=N[2]}),(0,f.isNodePattern)(S)&&S.call(this,null,this),this},convolute:function(p,b,w,E,D,S){if(!Array.isArray(p))return f.throwError.call(this,"the kernel must be an array",S);if(typeof b=="function")S=b,b=null,w=null,E=null,D=null;else{if(l(b)&&typeof b!="number")return f.throwError.call(this,"x must be a number",S);if(l(w)&&typeof w!="number")return f.throwError.call(this,"y must be a number",S);if(l(E)&&typeof E!="number")return f.throwError.call(this,"w must be a number",S);if(l(D)&&typeof D!="number")return f.throwError.call(this,"h must be a number",S)}var C=(p.length-1)/2;b=l(b)?b:C,w=l(w)?w:C,E=l(E)?E:this.bitmap.width-b,D=l(D)?D:this.bitmap.height-w;var I=this.cloneQuiet();return this.scanQuiet(b,w,E,D,function(T,M,P){var N=h(I,p,T,M);this.bitmap.data[P]=this.constructor.limit255(N[0]),this.bitmap.data[P+1]=this.constructor.limit255(N[1]),this.bitmap.data[P+2]=this.constructor.limit255(N[2])}),(0,f.isNodePattern)(S)&&S.call(this,null,this),this},color:g,colour:g}};s.default=y,a.exports=s.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=function(){return{contain:function(f,h,l,o,i){if(typeof f!="number"||typeof h!="number")return u.throwError.call(this,"w and h must be numbers",i);typeof l=="string"&&(typeof o=="function"&&typeof i>"u"&&(i=o),o=l,l=null),typeof l=="function"&&(typeof i>"u"&&(i=l),o=null,l=null),typeof o=="function"&&typeof i>"u"&&(i=o,o=null),l=l||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var g=l&7,y=l>>3;if(!(g!==0&&!(g&g-1)||y!==0&&!(y&y-1)))return u.throwError.call(this,"only use one flag per alignment direction",i);var d=g>>1,v=y>>1,p=f/h>this.bitmap.width/this.bitmap.height?h/this.bitmap.height:f/this.bitmap.width,b=this.cloneQuiet().scale(p,o);return this.resize(f,h,o),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(w,E,D){this.bitmap.data.writeUInt32BE(this._background,D)}),this.blit(b,(this.bitmap.width-b.bitmap.width)/2*d,(this.bitmap.height-b.bitmap.height)/2*v),(0,u.isNodePattern)(i)&&i.call(this,null,this),this}}};s.default=c,a.exports=s.default},{"@jimp/utils":235}],207:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=function(){return{cover:function(f,h,l,o,i){if(typeof f!="number"||typeof h!="number")return u.throwError.call(this,"w and h must be numbers",i);l&&typeof l=="function"&&typeof i>"u"?(i=l,l=null,o=null):typeof o=="function"&&typeof i>"u"&&(i=o,o=null),l=l||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var g=l&7,y=l>>3;if(!(g!==0&&!(g&g-1)||y!==0&&!(y&y-1)))return u.throwError.call(this,"only use one flag per alignment direction",i);var d=g>>1,v=y>>1,p=f/h>this.bitmap.width/this.bitmap.height?f/this.bitmap.width:h/this.bitmap.height;return this.scale(p,o),this.crop((this.bitmap.width-f)/2*d,(this.bitmap.height-h)/2*v,f,h),(0,u.isNodePattern)(i)&&i.call(this,null,this),this}}};s.default=c,a.exports=s.default},{"@jimp/utils":235}],208:[function(n,a,s){(function(u){"use strict";var c=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=f;var m=c(n("@babel/runtime/helpers/typeof")),_=n("@jimp/utils");function f(h){return h("crop",function(l,o,i,g,y){if(typeof l!="number"||typeof o!="number")return _.throwError.call(this,"x and y must be numbers",y);if(typeof i!="number"||typeof g!="number")return _.throwError.call(this,"w and h must be numbers",y);if(l=Math.round(l),o=Math.round(o),i=Math.round(i),g=Math.round(g),l===0&&i===this.bitmap.width){var d=i*o+l<<2,v=d+g*i<<2;this.bitmap.data=this.bitmap.data.slice(d,v)}else{var p=u.allocUnsafe(i*g*4),b=0;this.scanQuiet(l,o,i,g,function(w,E,D){var S=this.bitmap.data.readUInt32BE(D,!0);p.writeUInt32BE(S,b,!0),b+=4}),this.bitmap.data=p}return this.bitmap.width=i,this.bitmap.height=g,(0,_.isNodePattern)(y)&&y.call(this,null,this),this}),{class:{autocrop:function(){for(var o=this.bitmap.width,i=this.bitmap.height,g=1,y,d=0,v=2e-4,p=!0,b=!1,w=arguments.length,E=new Array(w),D=0;D<w;D++)E[D]=arguments[D];for(var S=0,C=E.length;S<C;S++)if(typeof E[S]=="number"&&(v=E[S]),typeof E[S]=="boolean"&&(p=E[S]),typeof E[S]=="function"&&(y=E[S]),(0,m.default)(E[S])==="object"){var I=E[S];typeof I.tolerance<"u"&&(v=I.tolerance),typeof I.cropOnlyFrames<"u"&&(p=I.cropOnlyFrames),typeof I.cropSymmetric<"u"&&(b=I.cropSymmetric),typeof I.leaveBorder<"u"&&(d=I.leaveBorder)}var T=this.getPixelColor(0,0),M=this.constructor.intToRGBA(T),P=0,N=0,G=0,V=0;T=this.getPixelColor(0,0);e:for(var H=0;H<i-g;H++){for(var R=0;R<o;R++){var j=this.getPixelColor(R,H),Y=this.constructor.intToRGBA(j);if(this.constructor.colorDiff(M,Y)>v)break e}P++}T=this.getPixelColor(o,0);e:for(var ne=0;ne<o-g;ne++){for(var re=0+P;re<i;re++){var ie=this.getPixelColor(ne,re),W=this.constructor.intToRGBA(ie);if(this.constructor.colorDiff(M,W)>v)break e}N++}T=this.getPixelColor(0,i);e:for(var q=i-1;q>=P+g;q--){for(var te=o-N-1;te>=0;te--){var K=this.getPixelColor(te,q),J=this.constructor.intToRGBA(K);if(this.constructor.colorDiff(M,J)>v)break e}G++}T=this.getPixelColor(o,i);e:for(var le=o-1;le>=0+N+g;le--){for(var se=i-1;se>=0+P;se--){var _e=this.getPixelColor(le,se),ge=this.constructor.intToRGBA(_e);if(this.constructor.colorDiff(M,ge)>v)break e}V++}var Ee=!1;if(V-=d,N-=d,P-=d,G-=d,b){var ae=Math.min(N,V),oe=Math.min(P,G);V=ae,N=ae,P=oe,G=oe}V=V>=0?V:0,N=N>=0?N:0,P=P>=0?P:0,G=G>=0?G:0;var Q=o-(V+N),Z=i-(G+P);return p?Ee=N!==0&&P!==0&&V!==0&&G!==0:Ee=N!==0||P!==0||V!==0||G!==0,Ee&&this.crop(N,P,Q,Z),(0,_.isNodePattern)(y)&&y.call(this,null,this),this}}}}a.exports=s.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=u(n("@babel/runtime/helpers/typeof")),m=n("@jimp/utils"),_=function(){return{displace:function(l,o,i){if((0,c.default)(l)!=="object"||l.constructor!==this.constructor)return m.throwError.call(this,"The source must be a Jimp image",i);if(typeof o!="number")return m.throwError.call(this,"factor must be a number",i);var g=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(y,d,v){var p=l.bitmap.data[v]/256*o;p=Math.round(p);var b=this.getPixelIndex(y+p,d);this.bitmap.data[b]=g.bitmap.data[v],this.bitmap.data[b+1]=g.bitmap.data[v+1],this.bitmap.data[b+2]=g.bitmap.data[v+2]}),(0,m.isNodePattern)(i)&&i.call(this,null,this),this}}};s.default=_,a.exports=s.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils");function c(_){var f=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,l,o){var i=((l&3)<<2)+h%4,g=f[i];this.bitmap.data[o]=Math.min(this.bitmap.data[o]+g,255),this.bitmap.data[o+1]=Math.min(this.bitmap.data[o+1]+g,255),this.bitmap.data[o+2]=Math.min(this.bitmap.data[o+2]+g,255)}),(0,u.isNodePattern)(_)&&_.call(this,null,this),this}var m=function(){return{dither565:c,dither16:c}};s.default=m,a.exports=s.default},{"@jimp/utils":235}],211:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=function(){return{fisheye:function(){var f=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},l=arguments.length>1?arguments[1]:void 0;typeof h=="function"&&(l=h,h={r:2.5});var o=this.cloneQuiet(),i=o.bitmap,g=i.width,y=i.height;return o.scanQuiet(0,0,g,y,function(d,v){var p=d/g,b=v/y,w=Math.sqrt(Math.pow(p-.5,2)+Math.pow(b-.5,2)),E=2*Math.pow(w,h.r),D=(p-.5)/w,S=(b-.5)/w,C=Math.round((E*D+.5)*g),I=Math.round((E*S+.5)*y),T=o.getPixelColor(C,I);f.setPixelColor(T,d,v)}),this.setPixelColor(o.getPixelColor(g/2,y/2),g/2,y/2),(0,u.isNodePattern)(l)&&l.call(this,null,this),this}}};s.default=c,a.exports=s.default},{"@jimp/utils":235}],212:[function(n,a,s){(function(u){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=n("@jimp/utils");function m(f,h,l){if(typeof f!="boolean"||typeof h!="boolean")return c.throwError.call(this,"horizontal and vertical must be Booleans",l);var o=u.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(i,g,y){var d=f?this.bitmap.width-1-i:i,v=h?this.bitmap.height-1-g:g,p=this.bitmap.width*v+d<<2,b=this.bitmap.data.readUInt32BE(y);o.writeUInt32BE(b,p)}),this.bitmap.data=u.from(o),(0,c.isNodePattern)(l)&&l.call(this,null,this),this}var _=function(){return{flip:m,mirror:m}};s.default=_,a.exports=s.default}).call(this,n("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=function(){return{gaussian:function(f,h){if(typeof f!="number")return u.throwError.call(this,"r must be a number",h);if(f<1)return u.throwError.call(this,"r must be greater than 0",h);for(var l=Math.ceil(f*2.57),o=l*2+1,i=f*f*2,g=i*Math.PI,y=[],d=0;d<o;d++){y[d]=[];for(var v=0;v<o;v++){var p=Math.pow(v-l,2)+Math.pow(d-l,2);y[d][v]=Math.exp(-p/i)/g}}for(var b=0;b<this.bitmap.height;b++)for(var w=0;w<this.bitmap.width;w++)for(var E=0,D=0,S=0,C=0,I=0,T=0;T<o;T++){for(var M=0;M<o;M++){var P=Math.min(this.bitmap.width-1,Math.max(0,M+w-l)),N=Math.min(this.bitmap.height-1,Math.max(0,T+b-l)),G=y[T][M],V=N*this.bitmap.width+P<<2;E+=this.bitmap.data[V]*G,D+=this.bitmap.data[V+1]*G,S+=this.bitmap.data[V+2]*G,C+=this.bitmap.data[V+3]*G,I+=G}var H=b*this.bitmap.width+w<<2;this.bitmap.data[H]=Math.round(E/I),this.bitmap.data[H+1]=Math.round(D/I),this.bitmap.data[H+2]=Math.round(S/I),this.bitmap.data[H+3]=Math.round(C/I)}return(0,u.isNodePattern)(h)&&h.call(this,null,this),this}}};s.default=c,a.exports=s.default},{"@jimp/utils":235}],214:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=function(){return{invert:function(f){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,l,o){this.bitmap.data[o]=255-this.bitmap.data[o],this.bitmap.data[o+1]=255-this.bitmap.data[o+1],this.bitmap.data[o+2]=255-this.bitmap.data[o+2]}),(0,u.isNodePattern)(f)&&f.call(this,null,this),this}}};s.default=c,a.exports=s.default},{"@jimp/utils":235}],215:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=function(){return{mask:function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;if(!(f instanceof this.constructor))return u.throwError.call(this,"The source must be a Jimp image",o);if(typeof h!="number"||typeof l!="number")return u.throwError.call(this,"x and y must be numbers",o);h=Math.round(h),l=Math.round(l);var i=this.bitmap.width,g=this.bitmap.height,y=this;return f.scanQuiet(0,0,f.bitmap.width,f.bitmap.height,function(d,v,p){var b=h+d,w=l+v;if(b>=0&&w>=0&&b<i&&w<g){var E=y.getPixelIndex(b,w),D=this.bitmap.data,S=(D[p+0]+D[p+1]+D[p+2])/3;y.bitmap.data[E+3]*=S/255}}),(0,u.isNodePattern)(o)&&o.call(this,null,this),this}}};s.default=c,a.exports=s.default},{"@jimp/utils":235}],216:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils");function c(){var h={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,o,i){h.r[this.bitmap.data[i+0]]++,h.g[this.bitmap.data[i+1]]++,h.b[this.bitmap.data[i+2]]++}),h}var m=function(l,o,i){return(l-o)*255/(i-o)},_=function(l){return[l.findIndex(function(o){return o>0}),255-l.slice().reverse().findIndex(function(o){return o>0})]},f=function(){return{normalize:function(o){var i=c.call(this),g={r:_(i.r),g:_(i.g),b:_(i.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(y,d,v){var p=this.bitmap.data[v+0],b=this.bitmap.data[v+1],w=this.bitmap.data[v+2];this.bitmap.data[v+0]=m(p,g.r[0],g.r[1]),this.bitmap.data[v+1]=m(b,g.g[0],g.g[1]),this.bitmap.data[v+2]=m(w,g.b[0],g.b[1])}),(0,u.isNodePattern)(o)&&o.call(this,null,this),this}}};s.default=f,a.exports=s.default},{"@jimp/utils":235}],217:[function(n,a,s){(function(u){"use strict";var c=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var m=c(n("@babel/runtime/helpers/typeof")),_=c(n("@babel/runtime/helpers/toConsumableArray")),f=c(n("path")),h=c(n("load-bmfont")),l=n("@jimp/utils"),o=n("./measure-text");function i(w,E,D,S,C){return C===w.HORIZONTAL_ALIGN_LEFT?0:C===w.HORIZONTAL_ALIGN_CENTER?(S-(0,o.measureText)(E,D))/2:S-(0,o.measureText)(E,D)}function g(w,E,D,S,C){if(C.width>0&&C.height>0){var I=E.pages[C.page];w.blit(I,D+C.xoffset,S+C.yoffset,C.x,C.y,C.width,C.height)}return w}function y(w,E,D,S,C){for(var I=0;I<S.length;I++){var T=void 0;w.chars[S[I]]?T=S[I]:/\s/.test(S[I])?T="":T="?";var M=w.chars[T]||{},P=w.kernings[T];g(this,w,E,D,M||{});var N=P&&P[S[I+1]]?P[S[I+1]]:0;E+=N+(M.xadvance||C)}}function d(w,E,D){var S=E.split(" "),C=[],I=[],T=0;return S.forEach(function(M){var P=[].concat((0,_.default)(I),[M]).join(" "),N=(0,o.measureText)(w,P);N<=D?(N>T&&(T=N),I.push(M)):(C.push(I),I=[M])}),C.push(I),{lines:C,longestLine:T}}function v(w,E,D){var S=D.map(function(C){return w.read(E+"/"+C)});return Promise.all(S)}var p="browser/lib/",b=function(){return{constants:{measureText:o.measureText,measureTextHeight:o.measureTextHeight,FONT_SANS_8_BLACK:f.default.join(p,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:f.default.join(p,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:f.default.join(p,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:f.default.join(p,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:f.default.join(p,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:f.default.join(p,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:f.default.join(p,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:f.default.join(p,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:f.default.join(p,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:f.default.join(p,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:f.default.join(p,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:f.default.join(p,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:f.default.join(p,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(D,S){var C=this;return typeof D!="string"?l.throwError.call(this,"file must be a string",S):new Promise(function(I,T){S=S||function(M,P){M?T(M):I(P)},(0,h.default)(D,function(M,P){var N={},G={};if(M)return l.throwError.call(C,M,S);for(var V=0;V<P.chars.length;V++)N[String.fromCharCode(P.chars[V].id)]=P.chars[V];for(var H=0;H<P.kernings.length;H++){var R=String.fromCharCode(P.kernings[H].first);G[R]=G[R]||{},G[R][String.fromCharCode(P.kernings[H].second)]=P.kernings[H].amount}v(C,f.default.dirname(D),P.pages).then(function(j){S(null,{chars:N,kernings:G,pages:j,common:P.common,info:P.info})})})})}},class:{print:function(D,S,C,I,T,M,P){var N=this;if(typeof T=="function"&&typeof P>"u"&&(P=T,T=1/0),typeof T>"u"&&(T=1/0),typeof M=="function"&&typeof P>"u"&&(P=M,M=1/0),typeof M>"u"&&(M=1/0),(0,m.default)(D)!=="object")return l.throwError.call(this,"font must be a Jimp loadFont",P);if(typeof S!="number"||typeof C!="number"||typeof T!="number")return l.throwError.call(this,"x, y and maxWidth must be numbers",P);if(typeof T!="number")return l.throwError.call(this,"maxWidth must be a number",P);if(typeof M!="number")return l.throwError.call(this,"maxHeight must be a number",P);var G,V;if((0,m.default)(I)==="object"&&I.text!==null&&I.text!==void 0){G=I.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,V=I.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var H=I;I=H.text}else G=this.constructor.HORIZONTAL_ALIGN_LEFT,V=this.constructor.VERTICAL_ALIGN_TOP,I=I.toString();M!==1/0&&V===this.constructor.VERTICAL_ALIGN_BOTTOM?C+=M-(0,o.measureTextHeight)(D,I,T):M!==1/0&&V===this.constructor.VERTICAL_ALIGN_MIDDLE&&(C+=M/2-(0,o.measureTextHeight)(D,I,T)/2);var R=Object.entries(D.chars)[0][1].xadvance,j=d(D,I,T),Y=j.lines,ne=j.longestLine;return Y.forEach(function(re){var ie=re.join(" "),W=i(N.constructor,D,ie,T,G);y.call(N,D,S+W,C,ie,R),C+=D.common.lineHeight}),(0,l.isNodePattern)(P)&&P.call(this,null,this,{x:S+ne,y:C}),this}}}};s.default=b,a.exports=s.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.measureText=u,s.measureTextHeight=c;function u(m,_){for(var f=0,h=0;h<_.length;h++)if(m.chars[_[h]]){var l=m.kernings[_[h]]&&m.kernings[_[h]][_[h+1]]?m.kernings[_[h]][_[h+1]]:0;f+=(m.chars[_[h]].xadvance||0)+l}return f}function c(m,_,f){for(var h=_.split(" "),l="",o=m.common.lineHeight,i=0;i<h.length;i++){var g=l+h[i]+" ",y=u(m,g);y>f&&i>0?(o+=m.common.lineHeight,l=h[i]+" "):l=g}return o}},{}],219:[function(n,a,s){(function(u){var c=n("xhr"),m=function(){},_=n("parse-bmfont-ascii"),f=n("parse-bmfont-xml"),h=n("parse-bmfont-binary"),l=n("./lib/is-binary"),o=n("xtend"),i=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();a.exports=function(d,v){v=typeof v=="function"?v:m,typeof d=="string"?d={uri:d}:d||(d={});var p=d.binary;p&&(d=y(d)),c(d,function(b,w,E){if(b)return v(b);if(!/^2/.test(w.statusCode))return v(new Error("http status code: "+w.statusCode));if(!E)return v(new Error("no body result"));var D=!1;if(g(E)){var S=new Uint8Array(E);E=new u(S,"binary")}l(E)&&(D=!0,typeof E=="string"&&(E=new u(E,"binary"))),D||(u.isBuffer(E)&&(E=E.toString(d.encoding)),E=E.trim());var C;try{var I=w.headers["content-type"];D?C=h(E):/json/.test(I)||E.charAt(0)==="{"?C=JSON.parse(E):/xml/.test(I)||E.charAt(0)==="<"?C=f(E):C=_(E)}catch(T){v(new Error("error parsing font "+T.message)),v=m}v(null,C)})};function g(d){var v=Object.prototype.toString;return v.call(d)==="[object ArrayBuffer]"}function y(d){if(i)return o(d,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var v=new self.XMLHttpRequest;return v.overrideMimeType("text/plain; charset=x-user-defined"),o({xhr:v},d)}}).call(this,n("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(n,a,s){(function(u){var c=n("buffer-equal"),m=new u([66,77,70,3]);a.exports=function(_){return typeof _=="string"?_.substring(0,3)==="BMF":_.length>4&&c(_.slice(0,4),m)}}).call(this,n("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(n,a,s){(function(u){"use strict";var c=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var m=n("@jimp/utils"),_=c(n("./modules/resize")),f=c(n("./modules/resize2")),h=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(i,g,y,d){if(typeof i!="number"||typeof g!="number")return m.throwError.call(this,"w and h must be numbers",d);if(typeof y=="function"&&typeof d>"u"&&(d=y,y=null),i===this.constructor.AUTO&&g===this.constructor.AUTO)return m.throwError.call(this,"w and h cannot both be set to auto",d);if(i===this.constructor.AUTO&&(i=this.bitmap.width*(g/this.bitmap.height)),g===this.constructor.AUTO&&(g=this.bitmap.height*(i/this.bitmap.width)),i<0||g<0)return m.throwError.call(this,"w and h must be positive numbers",d);if(i=Math.round(i),g=Math.round(g),typeof f.default[y]=="function"){var v={data:u.alloc(i*g*4),width:i,height:g};f.default[y](this.bitmap,v),this.bitmap=v}else{var p=this,b=new _.default(this.bitmap.width,this.bitmap.height,i,g,!0,!0,function(w){p.bitmap.data=u.from(w),p.bitmap.width=i,p.bitmap.height=g});b.resize(this.bitmap.data)}return(0,m.isNodePattern)(d)&&d.call(this,null,this),this}}}};s.default=h,a.exports=s.default}).call(this,n("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(n,a,s){"use strict";function u(c,m,_,f,h,l,o){this.widthOriginal=Math.abs(Math.floor(c)||0),this.heightOriginal=Math.abs(Math.floor(m)||0),this.targetWidth=Math.abs(Math.floor(_)||0),this.targetHeight=Math.abs(Math.floor(f)||0),this.colorChannels=h?4:3,this.interpolationPass=!!l,this.resizeCallback=typeof o=="function"?o:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}u.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},u.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},u.prototype._resizeWidthInterpolatedRGBChannels=function(c,m){var _=m?4:3,f=this.ratioWeightWidthPass,h=this.widthBuffer,l=0,o=0,i=0,g=0,y=0,d;for(d=0;l<1/3;d+=_,l+=f)for(o=d,i=0;o<this.widthPassResultSize;i+=this.originalWidthMultipliedByChannels,o+=this.targetWidthMultipliedByChannels)h[o]=c[i],h[o+1]=c[i+1],h[o+2]=c[i+2],m&&(h[o+3]=c[i+3]);l-=1/3;var v;for(v=this.widthOriginal-1;l<v;d+=_,l+=f)for(y=l%1,g=1-y,o=d,i=Math.floor(l)*_;o<this.widthPassResultSize;i+=this.originalWidthMultipliedByChannels,o+=this.targetWidthMultipliedByChannels)h[o+0]=c[i+0]*g+c[i+_+0]*y,h[o+1]=c[i+1]*g+c[i+_+1]*y,h[o+2]=c[i+2]*g+c[i+_+2]*y,m&&(h[o+3]=c[i+3]*g+c[i+_+3]*y);for(v=this.originalWidthMultipliedByChannels-_;d<this.targetWidthMultipliedByChannels;d+=_)for(o=d,i=v;o<this.widthPassResultSize;i+=this.originalWidthMultipliedByChannels,o+=this.targetWidthMultipliedByChannels)h[o]=c[i],h[o+1]=c[i+1],h[o+2]=c[i+2],m&&(h[o+3]=c[i+3]);return h},u.prototype._resizeWidthRGBChannels=function(c,m){var _=m?4:3,f=this.ratioWeightWidthPass,h=1/f,l=this.originalWidthMultipliedByChannels-_+1,o=this.targetWidthMultipliedByChannels-_+1,i=this.outputWidthWorkBench,g=this.widthBuffer,y=this.outputWidthWorkBenchOpaquePixelsCount,d=0,v=0,p=0,b=0,w=0,E=0,D=0,S=1,C=0,I=0,T=0,M=0;do{for(w=0;w<this.originalHeightMultipliedByChannels;)i[w++]=0,i[w++]=0,i[w++]=0,m&&(i[w++]=0,y[w/_-1]=0);d=f;do{for(v=1+p-b,S=Math.min(d,v),w=0,E=p;w<this.originalHeightMultipliedByChannels;E+=l)C=c[E],I=c[++E],T=c[++E],M=m?c[++E]:255,i[w++]+=(M?C:0)*S,i[w++]+=(M?I:0)*S,i[w++]+=(M?T:0)*S,m&&(i[w++]+=M*S,y[w/_-1]+=M?S:0);if(d>=v)p+=_,b=p,d-=v;else{b+=d;break}}while(d>0&&p<this.originalWidthMultipliedByChannels);for(w=0,E=D;w<this.originalHeightMultipliedByChannels;E+=o)d=m?y[w/_]:1,S=m?d?1/d:0:h,g[E]=i[w++]*S,g[++E]=i[w++]*S,g[++E]=i[w++]*S,m&&(g[++E]=i[w++]*h);D+=_}while(D<this.targetWidthMultipliedByChannels);return g},u.prototype._resizeHeightRGBChannels=function(c,m){var _=this.ratioWeightHeightPass,f=1/_,h=this.outputHeightWorkBench,l=this.heightBuffer,o=this.outputHeightWorkBenchOpaquePixelsCount,i=0,g=0,y=0,d=0,v=0,p=0,b=0,w=1,E=0,D=0,S=0,C=0;do{for(v=0;v<this.targetWidthMultipliedByChannels;)h[v++]=0,h[v++]=0,h[v++]=0,m&&(h[v++]=0,o[v/4-1]=0);i=_;do{for(g=1+y-d,w=Math.min(i,g),b=y,v=0;v<this.targetWidthMultipliedByChannels;)E=c[b++],D=c[b++],S=c[b++],C=m?c[b++]:255,h[v++]+=(C?E:0)*w,h[v++]+=(C?D:0)*w,h[v++]+=(C?S:0)*w,m&&(h[v++]+=C*w,o[v/4-1]+=C?w:0);if(i>=g)y=b,d=y,i-=g;else{d+=i;break}}while(i>0&&y<this.widthPassResultSize);for(v=0;v<this.targetWidthMultipliedByChannels;)i=m?o[v/4]:1,w=m?i?1/i:0:f,l[p++]=Math.round(h[v++]*w),l[p++]=Math.round(h[v++]*w),l[p++]=Math.round(h[v++]*w),m&&(l[p++]=Math.round(h[v++]*f))}while(p<this.finalResultSize);return l},u.prototype.resizeWidthInterpolatedRGB=function(c){return this._resizeWidthInterpolatedRGBChannels(c,!1)},u.prototype.resizeWidthInterpolatedRGBA=function(c){return this._resizeWidthInterpolatedRGBChannels(c,!0)},u.prototype.resizeWidthRGB=function(c){return this._resizeWidthRGBChannels(c,!1)},u.prototype.resizeWidthRGBA=function(c){return this._resizeWidthRGBChannels(c,!0)},u.prototype.resizeHeightInterpolated=function(c){for(var m=this.ratioWeightHeightPass,_=this.heightBuffer,f=0,h=0,l=0,o=0,i=0,g=0,y=0,d;f<1/3;f+=m)for(l=0;l<this.targetWidthMultipliedByChannels;)_[h++]=Math.round(c[l++]);for(f-=1/3,d=this.heightOriginal-1;f<d;f+=m)for(y=f%1,g=1-y,o=Math.floor(f)*this.targetWidthMultipliedByChannels,i=o+this.targetWidthMultipliedByChannels,l=0;l<this.targetWidthMultipliedByChannels;++l)_[h++]=Math.round(c[o++]*g+c[i++]*y);for(;h<this.finalResultSize;)for(l=0,o=d*this.targetWidthMultipliedByChannels;l<this.targetWidthMultipliedByChannels;++l)_[h++]=Math.round(c[o++]);return _},u.prototype.resizeHeightRGB=function(c){return this._resizeHeightRGBChannels(c,!1)},u.prototype.resizeHeightRGBA=function(c){return this._resizeHeightRGBChannels(c,!0)},u.prototype.resize=function(c){this.resizeCallback(this.resizeHeight(this.resizeWidth(c)))},u.prototype.bypassResizer=function(c){return c},u.prototype.initializeFirstPassBuffers=function(c){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),c||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},u.prototype.initializeSecondPassBuffers=function(c){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),c||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},u.prototype.generateFloatBuffer=function(c){try{return new Float32Array(c)}catch{return[]}},u.prototype.generateFloat64Buffer=function(c){try{return new Float64Array(c)}catch{return[]}},u.prototype.generateUint8Buffer=function(c){try{return new Uint8Array(c)}catch{return[]}},a.exports=u},{}],223:[function(n,a,s){(function(u){"use strict";a.exports={nearestNeighbor:function(m,_){for(var f=m.width,h=m.height,l=_.width,o=_.height,i=m.data,g=_.data,y=0;y<o;y++)for(var d=0;d<l;d++){var v=(y*l+d)*4,p=Math.floor(y*h/o),b=Math.floor(d*f/l),w=(p*f+b)*4;g[v++]=i[w++],g[v++]=i[w++],g[v++]=i[w++],g[v++]=i[w++]}},bilinearInterpolation:function(m,_){for(var f=m.width,h=m.height,l=_.width,o=_.height,i=m.data,g=_.data,y=function(M,P,N,G,V){return P===G?N:Math.round((M-P)*V+(G-M)*N)},d=function(M,P,N,G,V,H,R,j){var Y=(R*f+G)*4+P,ne=(R*f+V)*4+P,re=y(N,G,i[Y],V,i[ne]);if(j===R)g[M+P]=re;else{Y=(j*f+G)*4+P,ne=(j*f+V)*4+P;var ie=y(N,G,i[Y],V,i[ne]);g[M+P]=y(H,R,re,j,ie)}},v=0;v<o;v++)for(var p=0;p<l;p++){var b=(v*l+p)*4,w=p*f/l,E=Math.floor(w),D=Math.min(Math.ceil(w),f-1),S=v*h/o,C=Math.floor(S),I=Math.min(Math.ceil(S),h-1);d(b,0,w,E,D,S,C,I),d(b,1,w,E,D,S,C,I),d(b,2,w,E,D,S,C,I),d(b,3,w,E,D,S,C,I)}},_interpolate2D:function(m,_,f,h){for(var l=m.data,o=_.data,i=m.width,g=m.height,y=_.width,d=_.height,v=Math.max(1,Math.floor(i/y)),p=y*v,b=Math.max(1,Math.floor(g/d)),w=d*b,E=u.alloc(p*g*4),D=0;D<g;D++)for(var S=0;S<p;S++)for(var C=S*(i-1)/p,I=Math.floor(C),T=C-I,M=(D*i+I)*4,P=(D*p+S)*4,N=0;N<4;N++){var G=M+N,V=I>0?l[G-4]:2*l[G]-l[G+4],H=l[G],R=l[G+4],j=I<i-2?l[G+8]:2*l[G+4]-l[G];E[P+N]=h(V,H,R,j,T)}for(var Y=u.alloc(p*w*4),ne=0;ne<w;ne++)for(var re=0;re<p;re++)for(var ie=ne*(g-1)/w,W=Math.floor(ie),q=ie-W,te=(W*p+re)*4,K=(ne*p+re)*4,J=0;J<4;J++){var le=te+J,se=W>0?E[le-p*4]:2*E[le]-E[le+p*4],_e=E[le],ge=E[le+p*4],Ee=W<g-2?E[le+p*8]:2*E[le+p*4]-E[le];Y[K+J]=h(se,_e,ge,Ee,q)}var ae=v*b;if(ae>1)for(var oe=0;oe<d;oe++)for(var Q=0;Q<y;Q++){for(var Z=0,z=0,$=0,O=0,B=0,U=0;U<b;U++)for(var A=oe*b+U,k=0;k<v;k++){var ee=Q*v+k,he=(A*p+ee)*4,we=Y[he+3];we&&(Z+=Y[he],z+=Y[he+1],$+=Y[he+2],B++),O+=we}var pe=(oe*y+Q)*4;o[pe]=B?Math.round(Z/B):0,o[pe+1]=B?Math.round(z/B):0,o[pe+2]=B?Math.round($/B):0,o[pe+3]=Math.round(O/ae)}else _.data=Y},bicubicInterpolation:function(m,_,f){var h=function(o,i,g,y,d){var v=y-g-o+i,p=o-i-v,b=g-o,w=i;return Math.max(0,Math.min(255,v*(d*d*d)+p*(d*d)+b*d+w))};return this._interpolate2D(m,_,f,h)},hermiteInterpolation:function(m,_,f){var h=function(o,i,g,y,d){var v=i,p=.5*(g-o),b=o-2.5*i+2*g-.5*y,w=.5*(y-o)+1.5*(i-g);return Math.max(0,Math.min(255,Math.round(((w*d+b)*d+p)*d+v)))};return this._interpolate2D(m,_,f,h)},bezierInterpolation:function(m,_,f){var h=function(o,i,g,y,d){var v=i+(g-o)/4,p=g-(y-i)/4,b=1-d,w=i*b*b*b,E=3*v*b*b*d,D=3*p*b*d*d,S=g*d*d*d;return Math.max(0,Math.min(255,Math.round(w+E+D+S)))};return this._interpolate2D(m,_,f,h)}}}).call(this,n("buffer").Buffer)},{buffer:48}],224:[function(n,a,s){(function(u){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=n("@jimp/utils");function m(f,h){f%=360;var l=f*Math.PI/180,o=Math.cos(l),i=Math.sin(l),g=this.bitmap.width,y=this.bitmap.height;if(h===!0||typeof h=="string"){g=Math.ceil(Math.abs(this.bitmap.width*o)+Math.abs(this.bitmap.height*i))+1,y=Math.ceil(Math.abs(this.bitmap.width*i)+Math.abs(this.bitmap.height*o))+1,g%2!==0&&g++,y%2!==0&&y++;var d=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(R,j,Y){this.bitmap.data.writeUInt32BE(this._background,Y)});var v=Math.max(g,y,this.bitmap.width,this.bitmap.height);this.resize(v,v,h),this.blit(d,this.bitmap.width/2-d.bitmap.width/2,this.bitmap.height/2-d.bitmap.height/2)}var p=this.bitmap.width,b=this.bitmap.height,w=u.alloc(this.bitmap.data.length);function E(R,j){return function(Y,ne){return{x:Y+R,y:ne+j}}}for(var D=E(-(p/2),-(b/2)),S=E(p/2+.5,b/2+.5),C=1;C<=b;C++)for(var I=1;I<=p;I++){var T=D(I,C),M=S(o*T.x-i*T.y,o*T.y+i*T.x),P=p*(C-1)+I-1<<2;if(M.x>=0&&M.x<p&&M.y>=0&&M.y<b){var N=(p*(M.y|0)+M.x|0)<<2,G=this.bitmap.data.readUInt32BE(N);w.writeUInt32BE(G,P)}else w.writeUInt32BE(this._background,P)}if(this.bitmap.data=w,h===!0||typeof h=="string"){var V=p/2-g/2,H=b/2-y/2;this.crop(V,H,g,y)}}var _=function(){return{rotate:function(l,o,i){return(typeof o>"u"||o===null)&&(o=!0),typeof o=="function"&&typeof i>"u"&&(i=o,o=!0),typeof l!="number"?c.throwError.call(this,"deg must be a number",i):typeof o!="boolean"&&typeof o!="string"?c.throwError.call(this,"mode must be a boolean or a string",i):(m.call(this,l,o,i),(0,c.isNodePattern)(i)&&i.call(this,null,this),this)}}};s.default=_,a.exports=s.default}).call(this,n("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=function(){return{scale:function(f,h,l){if(typeof f!="number")return u.throwError.call(this,"f must be a number",l);if(f<0)return u.throwError.call(this,"f must be a positive number",l);typeof h=="function"&&typeof l>"u"&&(l=h,h=null);var o=this.bitmap.width*f,i=this.bitmap.height*f;return this.resize(o,i,h),(0,u.isNodePattern)(l)&&l.call(this,null,this),this},scaleToFit:function(f,h,l,o){if(typeof f!="number"||typeof h!="number")return u.throwError.call(this,"w and h must be numbers",o);typeof l=="function"&&typeof o>"u"&&(o=l,l=null);var i=f/h>this.bitmap.width/this.bitmap.height?h/this.bitmap.height:f/this.bitmap.width;return this.scale(i,l),(0,u.isNodePattern)(o)&&o.call(this,null,this),this}}};s.default=c,a.exports=s.default},{"@jimp/utils":235}],226:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=function(){return{shadow:function(){var f=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;typeof h=="function"&&(l=h,h={});var o=h,i=o.opacity,g=i===void 0?.7:i,y=o.size,d=y===void 0?1.1:y,v=o.x,p=v===void 0?-25:v,b=o.y,w=b===void 0?25:b,E=o.blur,D=E===void 0?5:E,S=this.clone(),C=this.clone();return C.scan(0,0,C.bitmap.width,C.bitmap.height,function(I,T,M){C.bitmap.data[M]=0,C.bitmap.data[M+1]=0,C.bitmap.data[M+2]=0,C.bitmap.data[M+3]=C.constructor.limit255(C.bitmap.data[M+3]*g),f.bitmap.data[M]=0,f.bitmap.data[M+1]=0,f.bitmap.data[M+2]=0,f.bitmap.data[M+3]=0}),C.resize(C.bitmap.width*d,C.bitmap.height*d).blur(D),this.composite(C,p,w),this.composite(S,0,0),(0,u.isNodePattern)(l)&&l.call(this,null,this),this}}};s.default=c,a.exports=s.default},{"@jimp/utils":235}],227:[function(n,a,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=n("@jimp/utils"),c=function(){return{threshold:function(f,h){var l=this,o=f.max,i=f.replace,g=i===void 0?255:i,y=f.autoGreyscale,d=y===void 0?!0:y;return typeof o!="number"?u.throwError.call(this,"max must be a number",h):typeof g!="number"?u.throwError.call(this,"replace must be a number",h):typeof d!="boolean"?u.throwError.call(this,"autoGreyscale must be a boolean",h):(o=this.constructor.limit255(o),g=this.constructor.limit255(g),d&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(v,p,b){var w=l.bitmap.data[b]<o?l.bitmap.data[b]:g;l.bitmap.data[b]=w,l.bitmap.data[b+1]=w,l.bitmap.data[b+2]=w}),(0,u.isNodePattern)(h)&&h.call(this,null,this),this)}}};s.default=c,a.exports=s.default},{"@jimp/utils":235}],228:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=u(n("@babel/runtime/helpers/toConsumableArray")),m=n("timm"),_=u(n("@jimp/plugin-blit")),f=u(n("@jimp/plugin-blur")),h=u(n("@jimp/plugin-circle")),l=u(n("@jimp/plugin-color")),o=u(n("@jimp/plugin-contain")),i=u(n("@jimp/plugin-cover")),g=u(n("@jimp/plugin-crop")),y=u(n("@jimp/plugin-displace")),d=u(n("@jimp/plugin-dither")),v=u(n("@jimp/plugin-fisheye")),p=u(n("@jimp/plugin-flip")),b=u(n("@jimp/plugin-gaussian")),w=u(n("@jimp/plugin-invert")),E=u(n("@jimp/plugin-mask")),D=u(n("@jimp/plugin-normalize")),S=u(n("@jimp/plugin-print")),C=u(n("@jimp/plugin-resize")),I=u(n("@jimp/plugin-rotate")),T=u(n("@jimp/plugin-scale")),M=u(n("@jimp/plugin-shadow")),P=u(n("@jimp/plugin-threshold")),N=[_.default,f.default,h.default,l.default,o.default,i.default,g.default,y.default,d.default,v.default,p.default,b.default,w.default,E.default,D.default,S.default,C.default,I.default,T.default,M.default,P.default],G=function(H){var R=N.map(function(j){var Y=j(H)||{};return!Y.class&&!Y.constants&&(Y={class:Y}),Y});return m.mergeDeep.apply(void 0,(0,c.default)(R))};s.default=G,a.exports=s.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=u(n("@babel/runtime/helpers/defineProperty")),m=u(n("bmp-js")),_=n("@jimp/utils"),f="image/bmp",h="image/x-ms-bmp";function l(d){return(0,_.scan)(d,0,0,d.bitmap.width,d.bitmap.height,function(v,p,b){var w=this.bitmap.data[b+0],E=this.bitmap.data[b+1],D=this.bitmap.data[b+2],S=this.bitmap.data[b+3];this.bitmap.data[b+0]=S,this.bitmap.data[b+1]=D,this.bitmap.data[b+2]=E,this.bitmap.data[b+3]=w}).bitmap}function o(d){return(0,_.scan)({bitmap:d},0,0,d.width,d.height,function(v,p,b){var w=this.bitmap.data[b+0],E=this.bitmap.data[b+1],D=this.bitmap.data[b+2],S=this.bitmap.data[b+3];this.bitmap.data[b+0]=S,this.bitmap.data[b+1]=D,this.bitmap.data[b+2]=E,this.bitmap.data[b+3]=d.is_with_alpha?w:255}).bitmap}var i=function(v){return o(m.default.decode(v))},g=function(v){return m.default.encode(l(v)).data},y=function(){var v,p;return{mime:(0,c.default)({},f,["bmp"]),constants:{MIME_BMP:f,MIME_X_MS_BMP:h},decoders:(v={},(0,c.default)(v,f,i),(0,c.default)(v,h,i),v),encoders:(p={},(0,c.default)(p,f,g),(0,c.default)(p,h,g),p)}};s.default=y,a.exports=s.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(n,a,s){(function(u){"use strict";var c=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var m=c(n("@babel/runtime/helpers/defineProperty")),_=c(n("omggif")),f=n("gifwrap"),h="image/gif",l=function(){return{mime:(0,m.default)({},h,["gif"]),constants:{MIME_GIF:h},decoders:(0,m.default)({},h,function(i){var g=new _.default.GifReader(i),y=u.alloc(g.width*g.height*4);return g.decodeAndBlitFrameRGBA(0,y),{data:y,width:g.width,height:g.height}}),encoders:(0,m.default)({},h,function(i){var g=new f.BitmapImage(i.bitmap);f.GifUtil.quantizeDekker(g,256);var y=new f.GifFrame(g),d=new f.GifCodec;return d.encodeGif([y],{}).then(function(v){return v.buffer})})}};s.default=l,a.exports=s.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=u(n("@babel/runtime/helpers/defineProperty")),m=u(n("jpeg-js")),_=n("@jimp/utils"),f="image/jpeg",h=function(){return{mime:(0,c.default)({},f,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:f},decoders:(0,c.default)({},f,m.default.decode),encoders:(0,c.default)({},f,function(o){return m.default.encode(o.bitmap,o._quality).data}),class:{_quality:100,quality:function(i,g){return typeof i!="number"?_.throwError.call(this,"n must be a number",g):i<0||i>100?_.throwError.call(this,"n must be a number 0 - 100",g):(this._quality=Math.round(i),(0,_.isNodePattern)(g)&&g.call(this,null,this),this)}}}};s.default=h,a.exports=s.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=u(n("@babel/runtime/helpers/defineProperty")),m=n("pngjs"),_=n("@jimp/utils"),f="image/png",h=-1,l=0,o=1,i=2,g=3,y=4,d=function(){return{mime:(0,c.default)({},f,["png"]),constants:{MIME_PNG:f,PNG_FILTER_AUTO:h,PNG_FILTER_NONE:l,PNG_FILTER_SUB:o,PNG_FILTER_UP:i,PNG_FILTER_AVERAGE:g,PNG_FILTER_PATH:y},hasAlpha:(0,c.default)({},f,!0),decoders:(0,c.default)({},f,m.PNG.sync.read),encoders:(0,c.default)({},f,function(p){var b=new m.PNG({width:p.bitmap.width,height:p.bitmap.height});return b.data=p.bitmap.data,m.PNG.sync.write(b,{width:p.bitmap.width,height:p.bitmap.height,deflateLevel:p._deflateLevel,deflateStrategy:p._deflateStrategy,filterType:p._filterType,colorType:typeof p._colorType=="number"?p._colorType:p._rgba?6:2,inputHasAlpha:p._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:h,_colorType:null,deflateLevel:function(b,w){return typeof b!="number"?_.throwError.call(this,"l must be a number",w):b<0||b>9?_.throwError.call(this,"l must be a number 0 - 9",w):(this._deflateLevel=Math.round(b),(0,_.isNodePattern)(w)&&w.call(this,null,this),this)},deflateStrategy:function(b,w){return typeof b!="number"?_.throwError.call(this,"s must be a number",w):b<0||b>3?_.throwError.call(this,"s must be a number 0 - 3",w):(this._deflateStrategy=Math.round(b),(0,_.isNodePattern)(w)&&w.call(this,null,this),this)},filterType:function(b,w){return typeof b!="number"?_.throwError.call(this,"n must be a number",w):b<-1||b>4?_.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",w):(this._filterType=Math.round(b),(0,_.isNodePattern)(w)&&w.call(this,null,this),this)},colorType:function(b,w){return typeof b!="number"?_.throwError.call(this,"s must be a number",w):b!==0&&b!==2&&b!==4&&b!==6?_.throwError.call(this,"s must be a number 0, 2, 4, 6.",w):(this._colorType=Math.round(b),(0,_.isNodePattern)(w)&&w.call(this,null,this),this)}}}};s.default=d,a.exports=s.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(n,a,s){(function(u){"use strict";var c=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var m=c(n("@babel/runtime/helpers/defineProperty")),_=c(n("utif")),f="image/tiff",h=function(){return{mime:(0,m.default)({},f,["tiff","tif"]),constants:{MIME_TIFF:f},decoders:(0,m.default)({},f,function(o){var i=_.default.decode(o),g=i[0];_.default.decodeImages(o,i);var y=_.default.toRGBA8(g);return{data:u.from(y),width:g.t256[0],height:g.t257[0]}}),encoders:(0,m.default)({},f,function(o){var i=_.default.encodeImage(o.bitmap.data,o.bitmap.width,o.bitmap.height);return u.from(i)})}};s.default=h,a.exports=s.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=n("timm"),m=u(n("@jimp/jpeg")),_=u(n("@jimp/png")),f=u(n("@jimp/bmp")),h=u(n("@jimp/tiff")),l=u(n("@jimp/gif")),o=function(){return(0,c.mergeDeep)((0,m.default)(),(0,_.default)(),(0,f.default)(),(0,h.default)(),(0,l.default)())};s.default=o,a.exports=s.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(n,a,s){"use strict";var u=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(s,"__esModule",{value:!0}),s.isNodePattern=_,s.throwError=f,s.scan=h,s.scanIterator=l;var c=u(n("@babel/runtime/regenerator")),m=c.default.mark(l);function _(o){if(typeof o>"u")return!1;if(typeof o!="function")throw new TypeError("Callback must be a function");return!0}function f(o,i){if(typeof o=="string"&&(o=new Error(o)),typeof i=="function")return i.call(this,o);throw o}function h(o,i,g,y,d,v){i=Math.round(i),g=Math.round(g),y=Math.round(y),d=Math.round(d);for(var p=g;p<g+d;p++)for(var b=i;b<i+y;b++){var w=o.bitmap.width*p+b<<2;v.call(o,b,p,w)}return o}function l(o,i,g,y,d){var v,p,b;return c.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:i=Math.round(i),g=Math.round(g),y=Math.round(y),d=Math.round(d),v=g;case 5:if(!(v<g+d)){E.next=17;break}p=i;case 7:if(!(p<i+y)){E.next=14;break}return b=o.bitmap.width*v+p<<2,E.next=11,{x:p,y:v,idx:b,image:o};case 11:p++,E.next=7;break;case 14:v++,E.next=5;break;case 17:case"end":return E.stop()}},m)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})});var bo=Ht((JN,jg)=>{"use strict";function rf(e,t){this.x=e||0,this.y=t||0}rf.prototype={copy:function(){return new rf(this.x,this.y)}};jg.exports=rf});var wo=Ht((eO,Hg)=>{"use strict";var af=bo(),Cs={};function Px(e){return Cs[e]||(Cs[e]=new RegExp(" "+e+'="((?:\\\\(?=")"|[^"])+)"',"i")),Cs[e]}function Lx(e,t,r){var n=" "+t+'="'+r+'"';return e.indexOf(" "+t+'="')===-1?e=e.replace(/<[a-z]+/i,function(a){return a+n}):e=e.replace(Px(t),n),e}function tn(e){return e.toFixed(3).replace(".000","")}function Fx(e,t){return e>=t?e%t:e>=0?e:t-1-(-1-e)%t}function Bx(e,t){return e.x*t.y-e.y*t.x}function jx(e,t,r){return e<=r?e<=t&&t<r:e<=t||t<r}function of(e){return e>0?1:e<0?-1:0}function Ux(e,t){var r=new Array(3),n,a,s;for(r[0]=t.x,r[1]=t.y,r[2]=1,s=0,n=0;n<3;n++)for(a=0;a<3;a++)s+=r[n]*e.at(n,a)*r[a];return s}function Hx(e,t,r){var n=new af;return n.x=t.x+e*(r.x-t.x),n.y=t.y+e*(r.y-t.y),n}function Ug(e,t){var r=new af;return r.y=of(t.x-e.x),r.x=-of(t.y-e.y),r}function zx(e,t){var r=Ug(e,t);return r.y*(t.x-e.x)-r.x*(t.y-e.y)}function Vx(e,t,r){var n,a,s,u;return n=t.x-e.x,a=t.y-e.y,s=r.x-e.x,u=r.y-e.y,n*u-s*a}function Ss(e,t,r,n){var a,s,u,c;return a=t.x-e.x,s=t.y-e.y,u=n.x-r.x,c=n.y-r.y,a*c-u*s}function Gx(e,t,r){var n,a,s,u;return n=t.x-e.x,a=t.y-e.y,s=r.x-e.x,u=r.y-e.y,n*s+a*u}function $x(e,t,r,n){var a,s,u,c;return a=t.x-e.x,s=t.y-e.y,u=n.x-r.x,c=n.y-r.y,a*u+s*c}function Wx(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}Hg.exports={luminance:function(e,t,r){return Math.round(.2126*e+.7153*t+.0721*r)},between:function(e,t,r){return e>=t&&e<=r},clamp:function(e,t,r){return Math.min(r,Math.max(t,e))},isNumber:function(e){return typeof e=="number"},setHtmlAttr:Lx,renderCurve:function(e,t){t=t||{x:1,y:1};var r=e.c[(e.n-1)*3+2],n=["M "+tn(r.x*t.x)+" "+tn(r.y*t.y)];return e.tag.forEach(function(a,s){var u=s*3,c=e.c[u],m=e.c[u+1],_=e.c[u+2];a==="CURVE"?n.push("C "+tn(c.x*t.x)+" "+tn(c.y*t.y)+", "+tn(m.x*t.x)+" "+tn(m.y*t.y)+", "+tn(_.x*t.x)+" "+tn(_.y*t.y)):a==="CORNER"&&n.push("L "+tn(m.x*t.x)+" "+tn(m.y*t.y)+" "+tn(_.x*t.x)+" "+tn(_.y*t.y))}),n.join(" ")},bezier:function(t,r,n,a,s){var u=1-t,c=new af;return c.x=u*u*u*r.x+3*(u*u*t)*n.x+3*(t*t*u)*a.x+t*t*t*s.x,c.y=u*u*u*r.y+3*(u*u*t)*n.y+3*(t*t*u)*a.y+t*t*t*s.y,c},tangent:function(t,r,n,a,s,u){var c,m,_,f,h,l,o,i,g,y;return c=Ss(t,r,s,u),m=Ss(r,n,s,u),_=Ss(n,a,s,u),f=c-2*m+_,h=-2*c+2*m,l=c,o=h*h-4*f*l,f===0||o<0?-1:(i=Math.sqrt(o),g=(-h+i)/(2*f),y=(-h-i)/(2*f),g>=0&&g<=1?g:y>=0&&y<=1?y:-1)},mod:Fx,xprod:Bx,cyclic:jx,sign:of,quadform:Ux,interval:Hx,dorth_infty:Ug,ddenom:zx,dpara:Vx,cprod:Ss,iprod:Gx,iprod1:$x,ddist:Wx}});var lf=Ht((tO,zg)=>{"use strict";var Ms=wo(),uf=null;try{uf=nf()}catch{}var Zx=cf(),St=256,Is=St-1;function gn(e,t){return St*e+t}function sf(e,t){if(e=typeof e=="number"?Ms.clamp(Math.round(e),0,Is):0,t=typeof t=="number"?Ms.clamp(Math.round(t),0,Is):Is,e>t)throw new Error('Invalid range "'+e+"..."+t+'"');return[e,t]}function Zn(e,t){if(this.data=null,this.pixels=0,this._sortedIndexes=null,this._cachedStats={},this._lookupTableH=null,typeof e=="number")this._createArray(e);else if(e instanceof Zx)this._collectValuesBitmap(e);else if(uf&&e instanceof uf)this._collectValuesJimp(e,t);else throw new Error("Unsupported image source")}Zn.MODE_LUMINANCE="luminance";Zn.MODE_R="r";Zn.MODE_G="g";Zn.MODE_B="b";Zn.prototype={_createArray:function(e){var t=e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:Uint32Array;return this.pixels=e,this.data=new t(St)},_collectValuesJimp:function(e,t){var r=e.bitmap.data,n=this._createArray(e.bitmap.width*e.bitmap.height);e.scan(0,0,e.bitmap.width,e.bitmap.height,function(a,s,u){var c=t===Zn.MODE_R?r[u]:t===Zn.MODE_G?r[u+1]:t===Zn.MODE_B?r[u+2]:Ms.luminance(r[u],r[u+1],r[u+2]);n[c]++})},_collectValuesBitmap:function(e){for(var t=this._createArray(e.size),r=e.data.length,n,a=0;a<r;a++)n=e.data[a],t[n]++},_getSortedIndexes:function(e){if(!e&&this._sortedIndexes)return this._sortedIndexes;var t=this.data,r=new Array(St),n=0;for(n;n<St;n++)r[n]=n;return r.sort(function(a,s){return t[a]>t[s]?1:t[a]<t[s]?-1:0}),this._sortedIndexes=r,r},_thresholdingBuildLookupTable:function(){var e=new Float64Array(St*St),t=new Float64Array(St*St),r=new Float64Array(St*St),n=this.pixels,a,s,u,c;for(a=1;a<St;++a)u=gn(a,a),c=this.data[a]/n,e[u]=c,t[u]=a*c;for(a=1;a<St-1;++a)c=this.data[a+1]/n,u=gn(1,a),e[u+1]=e[u]+c,t[u+1]=t[u]+(a+1)*c;for(a=2;a<St;a++)for(s=a+1;s<St;s++)e[gn(a,s)]=e[gn(1,s)]-e[gn(1,a-1)],t[gn(a,s)]=t[gn(1,s)]-t[gn(1,a-1)];for(a=1;a<St;++a)for(s=a+1;s<St;s++)u=gn(a,s),r[u]=e[u]!==0?t[u]*t[u]/e[u]:0;return this._lookupTableH=r},multilevelThresholding:function(e,t,r){if(t=sf(t,r),r=t[1],t=t[0],e=Math.min(r-t-2,~~e),e<1)return[];this._lookupTableH||this._thresholdingBuildLookupTable();var n=this._lookupTableH,a=null,s=0;e>4&&console.log("[Warning]: Threshold computation for more than 5 levels may take a long time");function u(c,m,_,f){c=(c||0)+1,m=m||0,_=_||new Array(e),f=f||0;for(var h=f+1,l,o=c;o<r-e+f;o++)l=m+n[gn(c,o)],_[h-1]=o,h+1<e+1?u(o,l,_,h):(l+=n[gn(o+1,r)],s<l&&(s=l,a=_.slice()))}return u(t||0),a||[]},autoThreshold:function(e,t){var r=this.multilevelThresholding(1,e,t);return r.length?r[0]:null},getDominantColor:function(e,t,r){e=sf(e,t),t=e[1],e=e[0],r=r||1;var n=this.data,a=-1,s=-1,u,c,m;if(e===t)return n[e]?e:-1;for(u=e;u<=t;u++){for(m=0,c=~~(r/-2);c<r;c++)m+=Ms.between(u+c,0,Is)?n[u+c]:0;var _=m>s,f=s===m&&(a<0||n[u]>n[a]);(_||f)&&(a=u,s=m)}return s<=0?-1:a},getStats:function(e,t,r){if(e=sf(e,t),t=e[1],e=e[0],!r&&this._cachedStats[e+"-"+t])return this._cachedStats[e+"-"+t];var n=this.data,a=this._getSortedIndexes(),s=0,u=null,c,m,_,f,h=0,l=0,o=0,i,g,y,d=0,v=0;for(i=e;i<=t;i++)s+=n[i],o+=n[i]*i,d+=n[i]===0?0:1,v<n[i]&&(v=n[i]);for(c=o/s,_=s/(t-e),f=s/d,m=Math.floor(s/2),i=0;i<St;i++)y=a[i],g=n[y],!(y<e||y>t)&&(l+=g,h+=Math.pow(y-c,2)*g,u===null&&l>=m&&(u=y));return this._cachedStats[e+"-"+t]={levels:{mean:c,median:u,stdDev:Math.sqrt(h/s),unique:d},pixelsPerLevel:{mean:_,median:f,peak:v},pixels:s}}};zg.exports=Zn});var cf=Ht((nO,Gg)=>{"use strict";var Vg=bo(),ff=wo(),qx;function df(e,t){this._histogram=null,this.width=e,this.height=t,this.size=e*t,this.arrayBuffer=new ArrayBuffer(this.size),this.data=new Uint8Array(this.arrayBuffer)}Gg.exports=df;qx=lf();df.prototype={getValueAt:function(e,t){var r=typeof e=="number"&&typeof t!="number"?e:this.pointToIndex(e,t);return this.data[r]},indexToPoint:function(e){var t=new Vg;return ff.between(e,0,this.size)?(t.y=Math.floor(e/this.width),t.x=e-t.y*this.width):(t.x=-1,t.y=-1),t},pointToIndex:function(e,t){var r=e,n=t;return e instanceof Vg&&(r=e.x,n=e.y),!ff.between(r,0,this.width)||!ff.between(n,0,this.height)?-1:this.width*n+r},copy:function(e){var t=new df(this.width,this.height),r=typeof e=="function",n;for(n=0;n<this.size;n++)t.data[n]=r?e(this.data[n],n):this.data[n];return t},histogram:function(){var e=lf();return this._histogram?this._histogram:(this._histogram=new e(this),this._histogram)}}});var Wg=Ht((rO,$g)=>{"use strict";function Yx(e){this.n=e,this.tag=new Array(e),this.c=new Array(e*3),this.alphaCurve=0,this.vertex=new Array(e),this.alpha=new Array(e),this.alpha0=new Array(e),this.beta=new Array(e)}$g.exports=Yx});var qg=Ht((iO,Zg)=>{"use strict";function Qx(){this.area=0,this.len=0,this.curve={},this.pt=[],this.minX=1e5,this.minY=1e5,this.maxX=-1,this.maxY=-1}Zg.exports=Qx});var Xg=Ht((oO,Qg)=>{"use strict";function Yg(){this.data=[0,0,0,0,0,0,0,0,0]}Yg.prototype.at=function(e,t){return this.data[e*3+t]};Qg.exports=Yg});var Jg=Ht((aO,Kg)=>{"use strict";function Xx(e,t,r,n,a){this.x=e,this.y=t,this.xy=r,this.x2=n,this.y2=a}Kg.exports=Xx});var nm=Ht((sO,tm)=>{"use strict";var em=bo();function Kx(){this.pen=0,this.c=[new em,new em],this.t=0,this.s=0,this.alpha=0}tm.exports=Kx});var hf=Ht((uO,lm)=>{"use strict";var rm=nf(),Jx=cf(),im=Wg(),Wt=bo(),eD=qg(),om=Xg(),am=Jg(),sm=nm(),Re=wo();function ct(e){this._luminanceData=null,this._pathlist=[],this._imageLoadingIdentifier=null,this._imageLoaded=!1,this._processed=!1,this._params={turnPolicy:ct.TURNPOLICY_MINORITY,turdSize:2,alphaMax:1,optCurve:!0,optTolerance:.2,threshold:ct.THRESHOLD_AUTO,blackOnWhite:!0,color:ct.COLOR_AUTO,background:ct.COLOR_TRANSPARENT,width:null,height:null},e&&this.setParameters(e)}ct.COLOR_AUTO="auto";ct.COLOR_TRANSPARENT="transparent";ct.THRESHOLD_AUTO=-1;ct.TURNPOLICY_BLACK="black";ct.TURNPOLICY_WHITE="white";ct.TURNPOLICY_LEFT="left";ct.TURNPOLICY_RIGHT="right";ct.TURNPOLICY_MINORITY="minority";ct.TURNPOLICY_MAJORITY="majority";var um=[ct.TURNPOLICY_BLACK,ct.TURNPOLICY_WHITE,ct.TURNPOLICY_LEFT,ct.TURNPOLICY_RIGHT,ct.TURNPOLICY_MINORITY,ct.TURNPOLICY_MAJORITY];ct.prototype={_bmToPathlist:function(){var e=this,t=this._params.threshold,r=this._params.blackOnWhite,n,a=new Wt(0,0),s;t===ct.THRESHOLD_AUTO&&(t=this._luminanceData.histogram().autoThreshold()||128),n=this._luminanceData.copy(function(f){var h=r?f>t:f<t;return h?0:1});function u(f){for(var h=n.pointToIndex(f);h<n.size&&n.data[h]!==1;)h++;return h<n.size&&n.indexToPoint(h)}function c(f,h){var l,o,i;for(l=2;l<5;l++){for(i=0,o=-l+1;o<=l-1;o++)i+=n.getValueAt(f+o,h+l-1)?1:-1,i+=n.getValueAt(f+l-1,h+o-1)?1:-1,i+=n.getValueAt(f+o-1,h-l)?1:-1,i+=n.getValueAt(f-l,h+o)?1:-1;if(i>0)return 1;if(i<0)return 0}return 0}function m(f){var h=new eD,l=f.x,o=f.y,i=0,g=1,y;for(h.sign=n.getValueAt(f.x,f.y)?"+":"-";h.pt.push(new Wt(l,o)),l>h.maxX&&(h.maxX=l),l<h.minX&&(h.minX=l),o>h.maxY&&(h.maxY=o),o<h.minY&&(h.minY=o),h.len++,l+=i,o+=g,h.area-=l*g,!(l===f.x&&o===f.y);){var d=n.getValueAt(l+(i+g-1)/2,o+(g-i-1)/2),v=n.getValueAt(l+(i-g-1)/2,o+(g+i-1)/2);v&&!d?e._params.turnPolicy==="right"||e._params.turnPolicy==="black"&&h.sign==="+"||e._params.turnPolicy==="white"&&h.sign==="-"||e._params.turnPolicy==="majority"&&c(l,o)||e._params.turnPolicy==="minority"&&!c(l,o)?(y=i,i=-g,g=y):(y=i,i=g,g=-y):v?(y=i,i=-g,g=y):d||(y=i,i=g,g=-y)}return h}function _(f){var h=f.pt[0].y,l=f.len,o,i,g,y,d,v,p;for(d=1;d<l;d++)if(o=f.pt[d].x,i=f.pt[d].y,i!==h){for(y=h<i?h:i,g=f.maxX,v=o;v<g;v++)p=n.pointToIndex(v,y),n.data[p]=n.data[p]?0:1;h=i}}for(this._pathlist=[];a=u(a);)s=m(a),_(s),s.area>e._params.turdSize&&this._pathlist.push(s)},_processPath:function(){var e=this;function t(f){var h,l,o;f.x0=f.pt[0].x,f.y0=f.pt[0].y,f.sums=[];var i=f.sums;for(i.push(new am(0,0,0,0,0)),h=0;h<f.len;h++)l=f.pt[h].x-f.x0,o=f.pt[h].y-f.y0,i.push(new am(i[h].x+l,i[h].y+o,i[h].xy+l*o,i[h].x2+l*l,i[h].y2+o*o))}function r(f){var h=f.len,l=f.pt,o,i=new Array(h),g=new Array(h),y=new Array(4);f.lon=new Array(h);var d=[new Wt,new Wt],v=new Wt,p=new Wt,b=new Wt,w,E,D,S,C,I,T,M,P=0;for(E=h-1;E>=0;E--)l[E].x!=l[P].x&&l[E].y!=l[P].y&&(P=E+1),g[E]=P;for(E=h-1;E>=0;E--){for(y[0]=y[1]=y[2]=y[3]=0,o=(3+3*(l[Re.mod(E+1,h)].x-l[E].x)+(l[Re.mod(E+1,h)].y-l[E].y))/2,y[o]++,d[0].x=0,d[0].y=0,d[1].x=0,d[1].y=0,P=g[E],S=E;;){if(w=0,o=(3+3*Re.sign(l[P].x-l[S].x)+Re.sign(l[P].y-l[S].y))/2,y[o]++,y[0]&&y[1]&&y[2]&&y[3]){i[E]=S,w=1;break}if(v.x=l[P].x-l[E].x,v.y=l[P].y-l[E].y,Re.xprod(d[0],v)<0||Re.xprod(d[1],v)>0||(Math.abs(v.x)<=1&&Math.abs(v.y)<=1||(p.x=v.x+(v.y>=0&&(v.y>0||v.x<0)?1:-1),p.y=v.y+(v.x<=0&&(v.x<0||v.y<0)?1:-1),Re.xprod(d[0],p)>=0&&(d[0].x=p.x,d[0].y=p.y),p.x=v.x+(v.y<=0&&(v.y<0||v.x<0)?1:-1),p.y=v.y+(v.x>=0&&(v.x>0||v.y<0)?1:-1),Re.xprod(d[1],p)<=0&&(d[1].x=p.x,d[1].y=p.y)),S=P,P=g[S],!Re.cyclic(P,E,S)))break}w===0&&(b.x=Re.sign(l[P].x-l[S].x),b.y=Re.sign(l[P].y-l[S].y),v.x=l[S].x-l[E].x,v.y=l[S].y-l[E].y,C=Re.xprod(d[0],v),I=Re.xprod(d[0],b),T=Re.xprod(d[1],v),M=Re.xprod(d[1],b),D=1e7,I<0&&(D=Math.floor(C/-I)),M>0&&(D=Math.min(D,Math.floor(-T/M))),i[E]=Re.mod(S+D,h))}for(D=i[h-1],f.lon[h-1]=D,E=h-2;E>=0;E--)Re.cyclic(E+1,i[E],D)&&(D=i[E]),f.lon[E]=D;for(E=h-1;Re.cyclic(Re.mod(E+1,h),D,f.lon[E]);E--)f.lon[E]=D}function n(f){function h(I,T,M){var P=I.len,N=I.pt,G=I.sums,V,H,R,j,Y,ne,re,ie,W,q,te,K,J,le,se=0;return M>=P&&(M-=P,se=1),se===0?(V=G[M+1].x-G[T].x,H=G[M+1].y-G[T].y,j=G[M+1].x2-G[T].x2,R=G[M+1].xy-G[T].xy,Y=G[M+1].y2-G[T].y2,ne=M+1-T):(V=G[M+1].x-G[T].x+G[P].x,H=G[M+1].y-G[T].y+G[P].y,j=G[M+1].x2-G[T].x2+G[P].x2,R=G[M+1].xy-G[T].xy+G[P].xy,Y=G[M+1].y2-G[T].y2+G[P].y2,ne=M+1-T+P),te=(N[T].x+N[M].x)/2-N[0].x,K=(N[T].y+N[M].y)/2-N[0].y,le=N[M].x-N[T].x,J=-(N[M].y-N[T].y),re=(j-2*V*te)/ne+te*te,ie=(R-V*K-H*te)/ne+te*K,W=(Y-2*H*K)/ne+K*K,q=J*J*re+2*J*le*ie+le*le*W,Math.sqrt(q)}var l,o,i,g,y=f.len,d=new Array(y+1),v=new Array(y+1),p=new Array(y),b=new Array(y+1),w=new Array(y+1),E=new Array(y+1),D,S,C;for(l=0;l<y;l++)C=Re.mod(f.lon[Re.mod(l-1,y)]-1,y),C==l&&(C=Re.mod(l+1,y)),C<l?p[l]=y:p[l]=C;for(o=1,l=0;l<y;l++)for(;o<=p[l];)b[o]=l,o++;for(l=0,o=0;l<y;o++)w[o]=l,l=p[l];for(w[o]=y,i=o,l=y,o=i;o>0;o--)E[o]=l,l=b[l];for(E[0]=0,d[0]=0,o=1;o<=i;o++)for(l=E[o];l<=w[o];l++){for(S=-1,g=w[o-1];g>=b[l];g--)D=h(f,g,l)+d[g],(S<0||D<S)&&(v[l]=g,S=D);d[l]=S}for(f.m=i,f.po=new Array(i),l=y,o=i-1;l>0;o--)l=v[l],f.po[o]=l}function a(f){function h(re,ie,W,q,te){for(var K=re.len,J=re.sums,le,se,_e,ge,Ee,ae,oe,Q,Z,z,$,O=0;W>=K;)W-=K,O+=1;for(;ie>=K;)ie-=K,O-=1;for(;W<0;)W+=K,O-=1;for(;ie<0;)ie+=K,O+=1;le=J[W+1].x-J[ie].x+O*J[K].x,se=J[W+1].y-J[ie].y+O*J[K].y,_e=J[W+1].x2-J[ie].x2+O*J[K].x2,ge=J[W+1].xy-J[ie].xy+O*J[K].xy,Ee=J[W+1].y2-J[ie].y2+O*J[K].y2,ae=W+1-ie+O*K,q.x=le/ae,q.y=se/ae,oe=(_e-le*le/ae)/ae,Q=(ge-le*se/ae)/ae,Z=(Ee-se*se/ae)/ae,z=(oe+Z+Math.sqrt((oe-Z)*(oe-Z)+4*Q*Q))/2,oe-=z,Z-=z,Math.abs(oe)>=Math.abs(Z)?($=Math.sqrt(oe*oe+Q*Q),$!==0&&(te.x=-Q/$,te.y=oe/$)):($=Math.sqrt(Z*Z+Q*Q),$!==0&&(te.x=-Z/$,te.y=Q/$)),$===0&&(te.x=te.y=0)}var l=f.m,o=f.po,i=f.len,g=f.pt,y=f.x0,d=f.y0,v=new Array(l),p=new Array(l),b=new Array(l),w=new Array(3),E,D,S,C,I,T=new Wt;for(f.curve=new im(l),D=0;D<l;D++)S=o[Re.mod(D+1,l)],S=Re.mod(S-o[D],i)+o[D],v[D]=new Wt,p[D]=new Wt,h(f,o[D],S,v[D],p[D]);for(D=0;D<l;D++)if(b[D]=new om,E=p[D].x*p[D].x+p[D].y*p[D].y,E===0)for(S=0;S<3;S++)for(C=0;C<3;C++)b[D].data[S*3+C]=0;else for(w[0]=p[D].y,w[1]=-p[D].x,w[2]=-w[1]*v[D].y-w[0]*v[D].x,I=0;I<3;I++)for(C=0;C<3;C++)b[D].data[I*3+C]=w[I]*w[C]/E;var M,P,N,G,V,H,R,j,Y,ne;for(D=0;D<l;D++){for(M=new om,P=new Wt,T.x=g[o[D]].x-y,T.y=g[o[D]].y-d,S=Re.mod(D-1,l),I=0;I<3;I++)for(C=0;C<3;C++)M.data[I*3+C]=b[S].at(I,C)+b[D].at(I,C);for(;;){if(V=M.at(0,0)*M.at(1,1)-M.at(0,1)*M.at(1,0),V!==0){P.x=(-M.at(0,2)*M.at(1,1)+M.at(1,2)*M.at(0,1))/V,P.y=(M.at(0,2)*M.at(1,0)-M.at(1,2)*M.at(0,0))/V;break}for(M.at(0,0)>M.at(1,1)?(w[0]=-M.at(0,1),w[1]=M.at(0,0)):M.at(1,1)?(w[0]=-M.at(1,1),w[1]=M.at(1,0)):(w[0]=1,w[1]=0),E=w[0]*w[0]+w[1]*w[1],w[2]=-w[1]*T.y-w[0]*T.x,I=0;I<3;I++)for(C=0;C<3;C++)M.data[I*3+C]+=w[I]*w[C]/E}if(N=Math.abs(P.x-T.x),G=Math.abs(P.y-T.y),N<=.5&&G<=.5){f.curve.vertex[D]=new Wt(P.x+y,P.y+d);continue}if(H=Re.quadform(M,T),j=T.x,Y=T.y,M.at(0,0)!==0)for(ne=0;ne<2;ne++)P.y=T.y-.5+ne,P.x=-(M.at(0,1)*P.y+M.at(0,2))/M.at(0,0),N=Math.abs(P.x-T.x),R=Re.quadform(M,P),N<=.5&&R<H&&(H=R,j=P.x,Y=P.y);if(M.at(1,1)!==0)for(ne=0;ne<2;ne++)P.x=T.x-.5+ne,P.y=-(M.at(1,0)*P.x+M.at(1,2))/M.at(1,1),G=Math.abs(P.y-T.y),R=Re.quadform(M,P),G<=.5&&R<H&&(H=R,j=P.x,Y=P.y);for(I=0;I<2;I++)for(C=0;C<2;C++)P.x=T.x-.5+I,P.y=T.y-.5+C,R=Re.quadform(M,P),R<H&&(H=R,j=P.x,Y=P.y);f.curve.vertex[D]=new Wt(j+y,Y+d)}}function s(f){var h=f.curve,l=h.n,o=h.vertex,i,g,y;for(i=0,g=l-1;i<g;i++,g--)y=o[i],o[i]=o[g],o[g]=y}function u(f){var h=f.curve.n,l=f.curve,o,i,g,y,d,v,p,b,w;for(o=0;o<h;o++)i=Re.mod(o+1,h),g=Re.mod(o+2,h),w=Re.interval(1/2,l.vertex[g],l.vertex[i]),d=Re.ddenom(l.vertex[o],l.vertex[g]),d!==0?(y=Re.dpara(l.vertex[o],l.vertex[i],l.vertex[g])/d,y=Math.abs(y),v=y>1?1-1/y:0,v=v/.75):v=4/3,l.alpha0[i]=v,v>=e._params.alphaMax?(l.tag[i]="CORNER",l.c[3*i+1]=l.vertex[i],l.c[3*i+2]=w):(v<.55?v=.55:v>1&&(v=1),p=Re.interval(.5+.5*v,l.vertex[o],l.vertex[i]),b=Re.interval(.5+.5*v,l.vertex[g],l.vertex[i]),l.tag[i]="CURVE",l.c[3*i+0]=p,l.c[3*i+1]=b,l.c[3*i+2]=w),l.alpha[i]=v,l.beta[i]=.5;l.alphaCurve=1}function c(f){function h(H,R,j,Y,ne,re,ie){var W=H.curve.n,q=H.curve,te=q.vertex,K,J,le,se,_e,ge,Ee,ae,oe,Q,Z,z,$,O,B,U,A,k,ee,he,we,pe,Ce;if(R==j||(K=R,_e=Re.mod(R+1,W),J=Re.mod(K+1,W),se=re[J],se===0))return 1;for(ae=Re.ddist(te[R],te[_e]),K=J;K!=j;K=J)if(J=Re.mod(K+1,W),le=Re.mod(K+2,W),re[J]!=se||Re.sign(Re.cprod(te[R],te[_e],te[J],te[le]))!=se||Re.iprod1(te[R],te[_e],te[J],te[le])<ae*Re.ddist(te[J],te[le])*-.999847695156)return 1;if(Z=q.c[Re.mod(R,W)*3+2].copy(),z=te[Re.mod(R+1,W)].copy(),$=te[Re.mod(j,W)].copy(),O=q.c[Re.mod(j,W)*3+2].copy(),ge=ie[j]-ie[R],ge-=Re.dpara(te[0],q.c[R*3+2],q.c[j*3+2])/2,R>=j&&(ge+=ie[W]),k=Re.dpara(Z,z,$),ee=Re.dpara(Z,z,O),he=Re.dpara(Z,$,O),we=k+he-ee,ee==k||(Ce=he/(he-we),pe=ee/(ee-k),U=ee*Ce/2,U===0))return 1;for(A=ge/U,Ee=2-Math.sqrt(4-A/.3),Y.c[0]=Re.interval(Ce*Ee,Z,z),Y.c[1]=Re.interval(pe*Ee,O,$),Y.alpha=Ee,Y.t=Ce,Y.s=pe,z=Y.c[0].copy(),$=Y.c[1].copy(),Y.pen=0,K=Re.mod(R+1,W);K!=j;K=J){if(J=Re.mod(K+1,W),Ce=Re.tangent(Z,z,$,O,te[K],te[J]),Ce<-.5||(B=Re.bezier(Ce,Z,z,$,O),ae=Re.ddist(te[K],te[J]),ae===0)||(oe=Re.dpara(te[K],te[J],B)/ae,Math.abs(oe)>ne)||Re.iprod(te[K],te[J],B)<0||Re.iprod(te[J],te[K],B)<0)return 1;Y.pen+=oe*oe}for(K=R;K!=j;K=J){if(J=Re.mod(K+1,W),Ce=Re.tangent(Z,z,$,O,q.c[K*3+2],q.c[J*3+2]),Ce<-.5||(B=Re.bezier(Ce,Z,z,$,O),ae=Re.ddist(q.c[K*3+2],q.c[J*3+2]),ae===0)||(oe=Re.dpara(q.c[K*3+2],q.c[J*3+2],B)/ae,Q=Re.dpara(q.c[K*3+2],q.c[J*3+2],te[J])/ae,Q*=.75*q.alpha[J],Q<0&&(oe=-oe,Q=-Q),oe<Q-ne))return 1;oe<Q&&(Y.pen+=(oe-Q)*(oe-Q))}return 0}var l=f.curve,o=l.n,i=l.vertex,g=new Array(o+1),y=new Array(o+1),d=new Array(o+1),v=new Array(o+1),p,b,w,E,D=new sm,S,C,I,T,M,P,N,G=new Array(o),V=new Array(o+1);for(b=0;b<o;b++)l.tag[b]=="CURVE"?G[b]=Re.sign(Re.dpara(i[Re.mod(b-1,o)],i[b],i[Re.mod(b+1,o)])):G[b]=0;for(I=0,V[0]=0,S=l.vertex[0],b=0;b<o;b++)C=Re.mod(b+1,o),l.tag[C]=="CURVE"&&(T=l.alpha[C],I+=.3*T*(4-T)*Re.dpara(l.c[b*3+2],i[C],l.c[C*3+2])/2,I+=Re.dpara(S,l.c[b*3+2],l.c[C*3+2])/2),V[b+1]=I;for(g[0]=-1,y[0]=0,d[0]=0,w=1;w<=o;w++)for(g[w]=w-1,y[w]=y[w-1],d[w]=d[w-1]+1,b=w-2;b>=0&&(E=h(f,b,Re.mod(w,o),D,e._params.optTolerance,G,V),!E);b--)(d[w]>d[b]+1||d[w]==d[b]+1&&y[w]>y[b]+D.pen)&&(g[w]=b,y[w]=y[b]+D.pen,d[w]=d[b]+1,v[w]=D,D=new sm);for(p=d[o],M=new im(p),P=new Array(p),N=new Array(p),w=o,b=p-1;b>=0;b--)g[w]==w-1?(M.tag[b]=l.tag[Re.mod(w,o)],M.c[b*3+0]=l.c[Re.mod(w,o)*3+0],M.c[b*3+1]=l.c[Re.mod(w,o)*3+1],M.c[b*3+2]=l.c[Re.mod(w,o)*3+2],M.vertex[b]=l.vertex[Re.mod(w,o)],M.alpha[b]=l.alpha[Re.mod(w,o)],M.alpha0[b]=l.alpha0[Re.mod(w,o)],M.beta[b]=l.beta[Re.mod(w,o)],P[b]=N[b]=1):(M.tag[b]="CURVE",M.c[b*3+0]=v[w].c[0],M.c[b*3+1]=v[w].c[1],M.c[b*3+2]=l.c[Re.mod(w,o)*3+2],M.vertex[b]=Re.interval(v[w].s,l.c[Re.mod(w,o)*3+2],i[Re.mod(w,o)]),M.alpha[b]=v[w].alpha,M.alpha0[b]=v[w].alpha,P[b]=v[w].s,N[b]=v[w].t),w=g[w];for(b=0;b<p;b++)C=Re.mod(b+1,p),M.beta[b]=P[b]/(P[b]+N[C]);M.alphaCurve=1,f.curve=M}for(var m=0;m<this._pathlist.length;m++){var _=this._pathlist[m];t(_),r(_),n(_),a(_),_.sign==="-"&&s(_),u(_),e._params.optCurve&&c(_)}},_validateParameters:function(e){if(e&&e.turnPolicy&&um.indexOf(e.turnPolicy)===-1){var t="'"+um.join("', '")+"'";throw new Error("Bad turnPolicy value. Allowed values are: "+t)}if(e&&e.threshold!=null&&e.threshold!==ct.THRESHOLD_AUTO&&(typeof e.threshold!="number"||!Re.between(e.threshold,0,255)))throw new Error("Bad threshold value. Expected to be an integer in range 0..255");if(e&&e.optCurve!=null&&typeof e.optCurve!="boolean")throw new Error("'optCurve' must be Boolean")},_processLoadedImage:function(e){var t=new Jx(e.bitmap.width,e.bitmap.height),r=e.bitmap.data;e.scan(0,0,e.bitmap.width,e.bitmap.height,function(n,a,s){var u=r[s+3]/255,c=255+(r[s+0]-255)*u,m=255+(r[s+1]-255)*u,_=255+(r[s+2]-255)*u;t.data[s/4]=Re.luminance(c,m,_)}),this._luminanceData=t,this._imageLoaded=!0},loadImage:function(e,t){var r=this,n={};this._imageLoadingIdentifier=n,this._imageLoaded=!1,e instanceof rm?(this._imageLoadingIdentifier=null,this._imageLoaded=!0,r._processLoadedImage(e),t.call(r,null)):rm.read(e,function(a,s){var u=r._imageLoadingIdentifier!==n;if(u){var c=a||new Error("Another image was loaded instead");return t.call(r,c)}r._imageLoadingIdentifier=null,r._processLoadedImage(s),t.call(r,null)})},setParameters:function(e){var t,r;this._validateParameters(e);for(t in this._params)this._params.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(r=this._params[t],this._params[t]=e[t],r!==this._params[t]&&["color","background"].indexOf(t)===-1&&(this._processed=!1))},getPathTag:function(e,t){if(e=arguments.length===0?this._params.color:e,e===ct.COLOR_AUTO&&(e=this._params.blackOnWhite?"black":"white"),!this._imageLoaded)throw new Error("Image should be loaded first");this._processed||(this._bmToPathlist(),this._processPath(),this._processed=!0);var r='<path d="';return r+=this._pathlist.map(function(n){return Re.renderCurve(n.curve,t)}).join(" "),r+='" stroke="none" fill="'+e+'" fill-rule="evenodd"/>',r},getSymbol:function(e){return'<symbol viewBox="0 0 '+this._luminanceData.width+" "+this._luminanceData.height+'" id="'+e+'">'+this.getPathTag("")+"</symbol>"},getSVG:function(){var e=this._params.width||this._luminanceData.width,t=this._params.height||this._luminanceData.height,r={x:this._params.width?this._params.width/this._luminanceData.width:1,y:this._params.height?this._params.height/this._luminanceData.height:1};return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+t+'" viewBox="0 0 '+e+" "+t+`" version="1.1">
`+(this._params.background!==ct.COLOR_TRANSPARENT?'	<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
`:"")+"	"+this.getPathTag(this._params.color,r)+`
</svg>`}};lm.exports=ct});var fm=Ht((lO,cm)=>{"use strict";var Cn=hf(),ur=wo();function vt(e){this._potrace=new Cn,this._calculatedThreshold=null,this._params={threshold:Cn.THRESHOLD_AUTO,blackOnWhite:!0,steps:vt.STEPS_AUTO,background:Cn.COLOR_TRANSPARENT,fillStrategy:vt.FILL_DOMINANT,rangeDistribution:vt.RANGES_AUTO},e&&this.setParameters(e)}for(bi in Cn)Object.prototype.hasOwnProperty.call(Cn,bi)&&bi===bi.toUpperCase()&&(vt[bi]=Cn[bi]);var bi;vt.STEPS_AUTO=-1;vt.FILL_SPREAD="spread";vt.FILL_DOMINANT="dominant";vt.FILL_MEDIAN="median";vt.FILL_MEAN="mean";vt.RANGES_AUTO="auto";vt.RANGES_EQUAL="equal";vt.prototype={_addExtraColorStop:function(e){var t=this._params.blackOnWhite,r=e[e.length-1],n=t?0:r.value,a=t?r.value:255;if(a-n>25&&r.colorIntensity!==1){var s=this._getImageHistogram(),u=s.getStats(n,a).levels,c=u.mean+u.stdDev<=25?u.mean+u.stdDev:u.mean-u.stdDev<=25?u.mean-u.stdDev:25,m=t?s.getStats(0,c):s.getStats(c,255),_=m.levels.mean;e.push({value:Math.abs((t?0:255)-c),colorIntensity:isNaN(_)?0:(t?255-_:_)/255})}return e},_calcColorIntensity:function(e){var t=this._params.blackOnWhite,r=this._params.fillStrategy,n=r!==vt.FILL_SPREAD?this._getImageHistogram():null,a=Math.abs(this._paramThreshold()-(t?0:255));return e.map(function(s,u){var c=u+1===e.length?t?-1:256:e[u+1],m=Math.round(t?c+1:s),_=Math.round(t?s:c-1),f=u/(e.length-1),h=_-m,l=n.getStats(m,_),o=-1;if(l.pixels===0)return{value:s,colorIntensity:0};switch(r){case vt.FILL_SPREAD:o=(t?m:_)+(t?1:-1)*h*Math.max(.5,a/255)*f;break;case vt.FILL_DOMINANT:o=n.getDominantColor(m,_,ur.clamp(h,1,5));break;case vt.FILL_MEAN:o=l.levels.mean;break;case vt.FILL_MEDIAN:o=l.levels.median;break}return u!==0&&(o=t?ur.clamp(o,m,_-Math.round(h*.1)):ur.clamp(o,m+Math.round(h*.1),_)),{value:s,colorIntensity:o===-1?0:(t?255-o:o)/255}})},_getImageHistogram:function(){return this._potrace._luminanceData.histogram()},_getRanges:function(){var e=this._paramSteps();if(!Array.isArray(e))return this._params.rangeDistribution===vt.RANGES_AUTO?this._getRangesAuto():this._getRangesEquallyDistributed();var t=[],r=this._paramThreshold(),n=this._params.blackOnWhite;return e.forEach(function(a){t.indexOf(a)===-1&&ur.between(a,0,255)&&t.push(a)}),t.length||t.push(r),t=t.sort(function(a,s){return a<s===n?1:-1}),n&&t[0]<r?t.unshift(r):!n&&t[t.length-1]<r&&t.push(r),this._calcColorIntensity(t)},_getRangesAuto:function(){var e=this._getImageHistogram(),t=this._paramSteps(!0),r;if(this._params.threshold===Cn.THRESHOLD_AUTO)r=e.multilevelThresholding(t);else{var n=this._paramThreshold();r=this._params.blackOnWhite?e.multilevelThresholding(t-1,0,n):e.multilevelThresholding(t-1,n,255),this._params.blackOnWhite?r.push(n):r.unshift(n)}return this._params.blackOnWhite&&(r=r.reverse()),this._calcColorIntensity(r)},_getRangesEquallyDistributed:function(){for(var e=this._params.blackOnWhite,t=e?this._paramThreshold():255-this._paramThreshold(),r=this._paramSteps(),n=t/r,a=[],s=r-1,u,c;s>=0;)u=s/(r-1),c=Math.min(t,(s+1)*n),c=e?c:255-c,s--,a.push(c);return this._calcColorIntensity(a)},_paramSteps:function(e){var t=this._params.steps;if(Array.isArray(t))return e?t.length:t;if(t===vt.STEPS_AUTO&&this._params.threshold===Cn.THRESHOLD_AUTO)return 4;var r=this._params.blackOnWhite,n=r?this._paramThreshold():255-this._paramThreshold();return t===vt.STEPS_AUTO?n>200?4:3:Math.min(n,Math.max(2,t))},_paramThreshold:function(){if(this._calculatedThreshold!==null)return this._calculatedThreshold;if(this._params.threshold!==Cn.THRESHOLD_AUTO)return this._calculatedThreshold=this._params.threshold,this._calculatedThreshold;var e=this._getImageHistogram().multilevelThresholding(2);return this._calculatedThreshold=this._params.blackOnWhite?e[1]:e[0],this._calculatedThreshold=this._calculatedThreshold||128,this._calculatedThreshold},_pathTags:function(e){var t=this._getRanges(),r=this._potrace,n=this._params.blackOnWhite;t.length>=10&&(t=this._addExtraColorStop(t)),r.setParameters({blackOnWhite:n});var a=0;return t.map(function(s){var u=s.colorIntensity;if(u===0)return"";var c=!a||u===1?u:(a-u)/(a-1);c=ur.clamp(parseFloat(c.toFixed(3)),0,1),a=a+(1-a)*c,r.setParameters({threshold:s.value});var m=e?r.getPathTag(""):r.getPathTag();m=ur.setHtmlAttr(m,"fill-opacity",c.toFixed(3));var _=c===0||m.indexOf(' d=""')!==-1;return _?"":m})},loadImage:function(e,t){var r=this;this._potrace.loadImage(e,function(n){r._calculatedThreshold=null,t.call(r,n)})},setParameters:function(e){if(e){if(this._potrace.setParameters(e),e.steps&&!Array.isArray(e.steps)&&(!ur.isNumber(e.steps)||!ur.between(e.steps,1,255)))throw new Error("Bad 'steps' value");for(var t in this._params)this._params.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(this._params[t]=e[t]);this._calculatedThreshold=null}},getSymbol:function(e){var t=this._potrace._luminanceData.width,r=this._potrace._luminanceData.height,n=this._pathTags(!0);return'<symbol viewBox="0 0 '+t+" "+r+'" id="'+e+'">'+n.join("")+"</symbol>"},getSVG:function(){var e=this._potrace._luminanceData.width,t=this._potrace._luminanceData.height,r=this._pathTags(!1),n='<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+t+'" viewBox="0 0 '+e+" "+t+`" version="1.1">
	`+(this._params.background!==Cn.COLOR_TRANSPARENT?'<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
	`:"")+r.join(`
	`)+`
</svg>`;return n.replace(/\n(?:\t*\n)+(\t*)/g,`
$1`)}};cm.exports=vt});var gm=Ht((cO,pm)=>{"use strict";var dm=hf(),hm=fm();function tD(e,t,r){arguments.length===2&&(r=t,t={});var n=new dm(t);n.loadImage(e,function(a){if(a)return r(a);r(null,n.getSVG(),n)})}function nD(e,t,r){arguments.length===2&&(r=t,t={});var n=new hm(t);n.loadImage(e,function(a){if(a)return r(a);r(null,n.getSVG(),n)})}pm.exports={trace:tD,posterize:nD,Potrace:dm,Posterizer:hm}});function Df(e,t){return Object.is(e,t)}var wt=null,Co=!1,Ls=1,Sr=Symbol("SIGNAL");function nt(e){let t=wt;return wt=e,t}function Fs(){return wt}var So={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bs(e){if(Co)throw new Error("");if(wt===null)return;wt.consumerOnSignalRead(e);let t=wt.nextProducerIndex++;if(Mo(wt),t<wt.producerNode.length&&wt.producerNode[t]!==e&&Ei(wt)){let r=wt.producerNode[t];Io(r,wt.producerIndexOfThis[t])}wt.producerNode[t]!==e&&(wt.producerNode[t]=e,wt.producerIndexOfThis[t]=Ei(wt)?Tf(e,wt,t):0),wt.producerLastReadVersion[t]=e.version}function Cf(){Ls++}function Sf(e){if(!(Ei(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ls)){if(!e.producerMustRecompute(e)&&!Hs(e)){Ps(e);return}e.producerRecomputeValue(e),Ps(e)}}function js(e){if(e.liveConsumerNode===void 0)return;let t=Co;Co=!0;try{for(let r of e.liveConsumerNode)r.dirty||Sm(r)}finally{Co=t}}function If(){return wt?.consumerAllowSignalWrites!==!1}function Sm(e){e.dirty=!0,js(e),e.consumerMarkedDirty?.(e)}function Ps(e){e.dirty=!1,e.lastCleanEpoch=Ls}function Us(e){return e&&(e.nextProducerIndex=0),nt(e)}function Mf(e,t){if(nt(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ei(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Io(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Hs(e){Mo(e);for(let t=0;t<e.producerNode.length;t++){let r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(Sf(r),n!==r.version))return!0}return!1}function zs(e){if(Mo(e),Ei(e))for(let t=0;t<e.producerNode.length;t++)Io(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Tf(e,t,r){if(Af(e),e.liveConsumerNode.length===0&&Rf(e))for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=Tf(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Io(e,t){if(Af(e),e.liveConsumerNode.length===1&&Rf(e))for(let n=0;n<e.producerNode.length;n++)Io(e.producerNode[n],e.producerIndexOfThis[n]);let r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Mo(a),a.producerIndexOfThis[n]=t}}function Ei(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Mo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Af(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Rf(e){return e.producerNode!==void 0}function Im(){throw new Error}var Nf=Im;function Mm(e){Nf(e)}function Vs(e){Nf=e}var Tm=null;function Gs(e,t){If()||Mm(e),e.equal(e.value,t)||(e.value=t,Am(e))}var $s=ft(Ue({},So),{equal:Df,value:void 0,kind:"signal"});function Am(e){e.version++,Cf(),js(e),Tm?.()}var Ws;function xi(){return Ws}function Sn(e){let t=Ws;return Ws=e,t}var To=Symbol("NotFound");function $e(e){return typeof e=="function"}function Ir(e){let r=e(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Ao=Ir(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,a)=>`${a+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function Di(e,t){if(e){let r=e.indexOf(t);0<=r&&e.splice(r,1)}}var _t=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let s of r)s.remove(this);else r.remove(this);let{initialTeardown:n}=this;if($e(n))try{n()}catch(s){t=s instanceof Ao?s.errors:[s]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let s of a)try{Of(s)}catch(u){t=t??[],u instanceof Ao?t=[...t,...u.errors]:t.push(u)}}if(t)throw new Ao(t)}}add(t){var r;if(t&&t!==this)if(this.closed)Of(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}}_hasParent(t){let{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){let{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Di(r,t)}remove(t){let{_finalizers:r}=this;r&&Di(r,t),t instanceof e&&t._removeParent(this)}};_t.EMPTY=(()=>{let e=new _t;return e.closed=!0,e})();var Zs=_t.EMPTY;function Ro(e){return e instanceof _t||e&&"closed"in e&&$e(e.remove)&&$e(e.add)&&$e(e.unsubscribe)}function Of(e){$e(e)?e():e.unsubscribe()}var nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Mr={setTimeout(e,t,...r){let{delegate:n}=Mr;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){let{delegate:t}=Mr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function No(e){Mr.setTimeout(()=>{let{onUnhandledError:t}=nn;if(t)t(e);else throw e})}function Ci(){}var kf=qs("C",void 0,void 0);function Pf(e){return qs("E",void 0,e)}function Lf(e){return qs("N",e,void 0)}function qs(e,t,r){return{kind:e,value:t,error:r}}var cr=null;function Tr(e){if(nn.useDeprecatedSynchronousErrorHandling){let t=!cr;if(t&&(cr={errorThrown:!1,error:null}),e(),t){let{errorThrown:r,error:n}=cr;if(cr=null,r)throw n}}else e()}function Ff(e){nn.useDeprecatedSynchronousErrorHandling&&cr&&(cr.errorThrown=!0,cr.error=e)}var fr=class extends _t{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ro(t)&&t.add(this)):this.destination=Um}static create(t,r,n){return new Ar(t,r,n)}next(t){this.isStopped?Qs(Lf(t),this):this._next(t)}error(t){this.isStopped?Qs(Pf(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Qs(kf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Bm=Function.prototype.bind;function Ys(e,t){return Bm.call(e,t)}var Xs=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){Oo(n)}}error(t){let{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){Oo(n)}else Oo(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){Oo(r)}}},Ar=class extends fr{constructor(t,r,n){super();let a;if($e(t)||!t)a={next:t??void 0,error:r??void 0,complete:n??void 0};else{let s;this&&nn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),a={next:t.next&&Ys(t.next,s),error:t.error&&Ys(t.error,s),complete:t.complete&&Ys(t.complete,s)}):a=t}this.destination=new Xs(a)}};function Oo(e){nn.useDeprecatedSynchronousErrorHandling?Ff(e):No(e)}function jm(e){throw e}function Qs(e,t){let{onStoppedNotification:r}=nn;r&&Mr.setTimeout(()=>r(e,t))}var Um={closed:!0,next:Ci,error:jm,complete:Ci};var Rr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(e){return e}function Ks(...e){return Js(e)}function Js(e){return e.length===0?zt:e.length===1?e[0]:function(r){return e.reduce((n,a)=>a(n),r)}}var at=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,a){let s=zm(r)?r:new Ar(r,n,a);return Tr(()=>{let{operator:u,source:c}=this;s.add(u?u.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=Bf(n),new n((a,s)=>{let u=new Ar({next:c=>{try{r(c)}catch(m){s(m),u.unsubscribe()}},error:s,complete:a});this.subscribe(u)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[Rr](){return this}pipe(...r){return Js(r)(this)}toPromise(r){return r=Bf(r),new r((n,a)=>{let s;this.subscribe(u=>s=u,u=>a(u),()=>n(s))})}}return e.create=t=>new e(t),e})();function Bf(e){var t;return(t=e??nn.Promise)!==null&&t!==void 0?t:Promise}function Hm(e){return e&&$e(e.next)&&$e(e.error)&&$e(e.complete)}function zm(e){return e&&e instanceof fr||Hm(e)&&Ro(e)}function eu(e){return $e(e?.lift)}function et(e){return t=>{if(eu(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(e,t,r,n,a){return new tu(e,t,r,n,a)}var tu=class extends fr{constructor(t,r,n,a,s,u){super(t),this.onFinalize=s,this.shouldUnsubscribe=u,this._next=r?function(c){try{r(c)}catch(m){t.error(m)}}:super._next,this._error=a?function(c){try{a(c)}catch(m){t.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Nr(){return et((e,t)=>{let r=null;e._refCount++;let n=tt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){r=null;return}let a=e._connection,s=r;r=null,a&&(!s||a===s)&&a.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}var Or=class extends at{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,eu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new _t;let r=this.getSubject();t.add(this.source.subscribe(tt(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=_t.EMPTY)}return t}refCount(){return Nr()(this)}};var jf=Ir(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Dt=(()=>{class e extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new ko(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new jf}next(r){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:a,observers:s}=this;return n||a?Zs:(this.currentObservers=null,s.push(r),new _t(()=>{this.currentObservers=null,Di(s,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:a,isStopped:s}=this;n?r.error(a):s&&r.complete()}asObservable(){let r=new at;return r.source=this,r}}return e.create=(t,r)=>new ko(t,r),e})(),ko=class extends Dt{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,t)}error(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,t)}complete(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)}_subscribe(t){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&n!==void 0?n:Zs}};var Mt=class extends Dt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){let{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var Lt=new at(e=>e.complete());function Uf(e){return e&&$e(e.schedule)}function Hf(e){return e[e.length-1]}function zf(e){return $e(Hf(e))?e.pop():void 0}function Qn(e){return Uf(Hf(e))?e.pop():void 0}function Gf(e,t,r,n){function a(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(f){try{_(n.next(f))}catch(h){u(h)}}function m(f){try{_(n.throw(f))}catch(h){u(h)}}function _(f){f.done?s(f.value):a(f.value).then(c,m)}_((n=n.apply(e,t||[])).next())})}function Vf(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dr(e){return this instanceof dr?(this.v=e,this):new dr(e)}function $f(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(o){return function(i){return Promise.resolve(i).then(o,h)}}function c(o,i){n[o]&&(a[o]=function(g){return new Promise(function(y,d){s.push([o,g,y,d])>1||m(o,g)})},i&&(a[o]=i(a[o])))}function m(o,i){try{_(n[o](i))}catch(g){l(s[0][3],g)}}function _(o){o.value instanceof dr?Promise.resolve(o.value.v).then(f,h):l(s[0][2],o)}function f(o){m("next",o)}function h(o){m("throw",o)}function l(o,i){o(i),s.shift(),s.length&&m(s[0][0],s[0][1])}}function Wf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Vf=="function"?Vf(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(u){return new Promise(function(c,m){u=e[s](u),a(c,m,u.done,u.value)})}}function a(s,u,c,m){Promise.resolve(m).then(function(_){s({value:_,done:c})},u)}}var Po=e=>e&&typeof e.length=="number"&&typeof e!="function";function Lo(e){return $e(e?.then)}function Fo(e){return $e(e[Rr])}function Bo(e){return Symbol.asyncIterator&&$e(e?.[Symbol.asyncIterator])}function jo(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Vm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Uo=Vm();function Ho(e){return $e(e?.[Uo])}function zo(e){return $f(this,arguments,function*(){let r=e.getReader();try{for(;;){let{value:n,done:a}=yield dr(r.read());if(a)return yield dr(void 0);yield yield dr(n)}}finally{r.releaseLock()}})}function Vo(e){return $e(e?.getReader)}function Ct(e){if(e instanceof at)return e;if(e!=null){if(Fo(e))return Gm(e);if(Po(e))return $m(e);if(Lo(e))return Wm(e);if(Bo(e))return Zf(e);if(Ho(e))return Zm(e);if(Vo(e))return qm(e)}throw jo(e)}function Gm(e){return new at(t=>{let r=e[Rr]();if($e(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $m(e){return new at(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function Wm(e){return new at(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,No)})}function Zm(e){return new at(t=>{for(let r of e)if(t.next(r),t.closed)return;t.complete()})}function Zf(e){return new at(t=>{Ym(e,t).catch(r=>t.error(r))})}function qm(e){return Zf(zo(e))}function Ym(e,t){var r,n,a,s;return Gf(this,void 0,void 0,function*(){try{for(r=Wf(e);n=yield r.next(),!n.done;){let u=n.value;if(t.next(u),t.closed)return}}catch(u){a={error:u}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(a)throw a.error}}t.complete()})}function Ft(e,t,r,n=0,a=!1){let s=t.schedule(function(){r(),a?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!a)return s}function Go(e,t=0){return et((r,n)=>{r.subscribe(tt(n,a=>Ft(n,e,()=>n.next(a),t),()=>Ft(n,e,()=>n.complete(),t),a=>Ft(n,e,()=>n.error(a),t)))})}function $o(e,t=0){return et((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function qf(e,t){return Ct(e).pipe($o(t),Go(t))}function Yf(e,t){return Ct(e).pipe($o(t),Go(t))}function Qf(e,t){return new at(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function Xf(e,t){return new at(r=>{let n;return Ft(r,t,()=>{n=e[Uo](),Ft(r,t,()=>{let a,s;try{({value:a,done:s}=n.next())}catch(u){r.error(u);return}s?r.complete():r.next(a)},0,!0)}),()=>$e(n?.return)&&n.return()})}function Wo(e,t){if(!e)throw new Error("Iterable cannot be null");return new at(r=>{Ft(r,t,()=>{let n=e[Symbol.asyncIterator]();Ft(r,t,()=>{n.next().then(a=>{a.done?r.complete():r.next(a.value)})},0,!0)})})}function Kf(e,t){return Wo(zo(e),t)}function Jf(e,t){if(e!=null){if(Fo(e))return qf(e,t);if(Po(e))return Qf(e,t);if(Lo(e))return Yf(e,t);if(Bo(e))return Wo(e,t);if(Ho(e))return Xf(e,t);if(Vo(e))return Kf(e,t)}throw jo(e)}function bt(e,t){return t?Jf(e,t):Ct(e)}function We(...e){let t=Qn(e);return bt(e,t)}function kr(e,t){let r=$e(e)?e:()=>e,n=a=>a.error(r());return new at(t?a=>t.schedule(n,0,a):n)}function nu(e){return!!e&&(e instanceof at||$e(e.lift)&&$e(e.subscribe))}var In=Ir(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function rt(e,t){return et((r,n)=>{let a=0;r.subscribe(tt(n,s=>{n.next(e.call(t,s,a++))}))})}var{isArray:Qm}=Array;function Xm(e,t){return Qm(t)?e(...t):e(t)}function ed(e){return rt(t=>Xm(e,t))}var{isArray:Km}=Array,{getPrototypeOf:Jm,prototype:ev,keys:tv}=Object;function td(e){if(e.length===1){let t=e[0];if(Km(t))return{args:t,keys:null};if(nv(t)){let r=tv(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}function nv(e){return e&&typeof e=="object"&&Jm(e)===ev}function nd(e,t){return e.reduce((r,n,a)=>(r[n]=t[a],r),{})}function Zo(...e){let t=Qn(e),r=zf(e),{args:n,keys:a}=td(e);if(n.length===0)return bt([],t);let s=new at(rv(n,t,a?u=>nd(a,u):zt));return r?s.pipe(ed(r)):s}function rv(e,t,r=zt){return n=>{rd(t,()=>{let{length:a}=e,s=new Array(a),u=a,c=a;for(let m=0;m<a;m++)rd(t,()=>{let _=bt(e[m],t),f=!1;_.subscribe(tt(n,h=>{s[m]=h,f||(f=!0,c--),c||n.next(r(s.slice()))},()=>{--u||n.complete()}))},n)},n)}}function rd(e,t,r){e?Ft(r,e,t):t()}function id(e,t,r,n,a,s,u,c){let m=[],_=0,f=0,h=!1,l=()=>{h&&!m.length&&!_&&t.complete()},o=g=>_<n?i(g):m.push(g),i=g=>{s&&t.next(g),_++;let y=!1;Ct(r(g,f++)).subscribe(tt(t,d=>{a?.(d),s?o(d):t.next(d)},()=>{y=!0},void 0,()=>{if(y)try{for(_--;m.length&&_<n;){let d=m.shift();u?Ft(t,u,()=>i(d)):i(d)}l()}catch(d){t.error(d)}}))};return e.subscribe(tt(t,o,()=>{h=!0,l()})),()=>{c?.()}}function Et(e,t,r=1/0){return $e(t)?Et((n,a)=>rt((s,u)=>t(n,s,a,u))(Ct(e(n,a))),r):(typeof t=="number"&&(r=t),et((n,a)=>id(n,a,e,r)))}function od(e=1/0){return Et(zt,e)}function ad(){return od(1)}function Pr(...e){return ad()(bt(e,Qn(e)))}function qo(e){return new at(t=>{Ct(e()).subscribe(t)})}function rn(e,t){return et((r,n)=>{let a=0;r.subscribe(tt(n,s=>e.call(t,s,a++)&&n.next(s)))})}function Xn(e){return et((t,r)=>{let n=null,a=!1,s;n=t.subscribe(tt(r,void 0,void 0,u=>{s=Ct(e(u,Xn(e)(t))),n?(n.unsubscribe(),n=null,s.subscribe(r)):a=!0})),a&&(n.unsubscribe(),n=null,s.subscribe(r))})}function sd(e,t,r,n,a){return(s,u)=>{let c=r,m=t,_=0;s.subscribe(tt(u,f=>{let h=_++;m=c?e(m,f,h):(c=!0,f),n&&u.next(m)},a&&(()=>{c&&u.next(m),u.complete()})))}}function Lr(e,t){return $e(t)?Et(e,t,1):Et(e,1)}function Kn(e){return et((t,r)=>{let n=!1;t.subscribe(tt(r,a=>{n=!0,r.next(a)},()=>{n||r.next(e),r.complete()}))})}function Mn(e){return e<=0?()=>Lt:et((t,r)=>{let n=0;t.subscribe(tt(r,a=>{++n<=e&&(r.next(a),e<=n&&r.complete())}))})}function Yo(e=iv){return et((t,r)=>{let n=!1;t.subscribe(tt(r,a=>{n=!0,r.next(a)},()=>n?r.complete():r.error(e())))})}function iv(){return new In}function Si(e){return et((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}function Tn(e,t){let r=arguments.length>=2;return n=>n.pipe(e?rn((a,s)=>e(a,s,n)):zt,Mn(1),r?Kn(t):Yo(()=>new In))}function Fr(e){return e<=0?()=>Lt:et((t,r)=>{let n=[];t.subscribe(tt(r,a=>{n.push(a),e<n.length&&n.shift()},()=>{for(let a of n)r.next(a);r.complete()},void 0,()=>{n=null}))})}function ru(e,t){let r=arguments.length>=2;return n=>n.pipe(e?rn((a,s)=>e(a,s,n)):zt,Fr(1),r?Kn(t):Yo(()=>new In))}function iu(e,t){return et(sd(e,t,arguments.length>=2,!0))}function ou(...e){let t=Qn(e);return et((r,n)=>{(t?Pr(e,r,t):Pr(e,r)).subscribe(n)})}function on(e,t){return et((r,n)=>{let a=null,s=0,u=!1,c=()=>u&&!a&&n.complete();r.subscribe(tt(n,m=>{a?.unsubscribe();let _=0,f=s++;Ct(e(m,f)).subscribe(a=tt(n,h=>n.next(t?t(m,h,f,_++):h),()=>{a=null,c()}))},()=>{u=!0,c()}))})}function au(e){return et((t,r)=>{Ct(e).subscribe(tt(r,()=>r.complete(),Ci)),!r.closed&&t.subscribe(r)})}function Tt(e,t,r){let n=$e(e)||t||r?{next:e,error:t,complete:r}:e;return n?et((a,s)=>{var u;(u=n.subscribe)===null||u===void 0||u.call(n);let c=!0;a.subscribe(tt(s,m=>{var _;(_=n.next)===null||_===void 0||_.call(n,m),s.next(m)},()=>{var m;c=!1,(m=n.complete)===null||m===void 0||m.call(n),s.complete()},m=>{var _;c=!1,(_=n.error)===null||_===void 0||_.call(n,m),s.error(m)},()=>{var m,_;c&&((m=n.unsubscribe)===null||m===void 0||m.call(n)),(_=n.finalize)===null||_===void 0||_.call(n)}))}):zt}var Jd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",He=class extends Error{code;constructor(t,r){super(eh(t,r)),this.code=t}};function av(e){return`NG0${Math.abs(e)}`}function eh(e,t){return`${av(e)}${t?": "+t:""}`}var th=Symbol("InputSignalNode#UNSET"),sv=ft(Ue({},$s),{transformFn:void 0,applyValueToInputSignal(e,t){Gs(e,t)}});function nh(e,t){let r=Object.create(sv);r.value=e,r.transformFn=t?.transform;function n(){if(Bs(r),r.value===th){let a=null;throw new He(-950,a)}return r.value}return n[Sr]=r,n}function Ma(e){return{toString:e}.toString()}var zr=globalThis;function st(e){for(let t in e)if(e[t]===st)return t;throw Error("Could not find renamed property on target object.")}function jt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(jt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let r=e.toString();if(r==null)return""+r;let n=r.indexOf(`
`);return n>=0?r.slice(0,n):r}function ud(e,t){return e?t?`${e} ${t}`:e:t||""}var uv=st({__forward_ref__:st});function rh(e){return e.__forward_ref__=rh,e.toString=function(){return jt(this())},e}function Qt(e){return ih(e)?e():e}function ih(e){return typeof e=="function"&&e.hasOwnProperty(uv)&&e.__forward_ref__===rh}function Ge(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ta(e){return{providers:e.providers||[],imports:e.imports||[]}}function Aa(e){return ld(e,ah)||ld(e,sh)}function oh(e){return Aa(e)!==null}function ld(e,t){return e.hasOwnProperty(t)?e[t]:null}function lv(e){let t=e&&(e[ah]||e[sh]);return t||null}function cd(e){return e&&(e.hasOwnProperty(fd)||e.hasOwnProperty(cv))?e[fd]:null}var ah=st({\u0275prov:st}),fd=st({\u0275inj:st}),sh=st({ngInjectableDef:st}),cv=st({ngInjectorDef:st}),Ve=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=Ge({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uh(e){return e&&!!e.\u0275providers}var fv=st({\u0275cmp:st}),dv=st({\u0275dir:st}),hv=st({\u0275pipe:st}),pv=st({\u0275mod:st}),aa=st({\u0275fac:st}),Ai=st({__NG_ELEMENT_ID__:st}),dd=st({__NG_ENV_ID__:st});function Ra(e){return typeof e=="string"?e:e==null?"":String(e)}function gv(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ra(e)}function lh(e,t){throw new He(-200,e)}function dl(e,t){throw new He(-201,!1)}var qe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(qe||{}),yu;function ch(){return yu}function Yt(e){let t=yu;return yu=e,t}function fh(e,t,r){let n=Aa(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&qe.Optional)return null;if(t!==void 0)return t;dl(e,"Injector")}var mv={},hr=mv,vv="__NG_DI_FLAG__",sa=class{injector;constructor(t){this.injector=t}retrieve(t,r){let n=r;return this.injector.get(t,n.optional?To:hr,n)}},ua="ngTempTokenPath",yv="ngTokenPath",_v=/\n/gm,bv="\u0275",hd="__source";function wv(e,t=qe.Default){if(xi()===void 0)throw new He(-203,!1);if(xi()===null)return fh(e,void 0,t);{let r=xi(),n;return r instanceof sa?n=r.injector:n=r,n.get(e,t&qe.Optional?null:void 0,t)}}function Ye(e,t=qe.Default){return(ch()||wv)(Qt(e),t)}function Le(e,t=qe.Default){return Ye(e,Na(t))}function Na(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function _u(e){let t=[];for(let r=0;r<e.length;r++){let n=Qt(e[r]);if(Array.isArray(n)){if(n.length===0)throw new He(900,!1);let a,s=qe.Default;for(let u=0;u<n.length;u++){let c=n[u],m=Ev(c);typeof m=="number"?m===-1?a=c.token:s|=m:a=c}t.push(Ye(a,s))}else t.push(Ye(n))}return t}function Ev(e){return e[vv]}function xv(e,t,r,n){let a=e[ua];throw t[hd]&&a.unshift(t[hd]),e.message=Dv(`
`+e.message,a,r,n),e[yv]=a,e[ua]=null,e}function Dv(e,t,r,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==bv?e.slice(2):e;let a=jt(t);if(Array.isArray(t))a=t.map(jt).join(" -> ");else if(typeof t=="object"){let s=[];for(let u in t)if(t.hasOwnProperty(u)){let c=t[u];s.push(u+":"+(typeof c=="string"?JSON.stringify(c):jt(c)))}a=`{${s.join(", ")}}`}return`${r}${n?"("+n+")":""}[${a}]: ${e.replace(_v,`
  `)}`}function Vr(e,t){let r=e.hasOwnProperty(aa);return r?e[aa]:null}function Cv(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let a=e[n],s=t[n];if(r&&(a=r(a),s=r(s)),s!==a)return!1}return!0}function Sv(e){return e.flat(Number.POSITIVE_INFINITY)}function hl(e,t){e.forEach(r=>Array.isArray(r)?hl(r,t):t(r))}function dh(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function la(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Iv(e,t,r,n){let a=e.length;if(a==t)e.push(r,n);else if(a===1)e.push(n,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;){let s=a-2;e[a]=e[s],a--}e[t]=r,e[t+1]=n}}function Mv(e,t,r){let n=Bi(e,t);return n>=0?e[n|1]=r:(n=~n,Iv(e,n,t,r)),n}function su(e,t){let r=Bi(e,t);if(r>=0)return e[r|1]}function Bi(e,t){return Tv(e,t,1)}function Tv(e,t,r){let n=0,a=e.length>>r;for(;a!==n;){let s=n+(a-n>>1),u=e[s<<r];if(t===u)return s<<r;u>t?a=s:n=s+1}return~(a<<r)}var Gr={},sn=[],$r=new Ve(""),hh=new Ve("",-1),ph=new Ve(""),ca=class{get(t,r=hr){if(r===hr){let n=new Error(`NullInjectorError: No provider for ${jt(t)}!`);throw n.name="NullInjectorError",n}return r}};function gh(e,t){let r=e[pv]||null;if(!r&&t===!0)throw new Error(`Type ${jt(e)} does not have '\u0275mod' property.`);return r}function Wr(e){return e[fv]||null}function Av(e){return e[dv]||null}function Rv(e){return e[hv]||null}function Oa(e){return{\u0275providers:e}}function Nv(...e){return{\u0275providers:mh(!0,e),\u0275fromNgModule:!0}}function mh(e,...t){let r=[],n=new Set,a,s=u=>{r.push(u)};return hl(t,u=>{let c=u;bu(c,s,[],n)&&(a||=[],a.push(c))}),a!==void 0&&vh(a,s),r}function vh(e,t){for(let r=0;r<e.length;r++){let{ngModule:n,providers:a}=e[r];pl(a,s=>{t(s,n)})}}function bu(e,t,r,n){if(e=Qt(e),!e)return!1;let a=null,s=cd(e),u=!s&&Wr(e);if(!s&&!u){let m=e.ngModule;if(s=cd(m),s)a=m;else return!1}else{if(u&&!u.standalone)return!1;a=e}let c=n.has(a);if(u){if(c)return!1;if(n.add(a),u.dependencies){let m=typeof u.dependencies=="function"?u.dependencies():u.dependencies;for(let _ of m)bu(_,t,r,n)}}else if(s){if(s.imports!=null&&!c){n.add(a);let _;try{hl(s.imports,f=>{bu(f,t,r,n)&&(_||=[],_.push(f))})}finally{}_!==void 0&&vh(_,t)}if(!c){let _=Vr(a)||(()=>new a);t({provide:a,useFactory:_,deps:sn},a),t({provide:ph,useValue:a,multi:!0},a),t({provide:$r,useValue:()=>Ye(a),multi:!0},a)}let m=s.providers;if(m!=null&&!c){let _=e;pl(m,f=>{t(f,_)})}}else return!1;return a!==e&&e.providers!==void 0}function pl(e,t){for(let r of e)uh(r)&&(r=r.\u0275providers),Array.isArray(r)?pl(r,t):t(r)}var Ov=st({provide:String,useValue:st});function yh(e){return e!==null&&typeof e=="object"&&Ov in e}function kv(e){return!!(e&&e.useExisting)}function Pv(e){return!!(e&&e.useFactory)}function wu(e){return typeof e=="function"}var ka=new Ve(""),ea={},pd={},uu;function gl(){return uu===void 0&&(uu=new ca),uu}var Kt=class{},Ri=class extends Kt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,n,a){super(),this.parent=r,this.source=n,this.scopes=a,xu(t,u=>this.processProvider(u)),this.records.set(hh,Br(void 0,this)),a.has("environment")&&this.records.set(Kt,Br(void 0,this));let s=this.records.get(ka);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ph,sn,qe.Self))}retrieve(t,r){let n=r;return this.get(t,n.optional?To:hr,n)}destroy(){Mi(this),this._destroyed=!0;let t=nt(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),nt(t)}}onDestroy(t){return Mi(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Mi(this);let r=Sn(this),n=Yt(void 0),a;try{return t()}finally{Sn(r),Yt(n)}}get(t,r=hr,n=qe.Default){if(Mi(this),t.hasOwnProperty(dd))return t[dd](this);n=Na(n);let a,s=Sn(this),u=Yt(void 0);try{if(!(n&qe.SkipSelf)){let m=this.records.get(t);if(m===void 0){let _=Hv(t)&&Aa(t);_&&this.injectableDefInScope(_)?m=Br(Eu(t),ea):m=null,this.records.set(t,m)}if(m!=null)return this.hydrate(t,m,n)}let c=n&qe.Self?gl():this.parent;return r=n&qe.Optional&&r===hr?null:r,c.get(t,r)}catch(c){if(c.name==="NullInjectorError"){if((c[ua]=c[ua]||[]).unshift(jt(t)),s)throw c;return xv(c,t,"R3InjectorError",this.source)}else throw c}finally{Yt(u),Sn(s)}}resolveInjectorInitializers(){let t=nt(null),r=Sn(this),n=Yt(void 0),a;try{let s=this.get($r,sn,qe.Self);for(let u of s)u()}finally{Sn(r),Yt(n),nt(t)}}toString(){let t=[],r=this.records;for(let n of r.keys())t.push(jt(n));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Qt(t);let r=wu(t)?t:Qt(t&&t.provide),n=Fv(t);if(!wu(t)&&t.multi===!0){let a=this.records.get(r);a||(a=Br(void 0,ea,!0),a.factory=()=>_u(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,n)}hydrate(t,r,n){let a=nt(null);try{return r.value===pd?lh(jt(t)):r.value===ea&&(r.value=pd,r.value=r.factory(void 0,n)),typeof r.value=="object"&&r.value&&Uv(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{nt(a)}}injectableDefInScope(t){if(!t.providedIn)return!1;let r=Qt(t.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){let r=this._onDestroyHooks.indexOf(t);r!==-1&&this._onDestroyHooks.splice(r,1)}};function Eu(e){let t=Aa(e),r=t!==null?t.factory:Vr(e);if(r!==null)return r;if(e instanceof Ve)throw new He(204,!1);if(e instanceof Function)return Lv(e);throw new He(204,!1)}function Lv(e){if(e.length>0)throw new He(204,!1);let r=lv(e);return r!==null?()=>r.factory(e):()=>new e}function Fv(e){if(yh(e))return Br(void 0,e.useValue);{let t=Bv(e);return Br(t,ea)}}function Bv(e,t,r){let n;if(wu(e)){let a=Qt(e);return Vr(a)||Eu(a)}else if(yh(e))n=()=>Qt(e.useValue);else if(Pv(e))n=()=>e.useFactory(..._u(e.deps||[]));else if(kv(e))n=(a,s)=>Ye(Qt(e.useExisting),s!==void 0&&s&qe.Optional?qe.Optional:void 0);else{let a=Qt(e&&(e.useClass||e.provide));if(jv(e))n=()=>new a(..._u(e.deps));else return Vr(a)||Eu(a)}return n}function Mi(e){if(e.destroyed)throw new He(205,!1)}function Br(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function jv(e){return!!e.deps}function Uv(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Hv(e){return typeof e=="function"||typeof e=="object"&&e instanceof Ve}function xu(e,t){for(let r of e)Array.isArray(r)?xu(r,t):r&&uh(r)?xu(r.\u0275providers,t):t(r)}function ln(e,t){let r;e instanceof Ri?(Mi(e),r=e):r=new sa(e);let n,a=Sn(r),s=Yt(void 0);try{return t()}finally{Sn(a),Yt(s)}}function zv(){return ch()!==void 0||xi()!=null}function Vv(e){return typeof e=="function"}var Fn=0,Je=1,Ze=2,Ot=3,un=4,cn=5,fa=6,da=7,Ut=8,Zr=9,An=10,kt=11,Ni=12,gd=13,Jr=14,vn=15,gr=16,jr=17,Rn=18,Pa=19,_h=20,Jn=21,lu=22,ha=23,Xt=24,cu=25,Nn=26,bh=1;var mr=7,pa=8,qr=9,Vt=10;function er(e){return Array.isArray(e)&&typeof e[bh]=="object"}function Bn(e){return Array.isArray(e)&&e[bh]===!0}function wh(e){return(e.flags&4)!==0}function ei(e){return e.componentOffset>-1}function ml(e){return(e.flags&1)===1}function br(e){return!!e.template}function ga(e){return(e[Ze]&512)!==0}function ti(e){return(e[Ze]&256)===256}var Du=class{previousValue;currentValue;firstChange;constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Eh(e,t,r,n){t!==null?t.applyValueToInputSignal(t,n):e[r]=n}var vl=(()=>{let e=()=>xh;return e.ngInherit=!0,e})();function xh(e){return e.type.prototype.ngOnChanges&&(e.setInput=$v),Gv}function Gv(){let e=Ch(this),t=e?.current;if(t){let r=e.previous;if(r===Gr)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function $v(e,t,r,n,a){let s=this.declaredInputs[n],u=Ch(e)||Wv(e,{previous:Gr,current:null}),c=u.current||(u.current={}),m=u.previous,_=m[s];c[s]=new Du(_&&_.currentValue,r,m===Gr),Eh(e,t,a,r)}var Dh="__ngSimpleChanges__";function Ch(e){return e[Dh]||null}function Wv(e,t){return e[Dh]=t}var md=null;var ut=function(e,t=null,r){md?.(e,t,r)},Sh="svg",Zv="math";function yn(e){for(;Array.isArray(e);)e=e[Fn];return e}function qv(e,t){return yn(t[e])}function wn(e,t){return yn(t[e.index])}function Ih(e,t){return e.data[t]}function _n(e,t){let r=t[e];return er(r)?r:r[Fn]}function Yv(e){return(e[Ze]&4)===4}function yl(e){return(e[Ze]&128)===128}function Qv(e){return Bn(e[Ot])}function ma(e,t){return t==null?null:e[t]}function Mh(e){e[jr]=0}function Th(e){e[Ze]&1024||(e[Ze]|=1024,yl(e)&&Fa(e))}function Xv(e,t){for(;e>0;)t=t[Jr],e--;return t}function La(e){return!!(e[Ze]&9216||e[Xt]?.dirty)}function Cu(e){e[An].changeDetectionScheduler?.notify(8),e[Ze]&64&&(e[Ze]|=1024),La(e)&&Fa(e)}function Fa(e){e[An].changeDetectionScheduler?.notify(0);let t=vr(e);for(;t!==null&&!(t[Ze]&8192||(t[Ze]|=8192,!yl(t)));)t=vr(t)}function Ah(e,t){if(ti(e))throw new He(911,!1);e[Jn]===null&&(e[Jn]=[]),e[Jn].push(t)}function Kv(e,t){if(e[Jn]===null)return;let r=e[Jn].indexOf(t);r!==-1&&e[Jn].splice(r,1)}function vr(e){let t=e[Ot];return Bn(t)?t[Ot]:t}function _l(e){return e[da]??=[]}function bl(e){return e.cleanup??=[]}function Jv(e,t,r,n){let a=_l(t);a.push(r),e.firstCreatePass&&bl(e).push(n,a.length-1)}var Ke={lFrame:jh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Su=!1;function ey(){return Ke.lFrame.elementDepthCount}function ty(){Ke.lFrame.elementDepthCount++}function ny(){Ke.lFrame.elementDepthCount--}function Rh(){return Ke.bindingsEnabled}function ry(){return Ke.skipHydrationRootTNode!==null}function iy(e){return Ke.skipHydrationRootTNode===e}function oy(){Ke.skipHydrationRootTNode=null}function dt(){return Ke.lFrame.lView}function fn(){return Ke.lFrame.tView}function ni(e){return Ke.lFrame.contextLView=e,e[Ut]}function ri(e){return Ke.lFrame.contextLView=null,e}function En(){let e=Nh();for(;e!==null&&e.type===64;)e=e.parent;return e}function Nh(){return Ke.lFrame.currentTNode}function ay(){let e=Ke.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ji(e,t){let r=Ke.lFrame;r.currentTNode=e,r.isParent=t}function Oh(){return Ke.lFrame.isParent}function sy(){Ke.lFrame.isParent=!1}function kh(){return Su}function vd(e){let t=Su;return Su=e,t}function uy(){let e=Ke.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ly(e){return Ke.lFrame.bindingIndex=e}function Ph(){return Ke.lFrame.bindingIndex++}function cy(e){let t=Ke.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function fy(){return Ke.lFrame.inI18n}function dy(e,t){let r=Ke.lFrame;r.bindingIndex=r.bindingRootIndex=e,Iu(t)}function hy(){return Ke.lFrame.currentDirectiveIndex}function Iu(e){Ke.lFrame.currentDirectiveIndex=e}function py(e){let t=Ke.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Lh(){return Ke.lFrame.currentQueryIndex}function wl(e){Ke.lFrame.currentQueryIndex=e}function gy(e){let t=e[Je];return t.type===2?t.declTNode:t.type===1?e[cn]:null}function Fh(e,t,r){if(r&qe.SkipSelf){let a=t,s=e;for(;a=a.parent,a===null&&!(r&qe.Host);)if(a=gy(s),a===null||(s=s[Jr],a.type&10))break;if(a===null)return!1;t=a,e=s}let n=Ke.lFrame=Bh();return n.currentTNode=t,n.lView=e,!0}function El(e){let t=Bh(),r=e[Je];Ke.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Bh(){let e=Ke.lFrame,t=e===null?null:e.child;return t===null?jh(e):t}function jh(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Uh(){let e=Ke.lFrame;return Ke.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Hh=Uh;function xl(){let e=Uh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function my(e){return(Ke.lFrame.contextLView=Xv(e,Ke.lFrame.contextLView))[Ut]}function Ui(){return Ke.lFrame.selectedIndex}function yr(e){Ke.lFrame.selectedIndex=e}function zh(){let e=Ke.lFrame;return Ih(e.tView,e.selectedIndex)}function Vh(){Ke.lFrame.currentNamespace=Sh}function Gh(){vy()}function vy(){Ke.lFrame.currentNamespace=null}function yy(){return Ke.lFrame.currentNamespace}var $h=!0;function Dl(){return $h}function Cl(e){$h=e}function _y(e,t,r){let{ngOnChanges:n,ngOnInit:a,ngDoCheck:s}=t.type.prototype;if(n){let u=xh(t);(r.preOrderHooks??=[]).push(e,u),(r.preOrderCheckHooks??=[]).push(e,u)}a&&(r.preOrderHooks??=[]).push(0-e,a),s&&((r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s))}function Wh(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){let s=e.data[r].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:c,ngAfterViewInit:m,ngAfterViewChecked:_,ngOnDestroy:f}=s;u&&(e.contentHooks??=[]).push(-r,u),c&&((e.contentHooks??=[]).push(r,c),(e.contentCheckHooks??=[]).push(r,c)),m&&(e.viewHooks??=[]).push(-r,m),_&&((e.viewHooks??=[]).push(r,_),(e.viewCheckHooks??=[]).push(r,_)),f!=null&&(e.destroyHooks??=[]).push(r,f)}}function ta(e,t,r){Zh(e,t,3,r)}function na(e,t,r,n){(e[Ze]&3)===r&&Zh(e,t,r,n)}function fu(e,t){let r=e[Ze];(r&3)===t&&(r&=16383,r+=1,e[Ze]=r)}function Zh(e,t,r,n){let a=n!==void 0?e[jr]&65535:0,s=n??-1,u=t.length-1,c=0;for(let m=a;m<u;m++)if(typeof t[m+1]=="number"){if(c=t[m],n!=null&&c>=n)break}else t[m]<0&&(e[jr]+=65536),(c<s||s==-1)&&(by(e,r,t,m),e[jr]=(e[jr]&4294901760)+m+2),m++}function yd(e,t){ut(4,e,t);let r=nt(null);try{t.call(e)}finally{nt(r),ut(5,e,t)}}function by(e,t,r,n){let a=r[n]<0,s=r[n+1],u=a?-r[n]:r[n],c=e[u];a?e[Ze]>>14<e[jr]>>16&&(e[Ze]&3)===t&&(e[Ze]+=16384,yd(c,s)):yd(c,s)}var Hr=-1,Oi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,n){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=n}};function wy(e){return(e.flags&8)!==0}function Ey(e){return(e.flags&16)!==0}function xy(e,t,r){let n=0;for(;n<r.length;){let a=r[n];if(typeof a=="number"){if(a!==0)break;n++;let s=r[n++],u=r[n++],c=r[n++];e.setAttribute(t,u,c,s)}else{let s=a,u=r[++n];Cy(s)?e.setProperty(t,s,u):e.setAttribute(t,s,u),n++}}return n}function Dy(e){return e===3||e===4||e===6}function Cy(e){return e.charCodeAt(0)===64}function Sl(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){let a=t[n];typeof a=="number"?r=a:r===0||(r===-1||r===2?_d(e,r,a,null,t[++n]):_d(e,r,a,null,null))}}return e}function _d(e,t,r,n,a){let s=0,u=e.length;if(t===-1)u=-1;else for(;s<e.length;){let c=e[s++];if(typeof c=="number"){if(c===t){u=-1;break}else if(c>t){u=s-1;break}}}for(;s<e.length;){let c=e[s];if(typeof c=="number")break;if(c===r){a!==null&&(e[s+1]=a);return}s++,a!==null&&s++}u!==-1&&(e.splice(u,0,t),s=u+1),e.splice(s++,0,r),a!==null&&e.splice(s++,0,a)}function qh(e){return e!==Hr}function va(e){return e&32767}function Sy(e){return e>>16}function ya(e,t){let r=Sy(e),n=t;for(;r>0;)n=n[Jr],r--;return n}var Mu=!0;function bd(e){let t=Mu;return Mu=e,t}var Iy=256,Yh=Iy-1,Qh=5,My=0,mn={};function Ty(e,t,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(Ai)&&(n=r[Ai]),n==null&&(n=r[Ai]=My++);let a=n&Yh,s=1<<a;t.data[e+(a>>Qh)]|=s}function Xh(e,t){let r=Kh(e,t);if(r!==-1)return r;let n=t[Je];n.firstCreatePass&&(e.injectorIndex=t.length,du(n.data,e),du(t,null),du(n.blueprint,null));let a=Il(e,t),s=e.injectorIndex;if(qh(a)){let u=va(a),c=ya(a,t),m=c[Je].data;for(let _=0;_<8;_++)t[s+_]=c[u+_]|m[u+_]}return t[s+8]=a,s}function du(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Kh(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Il(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let r=0,n=null,a=t;for(;a!==null;){if(n=rp(a),n===null)return Hr;if(r++,a=a[Jr],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Hr}function Ay(e,t,r){Ty(e,t,r)}function Jh(e,t,r){if(r&qe.Optional||e!==void 0)return e;dl(t,"NodeInjector")}function ep(e,t,r,n){if(r&qe.Optional&&n===void 0&&(n=null),(r&(qe.Self|qe.Host))===0){let a=e[Zr],s=Yt(void 0);try{return a?a.get(t,n,r&qe.Optional):fh(t,n,r&qe.Optional)}finally{Yt(s)}}return Jh(n,t,r)}function tp(e,t,r,n=qe.Default,a){if(e!==null){if(t[Ze]&2048&&!(n&qe.Self)){let u=ky(e,t,r,n,mn);if(u!==mn)return u}let s=np(e,t,r,n,mn);if(s!==mn)return s}return ep(t,r,n,a)}function np(e,t,r,n,a){let s=Ny(r);if(typeof s=="function"){if(!Fh(t,e,n))return n&qe.Host?Jh(a,r,n):ep(t,r,n,a);try{let u;if(u=s(n),u==null&&!(n&qe.Optional))dl(r);else return u}finally{Hh()}}else if(typeof s=="number"){let u=null,c=Kh(e,t),m=Hr,_=n&qe.Host?t[vn][cn]:null;for((c===-1||n&qe.SkipSelf)&&(m=c===-1?Il(e,t):t[c+8],m===Hr||!Ed(n,!1)?c=-1:(u=t[Je],c=va(m),t=ya(m,t)));c!==-1;){let f=t[Je];if(wd(s,c,f.data)){let h=Ry(c,t,r,u,n,_);if(h!==mn)return h}m=t[c+8],m!==Hr&&Ed(n,t[Je].data[c+8]===_)&&wd(s,c,t)?(u=f,c=va(m),t=ya(m,t)):c=-1}}return a}function Ry(e,t,r,n,a,s){let u=t[Je],c=u.data[e+8],m=n==null?ei(c)&&Mu:n!=u&&(c.type&3)!==0,_=a&qe.Host&&s===c,f=ra(c,u,r,m,_);return f!==null?_a(t,u,f,c,a):mn}function ra(e,t,r,n,a){let s=e.providerIndexes,u=t.data,c=s&1048575,m=e.directiveStart,_=e.directiveEnd,f=s>>20,h=n?c:c+f,l=a?c+f:_;for(let o=h;o<l;o++){let i=u[o];if(o<m&&r===i||o>=m&&i.type===r)return o}if(a){let o=u[m];if(o&&br(o)&&o.type===r)return m}return null}function _a(e,t,r,n,a){let s=e[r],u=t.data;if(s instanceof Oi){let c=s;c.resolving&&lh(gv(u[r]));let m=bd(c.canSeeViewProviders);c.resolving=!0;let _,f=c.injectImpl?Yt(c.injectImpl):null,h=Fh(e,n,qe.Default);try{s=e[r]=c.factory(void 0,a,u,e,n),t.firstCreatePass&&r>=n.directiveStart&&_y(r,u[r],t)}finally{f!==null&&Yt(f),bd(m),c.resolving=!1,Hh()}}return s}function Ny(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ai)?e[Ai]:void 0;return typeof t=="number"?t>=0?t&Yh:Oy:t}function wd(e,t,r){let n=1<<e;return!!(r[t+(e>>Qh)]&n)}function Ed(e,t){return!(e&qe.Self)&&!(e&qe.Host&&t)}var pr=class{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return tp(this._tNode,this._lView,t,Na(n),r)}};function Oy(){return new pr(En(),dt())}function Ml(e){return Ma(()=>{let t=e.prototype.constructor,r=t[aa]||Tu(t),n=Object.prototype,a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==n;){let s=a[aa]||Tu(a);if(s&&s!==r)return s;a=Object.getPrototypeOf(a)}return s=>new s})}function Tu(e){return ih(e)?()=>{let t=Tu(Qt(e));return t&&t()}:Vr(e)}function ky(e,t,r,n,a){let s=e,u=t;for(;s!==null&&u!==null&&u[Ze]&2048&&!ga(u);){let c=np(s,u,r,n|qe.Self,mn);if(c!==mn)return c;let m=s.parent;if(!m){let _=u[_h];if(_){let f=_.get(r,mn,n);if(f!==mn)return f}m=rp(u),u=u[Jr]}s=m}return a}function rp(e){let t=e[Je],r=t.type;return r===2?t.declTNode:r===1?e[cn]:null}function xd(e,t=null,r=null,n){let a=ip(e,t,r,n);return a.resolveInjectorInitializers(),a}function ip(e,t=null,r=null,n,a=new Set){let s=[r||sn,Nv(e)];return n=n||(typeof e=="object"?void 0:jt(e)),new Ri(s,t||gl(),n||null,a)}var On=class e{static THROW_IF_NOT_FOUND=hr;static NULL=new ca;static create(t,r){if(Array.isArray(t))return xd({name:""},r,t,"");{let n=t.name??"";return xd({name:n},t.parent,t.providers,n)}}static \u0275prov=Ge({token:e,providedIn:"any",factory:()=>Ye(hh)});static __NG_ELEMENT_ID__=-1};var Py=new Ve("");Py.__NG_ELEMENT_ID__=e=>{let t=En();if(t===null)throw new He(204,!1);if(t.type&2)return t.value;if(e&qe.Optional)return null;throw new He(204,!1)};var op=!1,Ba=(()=>{class e{static __NG_ELEMENT_ID__=Ly;static __NG_ENV_ID__=r=>r}return e})(),Au=class extends Ba{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let r=this._lView;return ti(r)?(t(),()=>{}):(Ah(r,t),()=>Kv(r,t))}};function Ly(){return new Au(dt())}var ki=class{},ja=new Ve("",{providedIn:"root",factory:()=>!1});var ap=new Ve(""),sp=new Ve(""),ii=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Mt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Ge({token:e,providedIn:"root",factory:()=>new e})}return e})();var Ru=class extends Dt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,zv()&&(this.destroyRef=Le(Ba,{optional:!0})??void 0,this.pendingTasks=Le(ii,{optional:!0})??void 0)}emit(t){let r=nt(null);try{super.next(t)}finally{nt(r)}}subscribe(t,r,n){let a=t,s=r||(()=>null),u=n;if(t&&typeof t=="object"){let m=t;a=m.next?.bind(m),s=m.error?.bind(m),u=m.complete?.bind(m)}this.__isAsync&&(s=this.wrapInTimeout(s),a&&(a=this.wrapInTimeout(a)),u&&(u=this.wrapInTimeout(u)));let c=super.subscribe({next:a,error:s,complete:u});return t instanceof _t&&t.add(c),c}wrapInTimeout(t){return r=>{let n=this.pendingTasks?.add();setTimeout(()=>{try{t(r)}finally{n!==void 0&&this.pendingTasks?.remove(n)}})}}},Bt=Ru;function ba(...e){}function up(e){let t,r;function n(){e=ba;try{r!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(r),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),n()}),typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(()=>{e(),n()})),()=>n()}function Dd(e){return queueMicrotask(()=>e()),()=>{e=ba}}var Tl="isAngularZone",wa=Tl+"_ID",Fy=0,mt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Bt(!1);onMicrotaskEmpty=new Bt(!1);onStable=new Bt(!1);onError=new Bt(!1);constructor(t){let{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:s=op}=t;if(typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();let u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&n,u.shouldCoalesceRunChangeDetection=a,u.callbackScheduled=!1,u.scheduleInRootZone=s,Uy(u)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Tl)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new He(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,a){let s=this._inner,u=s.scheduleEventTask("NgZoneEvent: "+a,t,By,ba,ba);try{return s.runTask(u,r,n)}finally{s.cancelTask(u)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}},By={};function Al(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function jy(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){up(()=>{e.callbackScheduled=!1,Nu(e),e.isCheckStableRunning=!0,Al(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Nu(e)}function Uy(e){let t=()=>{jy(e)},r=Fy++;e._inner=e._inner.fork({name:"angular",properties:{[Tl]:!0,[wa]:r,[wa+r]:!0},onInvokeTask:(n,a,s,u,c,m)=>{if(Hy(m))return n.invokeTask(s,u,c,m);try{return Cd(e),n.invokeTask(s,u,c,m)}finally{(e.shouldCoalesceEventChangeDetection&&u.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Sd(e)}},onInvoke:(n,a,s,u,c,m,_)=>{try{return Cd(e),n.invoke(s,u,c,m,_)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!zy(m)&&t(),Sd(e)}},onHasTask:(n,a,s,u)=>{n.hasTask(s,u),a===s&&(u.change=="microTask"?(e._hasPendingMicrotasks=u.microTask,Nu(e),Al(e)):u.change=="macroTask"&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,a,s,u)=>(n.handleError(s,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}function Nu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Cd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Sd(e){e._nesting--,Al(e)}var Ou=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Bt;onMicrotaskEmpty=new Bt;onStable=new Bt;onError=new Bt;run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,a){return t.apply(r,n)}};function Hy(e){return lp(e,"__ignore_ng_zone__")}function zy(e){return lp(e,"__scheduler_tick__")}function lp(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var kn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Vy=new Ve("",{providedIn:"root",factory:()=>{let e=Le(mt),t=Le(kn);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Id(e,t){return nh(e,t)}function Gy(e){return nh(th,e)}var cp=(Id.required=Gy,Id);function $y(){return oi(En(),dt())}function oi(e,t){return new ai(wn(e,t))}var ai=(()=>{class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=$y}return e})();function Wy(e){return e instanceof ai?e.nativeElement:e}function Zy(){return this._results[Symbol.iterator]()}var ku=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Dt}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;let n=Sv(t);(this._changesDetected=!Cv(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Zy};function fp(e){return(e.flags&128)===128}var dp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(dp||{}),hp=new Map,qy=0;function Yy(){return qy++}function Qy(e){hp.set(e[Pa],e)}function Pu(e){hp.delete(e[Pa])}var Md="__ngContext__";function Hi(e,t){er(t)?(e[Md]=t[Pa],Qy(t)):e[Md]=t}function pp(e){return mp(e[Ni])}function gp(e){return mp(e[un])}function mp(e){for(;e!==null&&!Bn(e);)e=e[un];return e}var Lu;function vp(e){Lu=e}function yp(){if(Lu!==void 0)return Lu;if(typeof document<"u")return document;throw new He(210,!1)}var Rl=new Ve("",{providedIn:"root",factory:()=>Xy}),Xy="ng",Nl=new Ve(""),zi=new Ve("",{providedIn:"platform",factory:()=>"unknown"});var Ol=new Ve("",{providedIn:"root",factory:()=>yp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ky="h",Jy="b";var _p=!1,e_=new Ve("",{providedIn:"root",factory:()=>_p});var bp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(bp||{}),Ua=new Ve(""),Td=new Set;function kl(e){Td.has(e)||(Td.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var t_=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ge({token:e,providedIn:"root",factory:()=>new e})}return e})();var n_=(e,t,r,n)=>{};function r_(e,t,r,n){n_(e,t,r,n)}var i_=()=>null;function wp(e,t,r=!1){return i_(e,t,r)}function Ep(e,t){let r=e.contentQueries;if(r!==null){let n=nt(null);try{for(let a=0;a<r.length;a+=2){let s=r[a],u=r[a+1];if(u!==-1){let c=e.data[u];wl(s),c.contentQueries(2,t[u],u)}}}finally{nt(n)}}}function Fu(e,t,r){wl(0);let n=nt(null);try{t(e,r)}finally{nt(n)}}function xp(e,t,r){if(wh(t)){let n=nt(null);try{let a=t.directiveStart,s=t.directiveEnd;for(let u=a;u<s;u++){let c=e.data[u];if(c.contentQueries){let m=r[u];c.contentQueries(1,m,u)}}}finally{nt(n)}}}var bn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(bn||{}),Qo;function o_(){if(Qo===void 0&&(Qo=null,zr.trustedTypes))try{Qo=zr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Qo}function Ha(e){return o_()?.createHTML(e)||e}var Xo;function a_(){if(Xo===void 0&&(Xo=null,zr.trustedTypes))try{Xo=zr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Xo}function Ad(e){return a_()?.createHTML(e)||e}var Pn=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jd})`}},Bu=class extends Pn{getTypeName(){return"HTML"}},ju=class extends Pn{getTypeName(){return"Style"}},Uu=class extends Pn{getTypeName(){return"Script"}},Hu=class extends Pn{getTypeName(){return"URL"}},zu=class extends Pn{getTypeName(){return"ResourceURL"}};function jn(e){return e instanceof Pn?e.changingThisBreaksApplicationSecurity:e}function nr(e,t){let r=s_(e);if(r!=null&&r!==t){if(r==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Jd})`)}return r===t}function s_(e){return e instanceof Pn&&e.getTypeName()||null}function Dp(e){return new Bu(e)}function Cp(e){return new ju(e)}function Sp(e){return new Uu(e)}function Ip(e){return new Hu(e)}function Mp(e){return new zu(e)}function u_(e){let t=new Gu(e);return l_()?new Vu(t):t}var Vu=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let r=new window.DOMParser().parseFromString(Ha(t),"text/html").body;return r===null?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}},Gu=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let r=this.inertDocument.createElement("template");return r.innerHTML=Ha(t),r}};function l_(){try{return!!new window.DOMParser().parseFromString(Ha(""),"text/html")}catch{return!1}}var c_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function za(e){return e=String(e),e.match(c_)?e:"unsafe:"+e}function Un(e){let t={};for(let r of e.split(","))t[r]=!0;return t}function Vi(...e){let t={};for(let r of e)for(let n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}var Tp=Un("area,br,col,hr,img,wbr"),Ap=Un("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rp=Un("rp,rt"),f_=Vi(Rp,Ap),d_=Vi(Ap,Un("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),h_=Vi(Rp,Un("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rd=Vi(Tp,d_,h_,f_),Np=Un("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),p_=Un("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),g_=Un("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),m_=Vi(Np,p_,g_),v_=Un("script,style,template"),$u=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let r=t.firstChild,n=!0,a=[];for(;r;){if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild){a.push(r),r=b_(r);continue}for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let s=__(r);if(s){r=s;break}r=a.pop()}}return this.buf.join("")}startElement(t){let r=Nd(t).toLowerCase();if(!Rd.hasOwnProperty(r))return this.sanitizedSomething=!0,!v_.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);let n=t.attributes;for(let a=0;a<n.length;a++){let s=n.item(a),u=s.name,c=u.toLowerCase();if(!m_.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let m=s.value;Np[c]&&(m=za(m)),this.buf.push(" ",u,'="',Od(m),'"')}return this.buf.push(">"),!0}endElement(t){let r=Nd(t).toLowerCase();Rd.hasOwnProperty(r)&&!Tp.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(Od(t))}};function y_(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function __(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw Op(t);return t}function b_(e){let t=e.firstChild;if(t&&y_(e,t))throw Op(t);return t}function Nd(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function Op(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var w_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,E_=/([^\#-~ |!])/g;function Od(e){return e.replace(/&/g,"&amp;").replace(w_,function(t){let r=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+((r-55296)*1024+(n-56320)+65536)+";"}).replace(E_,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ko;function Pl(e,t){let r=null;try{Ko=Ko||u_(e);let n=t?String(t):"";r=Ko.getInertBodyElement(n);let a=5,s=n;do{if(a===0)throw new Error("Failed to sanitize html because the input is unstable");a--,n=s,s=r.innerHTML,r=Ko.getInertBodyElement(n)}while(n!==s);let c=new $u().sanitizeChildren(kd(r)||r);return Ha(c)}finally{if(r){let n=kd(r)||r;for(;n.firstChild;)n.firstChild.remove()}}}function kd(e){return"content"in e&&x_(e)?e.content:null}function x_(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var xn=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(xn||{});function kp(e){let t=Lp();return t?Ad(t.sanitize(xn.HTML,e)||""):nr(e,"HTML")?Ad(jn(e)):Pl(yp(),Ra(e))}function Pp(e){let t=Lp();return t?t.sanitize(xn.URL,e)||"":nr(e,"URL")?jn(e):za(Ra(e))}function Lp(){let e=dt();return e&&e[An].sanitizer}function Fp(e){return e instanceof Function?e():e}function D_(e,t,r){let n=e.length;for(;;){let a=e.indexOf(t,r);if(a===-1)return a;if(a===0||e.charCodeAt(a-1)<=32){let s=t.length;if(a+s===n||e.charCodeAt(a+s)<=32)return a}r=a+1}}var Bp="ng-template";function C_(e,t,r,n){let a=0;if(n){for(;a<t.length&&typeof t[a]=="string";a+=2)if(t[a]==="class"&&D_(t[a+1].toLowerCase(),r,0)!==-1)return!0}else if(Ll(e))return!1;if(a=t.indexOf(1,a),a>-1){let s;for(;++a<t.length&&typeof(s=t[a])=="string";)if(s.toLowerCase()===r)return!0}return!1}function Ll(e){return e.type===4&&e.value!==Bp}function S_(e,t,r){let n=e.type===4&&!r?Bp:e.value;return t===n}function I_(e,t,r){let n=4,a=e.attrs,s=a!==null?A_(a):0,u=!1;for(let c=0;c<t.length;c++){let m=t[c];if(typeof m=="number"){if(!u&&!an(n)&&!an(m))return!1;if(u&&an(m))continue;u=!1,n=m|n&1;continue}if(!u)if(n&4){if(n=2|n&1,m!==""&&!S_(e,m,r)||m===""&&t.length===1){if(an(n))return!1;u=!0}}else if(n&8){if(a===null||!C_(e,a,m,r)){if(an(n))return!1;u=!0}}else{let _=t[++c],f=M_(m,a,Ll(e),r);if(f===-1){if(an(n))return!1;u=!0;continue}if(_!==""){let h;if(f>s?h="":h=a[f+1].toLowerCase(),n&2&&_!==h){if(an(n))return!1;u=!0}}}}return an(n)||u}function an(e){return(e&1)===0}function M_(e,t,r,n){if(t===null)return-1;let a=0;if(n||!r){let s=!1;for(;a<t.length;){let u=t[a];if(u===e)return a;if(u===3||u===6)s=!0;else if(u===1||u===2){let c=t[++a];for(;typeof c=="string";)c=t[++a];continue}else{if(u===4)break;if(u===0){a+=4;continue}}a+=s?1:2}return-1}else return R_(t,e)}function T_(e,t,r=!1){for(let n=0;n<t.length;n++)if(I_(e,t[n],r))return!0;return!1}function A_(e){for(let t=0;t<e.length;t++){let r=e[t];if(Dy(r))return t}return e.length}function R_(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){let n=e[r];if(typeof n=="number")return-1;if(n===t)return r;r++}return-1}function Pd(e,t){return e?":not("+t.trim()+")":t}function N_(e){let t=e[0],r=1,n=2,a="",s=!1;for(;r<e.length;){let u=e[r];if(typeof u=="string")if(n&2){let c=e[++r];a+="["+u+(c.length>0?'="'+c+'"':"")+"]"}else n&8?a+="."+u:n&4&&(a+=" "+u);else a!==""&&!an(u)&&(t+=Pd(s,a),a=""),n=u,s=s||!an(n);r++}return a!==""&&(t+=Pd(s,a)),t}function O_(e){return e.map(N_).join(",")}function k_(e){let t=[],r=[],n=1,a=2;for(;n<e.length;){let s=e[n];if(typeof s=="string")a===2?s!==""&&t.push(s,e[++n]):a===8&&r.push(s);else{if(!an(a))break;a=s}n++}return r.length&&t.push(1,...r),t}var Gi={};function P_(e,t){return e.createText(t)}function jp(e,t,r){return e.createElement(t,r)}function Ea(e,t,r,n,a){e.insertBefore(t,r,n,a)}function Up(e,t,r){e.appendChild(t,r)}function Ld(e,t,r,n,a){n!==null?Ea(e,t,r,n,a):Up(e,t,r)}function L_(e,t,r){e.removeChild(null,t,r)}function F_(e,t,r){e.setAttribute(t,"style",r)}function B_(e,t,r){r===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Hp(e,t,r){let{mergedAttrs:n,classes:a,styles:s}=r;n!==null&&xy(e,t,n),a!==null&&B_(e,t,a),s!==null&&F_(e,t,s)}function Fl(e,t,r,n,a,s,u,c,m,_,f){let h=Nn+n,l=h+a,o=j_(h,l),i=typeof _=="function"?_():_;return o[Je]={type:e,blueprint:o,template:r,queries:null,viewQuery:c,declTNode:t,data:o.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:l,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof u=="function"?u():u,firstChild:null,schemas:m,consts:i,incompleteFirstPass:!1,ssrId:f}}function j_(e,t){let r=[];for(let n=0;n<t;n++)r.push(n<e?null:Gi);return r}function U_(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Fl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Bl(e,t,r,n,a,s,u,c,m,_,f){let h=t.blueprint.slice();return h[Fn]=a,h[Ze]=n|4|128|8|64|1024,(_!==null||e&&e[Ze]&2048)&&(h[Ze]|=2048),Mh(h),h[Ot]=h[Jr]=e,h[Ut]=r,h[An]=u||e&&e[An],h[kt]=c||e&&e[kt],h[Zr]=m||e&&e[Zr]||null,h[cn]=s,h[Pa]=Yy(),h[fa]=f,h[_h]=_,h[vn]=t.type==2?e[vn]:h,h}function H_(e,t,r){let n=wn(t,e),a=U_(r),s=e[An].rendererFactory,u=jl(e,Bl(e,a,null,zp(r),n,t,null,s.createRenderer(n,r),null,null,null));return e[t.index]=u}function zp(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Vp(e,t,r,n){if(r===0)return-1;let a=t.length;for(let s=0;s<r;s++)t.push(n),e.blueprint.push(n),e.data.push(null);return a}function jl(e,t){return e[Ni]?e[gd][un]=t:e[Ni]=t,e[gd]=t,t}function Hn(e=1){Gp(fn(),dt(),Ui()+e,!1)}function Gp(e,t,r,n){if(!n)if((t[Ze]&3)===3){let s=e.preOrderCheckHooks;s!==null&&ta(t,s,r)}else{let s=e.preOrderHooks;s!==null&&na(t,s,0,r)}yr(r)}var Va=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Va||{});function Wu(e,t,r,n){let a=nt(null);try{let[s,u,c]=e.inputs[r],m=null;(u&Va.SignalBased)!==0&&(m=t[s][Sr]),m!==null&&m.transformFn!==void 0?n=m.transformFn(n):c!==null&&(n=c.call(t,n)),e.setInput!==null?e.setInput(t,m,n,r,s):Eh(t,m,s,n)}finally{nt(a)}}function $p(e,t,r,n,a){let s=Ui(),u=n&2;try{yr(-1),u&&t.length>Nn&&Gp(e,t,Nn,!1),ut(u?2:0,a),r(n,a)}finally{yr(s),ut(u?3:1,a)}}function Ul(e,t,r){q_(e,t,r),(r.flags&64)===64&&Y_(e,t,r)}function Wp(e,t,r=wn){let n=t.localNames;if(n!==null){let a=t.index+1;for(let s=0;s<n.length;s+=2){let u=n[s+1],c=u===-1?r(t,e):e[u];e[a++]=c}}}function z_(e,t,r,n){let s=n.get(e_,_p)||r===bn.ShadowDom,u=e.selectRootElement(t,s);return V_(u),u}function V_(e){G_(e)}var G_=()=>null;function $_(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function W_(e,t,r,n,a,s,u,c){if(!c&&Hl(t,e,r,n,a)){ei(t)&&Z_(r,t.index);return}if(t.type&3){let m=wn(t,r);n=$_(n),a=u!=null?u(a,t.value||"",n):a,s.setProperty(m,n,a)}else t.type&12}function Z_(e,t){let r=_n(t,e);r[Ze]&16||(r[Ze]|=64)}function q_(e,t,r){let n=r.directiveStart,a=r.directiveEnd;ei(r)&&H_(t,r,e.data[n+r.componentOffset]),e.firstCreatePass||Xh(r,t);let s=r.initialInputs;for(let u=n;u<a;u++){let c=e.data[u],m=_a(t,e,u,r);if(Hi(m,t),s!==null&&J_(t,u-n,m,c,r,s),br(c)){let _=_n(r.index,t);_[Ut]=_a(t,e,u,r)}}}function Y_(e,t,r){let n=r.directiveStart,a=r.directiveEnd,s=r.index,u=hy();try{yr(s);for(let c=n;c<a;c++){let m=e.data[c],_=t[c];Iu(c),(m.hostBindings!==null||m.hostVars!==0||m.hostAttrs!==null)&&Q_(m,_)}}finally{yr(-1),Iu(u)}}function Q_(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Zp(e,t){let r=e.directiveRegistry,n=null;if(r)for(let a=0;a<r.length;a++){let s=r[a];T_(t,s.selectors,!1)&&(n??=[],br(s)?n.unshift(s):n.push(s))}return n}function X_(e,t,r,n,a,s){let u=wn(e,t);K_(t[kt],u,s,e.value,r,n,a)}function K_(e,t,r,n,a,s,u){if(s==null)e.removeAttribute(t,a,r);else{let c=u==null?Ra(s):u(s,n||"",a);e.setAttribute(t,a,c,r)}}function J_(e,t,r,n,a,s){let u=s[t];if(u!==null)for(let c=0;c<u.length;c+=2){let m=u[c],_=u[c+1];Wu(n,r,m,_)}}function e1(e,t){let r=e[Zr],n=r?r.get(kn,null):null;n&&n.handleError(t)}function Hl(e,t,r,n,a){let s=e.inputs?.[n],u=e.hostDirectiveInputs?.[n],c=!1;if(u)for(let m=0;m<u.length;m+=2){let _=u[m],f=u[m+1],h=t.data[_];Wu(h,r[_],f,a),c=!0}if(s)for(let m of s){let _=r[m],f=t.data[m];Wu(f,_,n,a),c=!0}return c}function t1(e,t){let r=_n(t,e),n=r[Je];n1(n,r);let a=r[Fn];a!==null&&r[fa]===null&&(r[fa]=wp(a,r[Zr])),ut(18),zl(n,r,r[Ut]),ut(19,r[Ut])}function n1(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}function zl(e,t,r){El(t);try{let n=e.viewQuery;n!==null&&Fu(1,n,r);let a=e.template;a!==null&&$p(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[Rn]?.finishViewCreation(e),e.staticContentQueries&&Ep(e,t),e.staticViewQueries&&Fu(2,e.viewQuery,r);let s=e.components;s!==null&&r1(t,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Ze]&=-5,xl()}}function r1(e,t){for(let r=0;r<t.length;r++)t1(e,t[r])}function i1(e,t,r,n){let a=nt(null);try{let s=t.tView,c=e[Ze]&4096?4096:16,m=Bl(e,s,r,c,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),_=e[t.index];m[gr]=_;let f=e[Rn];return f!==null&&(m[Rn]=f.createEmbeddedView(s)),zl(s,m,r),m}finally{nt(a)}}function Fd(e,t){return!t||t.firstChild===null||fp(e)}var o1;function Vl(e,t){return o1(e,t)}var Ln=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ln||{});function qp(e){return(e.flags&32)===32}function Ur(e,t,r,n,a){if(n!=null){let s,u=!1;Bn(n)?s=n:er(n)&&(u=!0,n=n[Fn]);let c=yn(n);e===0&&r!==null?a==null?Up(t,r,c):Ea(t,r,c,a||null,!0):e===1&&r!==null?Ea(t,r,c,a||null,!0):e===2?L_(t,c,u):e===3&&t.destroyNode(c),s!=null&&v1(t,e,s,r,a)}}function a1(e,t){Yp(e,t),t[Fn]=null,t[cn]=null}function s1(e,t,r,n,a,s){n[Fn]=a,n[cn]=t,Ga(e,n,r,1,a,s)}function Yp(e,t){t[An].changeDetectionScheduler?.notify(9),Ga(e,t,t[kt],2,null,null)}function u1(e){let t=e[Ni];if(!t)return hu(e[Je],e);for(;t;){let r=null;if(er(t))r=t[Ni];else{let n=t[Vt];n&&(r=n)}if(!r){for(;t&&!t[un]&&t!==e;)er(t)&&hu(t[Je],t),t=t[Ot];t===null&&(t=e),er(t)&&hu(t[Je],t),r=t&&t[un]}t=r}}function Gl(e,t){let r=e[qr],n=r.indexOf(t);r.splice(n,1)}function Qp(e,t){if(ti(t))return;let r=t[kt];r.destroyNode&&Ga(e,t,r,3,null,null),u1(t)}function hu(e,t){if(ti(t))return;let r=nt(null);try{t[Ze]&=-129,t[Ze]|=256,t[Xt]&&zs(t[Xt]),c1(e,t),l1(e,t),t[Je].type===1&&t[kt].destroy();let n=t[gr];if(n!==null&&Bn(t[Ot])){n!==t[Ot]&&Gl(n,t);let a=t[Rn];a!==null&&a.detachView(e)}Pu(t)}finally{nt(r)}}function l1(e,t){let r=e.cleanup,n=t[da];if(r!==null)for(let u=0;u<r.length-1;u+=2)if(typeof r[u]=="string"){let c=r[u+3];c>=0?n[c]():n[-c].unsubscribe(),u+=2}else{let c=n[r[u+1]];r[u].call(c)}n!==null&&(t[da]=null);let a=t[Jn];if(a!==null){t[Jn]=null;for(let u=0;u<a.length;u++){let c=a[u];c()}}let s=t[ha];if(s!==null){t[ha]=null;for(let u of s)u.destroy()}}function c1(e,t){let r;if(e!=null&&(r=e.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let a=t[r[n]];if(!(a instanceof Oi)){let s=r[n+1];if(Array.isArray(s))for(let u=0;u<s.length;u+=2){let c=a[s[u]],m=s[u+1];ut(4,c,m);try{m.call(c)}finally{ut(5,c,m)}}else{ut(4,a,s);try{s.call(a)}finally{ut(5,a,s)}}}}}function f1(e,t,r){return d1(e,t.parent,r)}function d1(e,t,r){let n=t;for(;n!==null&&n.type&168;)t=n,n=t.parent;if(n===null)return r[Fn];if(ei(n)){let{encapsulation:a}=e.data[n.directiveStart+n.componentOffset];if(a===bn.None||a===bn.Emulated)return null}return wn(n,r)}function h1(e,t,r){return g1(e,t,r)}function p1(e,t,r){return e.type&40?wn(e,r):null}var g1=p1,Bd;function $l(e,t,r,n){let a=f1(e,n,t),s=t[kt],u=n.parent||t[cn],c=h1(u,n,t);if(a!=null)if(Array.isArray(r))for(let m=0;m<r.length;m++)Ld(s,a,r[m],c,!1);else Ld(s,a,r,c,!1);Bd!==void 0&&Bd(s,n,t,r,a)}function Ti(e,t){if(t!==null){let r=t.type;if(r&3)return wn(t,e);if(r&4)return Zu(-1,e[t.index]);if(r&8){let n=t.child;if(n!==null)return Ti(e,n);{let a=e[t.index];return Bn(a)?Zu(-1,a):yn(a)}}else{if(r&128)return Ti(e,t.next);if(r&32)return Vl(t,e)()||yn(e[t.index]);{let n=Xp(e,t);if(n!==null){if(Array.isArray(n))return n[0];let a=vr(e[vn]);return Ti(a,n)}else return Ti(e,t.next)}}}return null}function Xp(e,t){if(t!==null){let n=e[vn][cn],a=t.projection;return n.projection[a]}return null}function Zu(e,t){let r=Vt+e+1;if(r<t.length){let n=t[r],a=n[Je].firstChild;if(a!==null)return Ti(n,a)}return t[mr]}function Wl(e,t,r,n,a,s,u){for(;r!=null;){if(r.type===128){r=r.next;continue}let c=n[r.index],m=r.type;if(u&&t===0&&(c&&Hi(yn(c),n),r.flags|=2),!qp(r))if(m&8)Wl(e,t,r.child,n,a,s,!1),Ur(t,e,a,c,s);else if(m&32){let _=Vl(r,n),f;for(;f=_();)Ur(t,e,a,f,s);Ur(t,e,a,c,s)}else m&16?m1(e,t,n,r,a,s):Ur(t,e,a,c,s);r=u?r.projectionNext:r.next}}function Ga(e,t,r,n,a,s){Wl(r,n,e.firstChild,t,a,s,!1)}function m1(e,t,r,n,a,s){let u=r[vn],m=u[cn].projection[n.projection];if(Array.isArray(m))for(let _=0;_<m.length;_++){let f=m[_];Ur(t,e,a,f,s)}else{let _=m,f=u[Ot];fp(n)&&(_.flags|=128),Wl(e,t,_,f,a,s,!0)}}function v1(e,t,r,n,a){let s=r[mr],u=yn(r);s!==u&&Ur(t,e,n,s,a);for(let c=Vt;c<r.length;c++){let m=r[c];Ga(m[Je],m,e,t,n,s)}}function y1(e,t,r,n,a){if(t)a?e.addClass(r,n):e.removeClass(r,n);else{let s=n.indexOf("-")===-1?void 0:Ln.DashCase;a==null?e.removeStyle(r,n,s):(typeof a=="string"&&a.endsWith("!important")&&(a=a.slice(0,-10),s|=Ln.Important),e.setStyle(r,n,a,s))}}function xa(e,t,r,n,a=!1){for(;r!==null;){if(r.type===128){r=a?r.projectionNext:r.next;continue}let s=t[r.index];s!==null&&n.push(yn(s)),Bn(s)&&_1(s,n);let u=r.type;if(u&8)xa(e,t,r.child,n);else if(u&32){let c=Vl(r,t),m;for(;m=c();)n.push(m)}else if(u&16){let c=Xp(t,r);if(Array.isArray(c))n.push(...c);else{let m=vr(t[vn]);xa(m[Je],m,c,n,!0)}}r=a?r.projectionNext:r.next}return n}function _1(e,t){for(let r=Vt;r<e.length;r++){let n=e[r],a=n[Je].firstChild;a!==null&&xa(n[Je],n,a,t)}e[mr]!==e[Fn]&&t.push(e[mr])}function Kp(e){if(e[cu]!==null){for(let t of e[cu])t.impl.addSequence(t);e[cu].length=0}}var Jp=[];function b1(e){return e[Xt]??w1(e)}function w1(e){let t=Jp.pop()??Object.create(x1);return t.lView=e,t}function E1(e){e.lView[Xt]!==e&&(e.lView=null,Jp.push(e))}var x1=ft(Ue({},So),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Fa(e.lView)},consumerOnSignalRead(){this.lView[Xt]=this}});function D1(e){let t=e[Xt]??Object.create(C1);return t.lView=e,t}var C1=ft(Ue({},So),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=vr(e.lView);for(;t&&!e0(t[Je]);)t=vr(t);t&&Th(t)},consumerOnSignalRead(){this.lView[Xt]=this}});function e0(e){return e.type!==2}function t0(e){if(e[ha]===null)return;let t=!0;for(;t;){let r=!1;for(let n of e[ha])n.dirty&&(r=!0,n.zone===null||Zone.current===n.zone?n.run():n.zone.run(()=>n.run()));t=r&&!!(e[Ze]&8192)}}var S1=100;function n0(e,t=!0,r=0){let a=e[An].rendererFactory,s=!1;s||a.begin?.();try{I1(e,r)}catch(u){throw t&&e1(e,u),u}finally{s||a.end?.()}}function I1(e,t){let r=kh();try{vd(!0),qu(e,t);let n=0;for(;La(e);){if(n===S1)throw new He(103,!1);n++,qu(e,1)}}finally{vd(r)}}function M1(e,t,r,n){if(ti(t))return;let a=t[Ze],s=!1,u=!1;El(t);let c=!0,m=null,_=null;s||(e0(e)?(_=b1(t),m=Us(_)):Fs()===null?(c=!1,_=D1(t),m=Us(_)):t[Xt]&&(zs(t[Xt]),t[Xt]=null));try{Mh(t),ly(e.bindingStartIndex),r!==null&&$p(e,t,r,2,n);let f=(a&3)===3;if(!s)if(f){let o=e.preOrderCheckHooks;o!==null&&ta(t,o,null)}else{let o=e.preOrderHooks;o!==null&&na(t,o,0,null),fu(t,0)}if(u||T1(t),t0(t),r0(t,0),e.contentQueries!==null&&Ep(e,t),!s)if(f){let o=e.contentCheckHooks;o!==null&&ta(t,o)}else{let o=e.contentHooks;o!==null&&na(t,o,1),fu(t,1)}R1(e,t);let h=e.components;h!==null&&o0(t,h,0);let l=e.viewQuery;if(l!==null&&Fu(2,l,n),!s)if(f){let o=e.viewCheckHooks;o!==null&&ta(t,o)}else{let o=e.viewHooks;o!==null&&na(t,o,2),fu(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[lu]){for(let o of t[lu])o();t[lu]=null}s||(Kp(t),t[Ze]&=-73)}catch(f){throw s||Fa(t),f}finally{_!==null&&(Mf(_,m),c&&E1(_)),xl()}}function r0(e,t){for(let r=pp(e);r!==null;r=gp(r))for(let n=Vt;n<r.length;n++){let a=r[n];i0(a,t)}}function T1(e){for(let t=pp(e);t!==null;t=gp(t)){if(!(t[Ze]&2))continue;let r=t[qr];for(let n=0;n<r.length;n++){let a=r[n];Th(a)}}}function A1(e,t,r){ut(18);let n=_n(t,e);i0(n,r),ut(19,n[Ut])}function i0(e,t){yl(e)&&qu(e,t)}function qu(e,t){let n=e[Je],a=e[Ze],s=e[Xt],u=!!(t===0&&a&16);if(u||=!!(a&64&&t===0),u||=!!(a&1024),u||=!!(s?.dirty&&Hs(s)),u||=!1,s&&(s.dirty=!1),e[Ze]&=-9217,u)M1(n,e,n.template,e[Ut]);else if(a&8192){t0(e),r0(e,1);let c=n.components;c!==null&&o0(e,c,1),Kp(e)}}function o0(e,t,r){for(let n=0;n<t.length;n++)A1(e,t[n],r)}function R1(e,t){let r=e.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let a=r[n];if(a<0)yr(~a);else{let s=a,u=r[++n],c=r[++n];dy(u,s);let m=t[s];ut(24,m),c(2,m),ut(25,m)}}}finally{yr(-1)}}function Zl(e,t){let r=kh()?64:1088;for(e[An].changeDetectionScheduler?.notify(t);e;){e[Ze]|=r;let n=vr(e);if(ga(e)&&!n)return e;e=n}return null}function a0(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function N1(e,t,r,n=!0){let a=t[Je];if(O1(a,t,e,r),n){let u=Zu(r,e),c=t[kt],m=c.parentNode(e[mr]);m!==null&&s1(a,e[cn],c,t,m,u)}let s=t[fa];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Yu(e,t){if(e.length<=Vt)return;let r=Vt+t,n=e[r];if(n){let a=n[gr];a!==null&&a!==e&&Gl(a,n),t>0&&(e[r-1][un]=n[un]);let s=la(e,Vt+t);a1(n[Je],n);let u=s[Rn];u!==null&&u.detachView(s[Je]),n[Ot]=null,n[un]=null,n[Ze]&=-129}return n}function O1(e,t,r,n){let a=Vt+n,s=r.length;n>0&&(r[a-1][un]=t),n<s-Vt?(t[un]=r[a],dh(r,Vt+n,t)):(r.push(t),t[un]=null),t[Ot]=r;let u=t[gr];u!==null&&r!==u&&s0(u,t);let c=t[Rn];c!==null&&c.insertView(e),Cu(t),t[Ze]|=128}function s0(e,t){let r=e[qr],n=t[Ot];if(er(n))e[Ze]|=2;else{let a=n[Ot][vn];t[vn]!==a&&(e[Ze]|=2)}r===null?e[qr]=[t]:r.push(t)}var Pi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,r=t[Je];return xa(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n}get context(){return this._lView[Ut]}set context(t){this._lView[Ut]=t}get destroyed(){return ti(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ot];if(Bn(t)){let r=t[pa],n=r?r.indexOf(this):-1;n>-1&&(Yu(t,n),la(r,n))}this._attachedToViewContainer=!1}Qp(this._lView[Je],this._lView)}onDestroy(t){Ah(this._lView,t)}markForCheck(){Zl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ze]&=-129}reattach(){Cu(this._lView),this._lView[Ze]|=128}detectChanges(){this._lView[Ze]|=1024,n0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ga(this._lView),r=this._lView[gr];r!==null&&!t&&Gl(r,this._lView),Yp(this._lView[Je],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=t;let r=ga(this._lView),n=this._lView[gr];n!==null&&!r&&s0(n,this._lView),Cu(this._lView)}};var Yr=(()=>{class e{static __NG_ELEMENT_ID__=L1}return e})(),k1=Yr,P1=class extends k1{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){let a=i1(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:n});return new Pi(a)}};function L1(){return ql(En(),dt())}function ql(e,t){return e.type&4?new P1(t,e,oi(e,t)):null}function Yl(e,t,r,n,a){let s=e.data[t];if(s===null)s=F1(e,t,r,n,a),fy()&&(s.flags|=32);else if(s.type&64){s.type=r,s.value=n,s.attrs=a;let u=ay();s.injectorIndex=u===null?-1:u.injectorIndex}return ji(s,!0),s}function F1(e,t,r,n,a){let s=Nh(),u=Oh(),c=u?s:s&&s.parent,m=e.data[t]=j1(e,c,r,t,n,a);return B1(e,m,s,u),m}function B1(e,t,r,n){e.firstChild===null&&(e.firstChild=t),r!==null&&(n?r.child==null&&t.parent!==null&&(r.child=t):r.next===null&&(r.next=t,t.prev=r))}function j1(e,t,r,n,a,s){let u=t?t.injectorIndex:-1,c=0;return ry()&&(c|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:a,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var tT=new RegExp(`^(\\d+)*(${Jy}|${Ky})*(.*)`);var U1=()=>null;function jd(e,t){return U1(e,t)}var H1=class{},u0=class{},Qu=class{resolveComponentFactory(t){throw Error(`No component factory found for ${jt(t)}.`)}},$a=class{static NULL=new Qu},Qr=class{},l0=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>z1()}return e})();function z1(){let e=dt(),t=En(),r=_n(t.index,e);return(er(r)?r:e)[kt]}var V1=(()=>{class e{static \u0275prov=Ge({token:e,providedIn:"root",factory:()=>null})}return e})();var pu={},Xu=class{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Na(n);let a=this.injector.get(t,pu,n);return a!==pu||r===pu?a:this.parentInjector.get(t,r,n)}};function Ud(e,t,r){let n=r?e.styles:null,a=r?e.classes:null,s=0;if(t!==null)for(let u=0;u<t.length;u++){let c=t[u];if(typeof c=="number")s=c;else if(s==1)a=ud(a,c);else if(s==2){let m=c,_=t[++u];n=ud(n,m+": "+_+";")}}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=a:e.classesWithoutHost=a}function zn(e,t=qe.Default){let r=dt();if(r===null)return Ye(e,t);let n=En();return tp(n,r,Qt(e),t)}function c0(e,t,r,n,a){let s=n===null?null:{"":-1},u=a(e,r);if(u!==null){let c,m=null,_=null,f=$1(u);f===null?c=u:[c,m,_]=f,q1(e,t,r,c,s,m,_)}s!==null&&n!==null&&G1(r,n,s)}function G1(e,t,r){let n=e.localNames=[];for(let a=0;a<t.length;a+=2){let s=r[t[a+1]];if(s==null)throw new He(-301,!1);n.push(t[a],s)}}function $1(e){let t=null,r=!1;for(let u=0;u<e.length;u++){let c=e[u];if(u===0&&br(c)&&(t=c),c.findHostDirectiveDefs!==null){r=!0;break}}if(!r)return null;let n=null,a=null,s=null;for(let u of e)u.findHostDirectiveDefs!==null&&(n??=[],a??=new Map,s??=new Map,W1(u,n,s,a)),u===t&&(n??=[],n.push(u));return n!==null?(n.push(...t===null?e:e.slice(1)),[n,a,s]):null}function W1(e,t,r,n){let a=t.length;e.findHostDirectiveDefs(e,t,n),r.set(e,[a,t.length-1])}function Z1(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function q1(e,t,r,n,a,s,u){let c=n.length,m=!1;for(let l=0;l<c;l++){let o=n[l];!m&&br(o)&&(m=!0,Z1(e,r,l)),Ay(Xh(r,t),e,o.type)}eb(r,e.data.length,c);for(let l=0;l<c;l++){let o=n[l];o.providersResolver&&o.providersResolver(o)}let _=!1,f=!1,h=Vp(e,t,c,null);c>0&&(r.directiveToIndex=new Map);for(let l=0;l<c;l++){let o=n[l];if(r.mergedAttrs=Sl(r.mergedAttrs,o.hostAttrs),Q1(e,r,t,h,o),J1(h,o,a),u!==null&&u.has(o)){let[g,y]=u.get(o);r.directiveToIndex.set(o.type,[h,g+r.directiveStart,y+r.directiveStart])}else(s===null||!s.has(o))&&r.directiveToIndex.set(o.type,h);o.contentQueries!==null&&(r.flags|=4),(o.hostBindings!==null||o.hostAttrs!==null||o.hostVars!==0)&&(r.flags|=64);let i=o.type.prototype;!_&&(i.ngOnChanges||i.ngOnInit||i.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),_=!0),!f&&(i.ngOnChanges||i.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),f=!0),h++}Y1(e,r,s)}function Y1(e,t,r){for(let n=t.directiveStart;n<t.directiveEnd;n++){let a=e.data[n];if(r===null||!r.has(a))Hd(0,t,a,n),Hd(1,t,a,n),Vd(t,n,!1);else{let s=r.get(a);zd(0,t,s,n),zd(1,t,s,n),Vd(t,n,!0)}}}function Hd(e,t,r,n){let a=e===0?r.inputs:r.outputs;for(let s in a)if(a.hasOwnProperty(s)){let u;e===0?u=t.inputs??={}:u=t.outputs??={},u[s]??=[],u[s].push(n),f0(t,s)}}function zd(e,t,r,n){let a=e===0?r.inputs:r.outputs;for(let s in a)if(a.hasOwnProperty(s)){let u=a[s],c;e===0?c=t.hostDirectiveInputs??={}:c=t.hostDirectiveOutputs??={},c[u]??=[],c[u].push(n,s),f0(t,u)}}function f0(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Vd(e,t,r){let{attrs:n,inputs:a,hostDirectiveInputs:s}=e;if(n===null||!r&&a===null||r&&s===null||Ll(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let u=null,c=0;for(;c<n.length;){let m=n[c];if(m===0){c+=4;continue}else if(m===5){c+=2;continue}else if(typeof m=="number")break;if(!r&&a.hasOwnProperty(m)){let _=a[m];for(let f of _)if(f===t){u??=[],u.push(m,n[c+1]);break}}else if(r&&s.hasOwnProperty(m)){let _=s[m];for(let f=0;f<_.length;f+=2)if(_[f]===t){u??=[],u.push(_[f+1],n[c+1]);break}}c+=2}e.initialInputs??=[],e.initialInputs.push(u)}function Q1(e,t,r,n,a){e.data[n]=a;let s=a.factory||(a.factory=Vr(a.type,!0)),u=new Oi(s,br(a),zn);e.blueprint[n]=u,r[n]=u,X1(e,t,n,Vp(e,r,a.hostVars,Gi),a)}function X1(e,t,r,n,a){let s=a.hostBindings;if(s){let u=e.hostBindingOpCodes;u===null&&(u=e.hostBindingOpCodes=[]);let c=~t.index;K1(u)!=c&&u.push(c),u.push(r,n,s)}}function K1(e){let t=e.length;for(;t>0;){let r=e[--t];if(typeof r=="number"&&r<0)return r}return 0}function J1(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;br(t)&&(r[""]=e)}}function eb(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function d0(e,t,r,n,a,s,u,c){let m=t.consts,_=ma(m,u),f=Yl(t,e,2,n,_);return s&&c0(t,r,f,ma(m,c),a),f.mergedAttrs=Sl(f.mergedAttrs,f.attrs),f.attrs!==null&&Ud(f,f.attrs,!1),f.mergedAttrs!==null&&Ud(f,f.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,f),f}function h0(e,t){Wh(e,t),wh(t)&&e.queries.elementEnd(t)}var Da=class extends $a{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let r=Wr(t);return new Li(r,this.ngModule)}};function tb(e){return Object.keys(e).map(t=>{let[r,n,a]=e[t],s={propName:r,templateName:t,isSignal:(n&Va.SignalBased)!==0};return a&&(s.transform=a),s})}function nb(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function rb(e,t,r){let n=t instanceof Kt?t:t?.injector;return n&&e.getStandaloneInjector!==null&&(n=e.getStandaloneInjector(n)||n),n?new Xu(r,n):r}function ib(e){let t=e.get(Qr,null);if(t===null)throw new He(407,!1);let r=e.get(V1,null),n=e.get(ki,null);return{rendererFactory:t,sanitizer:r,changeDetectionScheduler:n}}function ob(e,t){let r=(e.selectors[0][0]||"div").toLowerCase();return jp(t,r,r==="svg"?Sh:r==="math"?Zv:null)}var Li=class extends u0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=tb(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=nb(this.componentDef.outputs),this.cachedOutputs}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=O_(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,n,a){ut(22);let s=nt(null);try{let u=this.componentDef,c=n?["ng-version","19.2.14"]:k_(this.componentDef.selectors[0]),m=Fl(0,null,null,1,0,null,null,null,null,[c],null),_=rb(u,a||this.ngModule,t),f=ib(_),h=f.rendererFactory.createRenderer(null,u),l=n?z_(h,n,u.encapsulation,_):ob(u,h),o=Bl(null,m,null,512|zp(u),null,null,f,h,_,null,wp(l,_,!0));o[Nn]=l,El(o);let i=null;try{let g=d0(Nn,m,o,"#host",()=>[this.componentDef],!0,0);l&&(Hp(h,l,g),Hi(l,o)),Ul(m,o,g),xp(m,g,o),h0(m,g),r!==void 0&&ab(g,this.ngContentSelectors,r),i=_n(g.index,o),o[Ut]=i[Ut],zl(m,o,null)}catch(g){throw i!==null&&Pu(i),Pu(o),g}finally{ut(23),xl()}return new Ku(this.componentType,o)}finally{nt(s)}}},Ku=class extends H1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=Ih(r[Je],Nn),this.location=oi(this._tNode,r),this.instance=_n(this._tNode.index,r)[Ut],this.hostView=this.changeDetectorRef=new Pi(r,void 0,!1),this.componentType=t}setInput(t,r){let n=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;let a=this._rootLView,s=Hl(n,a[Je],a,t,r);this.previousInputValues.set(t,r);let u=_n(n.index,a);Zl(u,1)}get injector(){return new pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function ab(e,t,r){let n=e.projection=[];for(let a=0;a<t.length;a++){let s=r[a];n.push(s!=null&&s.length?Array.from(s):null)}}var wr=(()=>{class e{static __NG_ELEMENT_ID__=sb}return e})();function sb(){let e=En();return g0(e,dt())}var ub=wr,p0=class extends ub{_lContainer;_hostTNode;_hostLView;constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return oi(this._hostTNode,this._hostLView)}get injector(){return new pr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Il(this._hostTNode,this._hostLView);if(qh(t)){let r=ya(t,this._hostLView),n=va(t),a=r[Je].data[n+8];return new pr(a,r)}else return new pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let r=Gd(this._lContainer);return r!==null&&r[t]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(t,r,n){let a,s;typeof n=="number"?a=n:n!=null&&(a=n.index,s=n.injector);let u=jd(this._lContainer,t.ssrId),c=t.createEmbeddedViewImpl(r||{},s,u);return this.insertImpl(c,a,Fd(this._hostTNode,u)),c}createComponent(t,r,n,a,s){let u=t&&!Vv(t),c;if(u)c=r;else{let i=r||{};c=i.index,n=i.injector,a=i.projectableNodes,s=i.environmentInjector||i.ngModuleRef}let m=u?t:new Li(Wr(t)),_=n||this.parentInjector;if(!s&&m.ngModule==null){let g=(u?_:this.parentInjector).get(Kt,null);g&&(s=g)}let f=Wr(m.componentType??{}),h=jd(this._lContainer,f?.id??null),l=h?.firstChild??null,o=m.create(_,a,l,s);return this.insertImpl(o.hostView,c,Fd(this._hostTNode,h)),o}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){let a=t._lView;if(Qv(a)){let c=this.indexOf(t);if(c!==-1)this.detach(c);else{let m=a[Ot],_=new p0(m,m[cn],m[Ot]);_.detach(_.indexOf(t))}}let s=this._adjustIndex(r),u=this._lContainer;return N1(u,a,s,n),t.attachToViewContainerRef(),dh(gu(u),s,t),t}move(t,r){return this.insert(t,r)}indexOf(t){let r=Gd(this._lContainer);return r!==null?r.indexOf(t):-1}remove(t){let r=this._adjustIndex(t,-1),n=Yu(this._lContainer,r);n&&(la(gu(this._lContainer),r),Qp(n[Je],n))}detach(t){let r=this._adjustIndex(t,-1),n=Yu(this._lContainer,r);return n&&la(gu(this._lContainer),r)!=null?new Pi(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function Gd(e){return e[pa]}function gu(e){return e[pa]||(e[pa]=[])}function g0(e,t){let r,n=t[e.index];return Bn(n)?r=n:(r=a0(n,t,null,e),t[e.index]=r,jl(t,r)),cb(r,t,e,n),new p0(r,e,t)}function lb(e,t){let r=e[kt],n=r.createComment(""),a=wn(t,e),s=r.parentNode(a);return Ea(r,s,n,r.nextSibling(a),!1),n}var cb=hb,fb=()=>!1;function db(e,t,r){return fb(e,t,r)}function hb(e,t,r,n){if(e[mr])return;let a;r.type&8?a=yn(n):a=lb(t,r),e[mr]=a}var Ju=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},el=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let r=t.queries;if(r!==null){let n=t.contentQueries!==null?t.contentQueries[0]:r.length,a=[];for(let s=0;s<n;s++){let u=r.getByIndex(s),c=this.queries[u.indexInDeclarationView];a.push(c.clone())}return new e(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)Ql(t,r).matches!==null&&this.queries[r].setDirty()}},tl=class{flags;read;predicate;constructor(t,r,n=null){this.flags=r,this.read=n,typeof t=="string"?this.predicate=wb(t):this.predicate=t}},nl=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){let a=r!==null?r.length:0,s=this.getByIndex(n).embeddedTView(t,a);s&&(s.indexInDeclarationView=n,r!==null?r.push(s):r=[s])}return r!==null?new e(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},rl=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let a=0;a<n.length;a++){let s=n[a];this.matchTNodeWithReadOption(t,r,pb(r,s)),this.matchTNodeWithReadOption(t,r,ra(r,t,s,!1,!1))}else n===Yr?r.type&4&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,ra(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(n!==null){let a=this.metadata.read;if(a!==null)if(a===ai||a===wr||a===Yr&&r.type&4)this.addMatch(r.index,-2);else{let s=ra(r,t,a,!1,!1);s!==null&&this.addMatch(r.index,s)}else this.addMatch(r.index,n)}}addMatch(t,r){this.matches===null?this.matches=[t,r]:this.matches.push(t,r)}};function pb(e,t){let r=e.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1]}return null}function gb(e,t){return e.type&11?oi(e,t):e.type&4?ql(e,t):null}function mb(e,t,r,n){return r===-1?gb(t,e):r===-2?vb(e,t,n):_a(e,e[Je],r,t)}function vb(e,t,r){if(r===ai)return oi(t,e);if(r===Yr)return ql(t,e);if(r===wr)return g0(t,e)}function m0(e,t,r,n){let a=t[Rn].queries[n];if(a.matches===null){let s=e.data,u=r.matches,c=[];for(let m=0;u!==null&&m<u.length;m+=2){let _=u[m];if(_<0)c.push(null);else{let f=s[_];c.push(mb(t,f,u[m+1],r.metadata.read))}}a.matches=c}return a.matches}function il(e,t,r,n){let a=e.queries.getByIndex(r),s=a.matches;if(s!==null){let u=m0(e,t,a,r);for(let c=0;c<s.length;c+=2){let m=s[c];if(m>0)n.push(u[c/2]);else{let _=s[c+1],f=t[-m];for(let h=Vt;h<f.length;h++){let l=f[h];l[gr]===l[Ot]&&il(l[Je],l,_,n)}if(f[qr]!==null){let h=f[qr];for(let l=0;l<h.length;l++){let o=h[l];il(o[Je],o,_,n)}}}}}return n}function yb(e,t){return e[Rn].queries[t].queryList}function _b(e,t,r){let n=new ku((r&4)===4);return Jv(e,t,n,n.destroy),(t[Rn]??=new el).queries.push(new Ju(n))-1}function bb(e,t,r){let n=fn();return n.firstCreatePass&&(Eb(n,new tl(e,t,r),-1),(t&2)===2&&(n.staticViewQueries=!0)),_b(n,dt(),t)}function wb(e){return e.split(",").map(t=>t.trim())}function Eb(e,t,r){e.queries===null&&(e.queries=new nl),e.queries.track(new rl(t,r))}function Ql(e,t){return e.queries.getByIndex(t)}function xb(e,t){let r=e[Je],n=Ql(r,t);return n.crossesNgTemplate?il(r,e,t,[]):m0(r,e,n,t)}var Xr=class{},Xl=class{};var ol=class extends Xr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Da(this);constructor(t,r,n,a=!0){super(),this.ngModuleType=t,this._parent=r;let s=gh(t);this._bootstrapComponents=Fp(s.bootstrap),this._r3Injector=ip(t,r,[{provide:Xr,useValue:this},{provide:$a,useValue:this.componentFactoryResolver},...n],jt(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},al=class extends Xl{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ol(this.moduleType,t,[])}};var Ca=class extends Xr{injector;componentFactoryResolver=new Da(this);instance=null;constructor(t){super();let r=new Ri([...t.providers,{provide:Xr,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],t.parent||gl(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Wa(e,t,r=null){return new Ca({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}var Db=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let n=mh(!1,r.type),a=n.length>0?Wa([n],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ge({token:e,providedIn:"environment",factory:()=>new e(Ye(Kt))})}return e})();function rr(e){return Ma(()=>{let t=v0(e),r=ft(Ue({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===dp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(Db).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||bn.Emulated,styles:e.styles||sn,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&kl("NgStandalone"),y0(r);let n=e.dependencies;return r.directiveDefs=$d(n,!1),r.pipeDefs=$d(n,!0),r.id=Tb(r),r})}function Cb(e){return Wr(e)||Av(e)}function Sb(e){return e!==null}function Za(e){return Ma(()=>({type:e.type,bootstrap:e.bootstrap||sn,declarations:e.declarations||sn,imports:e.imports||sn,exports:e.exports||sn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ib(e,t){if(e==null)return Gr;let r={};for(let n in e)if(e.hasOwnProperty(n)){let a=e[n],s,u,c,m;Array.isArray(a)?(c=a[0],s=a[1],u=a[2]??s,m=a[3]||null):(s=a,u=a,c=Va.None,m=null),r[s]=[n,c,m],t[s]=u}return r}function Mb(e){if(e==null)return Gr;let t={};for(let r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function $i(e){return Ma(()=>{let t=v0(e);return y0(t),t})}function v0(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Gr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||sn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ib(e.inputs,t),outputs:Mb(e.outputs),debugInfo:null}}function y0(e){e.features?.forEach(t=>t(e))}function $d(e,t){if(!e)return null;let r=t?Rv:Cb;return()=>(typeof e=="function"?e():e).map(n=>r(n)).filter(Sb)}function Tb(e){let t=0,r=typeof e.consts=="function"?"":e.consts,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,r,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let s of n.join("|"))t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Ab(e,t,r){return e[t]=r}function qa(e,t,r){let n=e[t];return Object.is(n,r)?!1:(e[t]=r,!0)}function Rb(e,t,r,n,a,s,u,c,m){let _=t.consts,f=Yl(t,e,4,u||null,c||null);Rh()&&c0(t,r,f,ma(_,m),Zp),f.mergedAttrs=Sl(f.mergedAttrs,f.attrs),Wh(t,f);let h=f.tView=Fl(2,f,n,a,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,_,null);return t.queries!==null&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}function Nb(e,t,r,n,a,s,u,c,m,_){let f=r+Nn,h=t.firstCreatePass?Rb(f,t,e,n,a,s,u,c,m):t.data[f];ji(h,!1);let l=Ob(t,e,h,r);Dl()&&$l(t,e,l,h),Hi(l,e);let o=a0(l,e,l,h);return e[f]=o,jl(e,o),db(o,h,e),ml(h)&&Ul(t,e,h),m!=null&&Wp(e,h,_),h}function Wi(e,t,r,n,a,s,u,c){let m=dt(),_=fn(),f=ma(_.consts,s);return Nb(m,_,e,t,r,n,a,f,u,c),Wi}var Ob=kb;function kb(e,t,r,n){return Cl(!0),t[kt].createComment("")}var Kl=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var _0=new Ve("");var Pb=(()=>{class e{static \u0275prov=Ge({token:e,providedIn:"root",factory:()=>new sl})}return e})(),sl=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let r=t.zone,n=this.queues.get(r);n.has(t)&&(n.delete(t),this.queuedEffectCount--)}enqueue(t){let r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);let n=this.queues.get(r);n.has(t)||(this.queuedEffectCount++,n.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,r]of this.queues)t===null?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(let r of t)t.delete(r),this.queuedEffectCount--,r.run()}};function Zi(e){return!!e&&typeof e.then=="function"}function b0(e){return!!e&&typeof e.subscribe=="function"}var Lb=new Ve("");var w0=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,n)=>{this.resolve=r,this.reject=n});appInits=Le(Lb,{optional:!0})??[];injector=Le(On);constructor(){}runInitializers(){if(this.initialized)return;let r=[];for(let a of this.appInits){let s=ln(this.injector,a);if(Zi(s))r.push(s);else if(b0(s)){let u=new Promise((c,m)=>{s.subscribe({complete:c,error:m})});r.push(u)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{n()}).catch(a=>{this.reject(a)}),r.length===0&&n(),this.initialized=!0}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jl=new Ve("");function Fb(){Vs(()=>{throw new He(600,!1)})}function Bb(e){return e.isBoundToModule}var jb=10;var tr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Le(Vy);afterRenderManager=Le(t_);zonelessEnabled=Le(ja);rootEffectScheduler=Le(Pb);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Dt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Le(ii).hasPendingTasks.pipe(rt(r=>!r));constructor(){Le(Ua,{optional:!0})}whenStable(){let r;return new Promise(n=>{r=this.isStable.subscribe({next:a=>{a&&n()}})}).finally(()=>{r.unsubscribe()})}_injector=Le(Kt);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,n){return this.bootstrapImpl(r,n)}bootstrapImpl(r,n,a=On.NULL){ut(10);let s=r instanceof u0;if(!this._injector.get(w0).done){let o="";throw new He(405,o)}let c;s?c=r:c=this._injector.get($a).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let m=Bb(c)?void 0:this._injector.get(Xr),_=n||c.selector,f=c.create(a,[],_,m),h=f.location.nativeElement,l=f.injector.get(_0,null);return l?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),ia(this.components,f),l?.unregisterApplication(h)}),this._loadComponent(f),ut(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ut(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(bp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new He(101,!1);let r=nt(null);try{this._runningTick=!0,this.synchronize()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,nt(r),this.afterTick.next(),ut(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Qr,null,{optional:!0}));let r=0;for(;this.dirtyFlags!==0&&r++<jb;)ut(14),this.synchronizeOnce(),ut(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:n,notifyErrorHandler:a}of this.allViews)Ub(n,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>La(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let n=r;this._views.push(n),n.attachToAppRef(this)}detachView(r){let n=r;ia(this._views,n),n.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Jl,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ia(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new He(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ia(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function Ub(e,t,r,n){if(!r&&!La(e))return;n0(e,t,r&&!n?0:1)}function ec(e,t,r,n){let a=dt(),s=Ph();if(qa(a,s,t)){let u=fn(),c=zh();X_(c,a,e,t,r,n)}return ec}function Jo(e,t){return e<<17|t<<2}function _r(e){return e>>17&32767}function Hb(e){return(e&2)==2}function zb(e,t){return e&131071|t<<17}function ul(e){return e|2}function Kr(e){return(e&131068)>>2}function mu(e,t){return e&-131069|t<<2}function Vb(e){return(e&1)===1}function ll(e){return e|1}function Gb(e,t,r,n,a,s){let u=s?t.classBindings:t.styleBindings,c=_r(u),m=Kr(u);e[n]=r;let _=!1,f;if(Array.isArray(r)){let h=r;f=h[1],(f===null||Bi(h,f)>0)&&(_=!0)}else f=r;if(a)if(m!==0){let l=_r(e[c+1]);e[n+1]=Jo(l,c),l!==0&&(e[l+1]=mu(e[l+1],n)),e[c+1]=zb(e[c+1],n)}else e[n+1]=Jo(c,0),c!==0&&(e[c+1]=mu(e[c+1],n)),c=n;else e[n+1]=Jo(m,0),c===0?c=n:e[m+1]=mu(e[m+1],n),m=n;_&&(e[n+1]=ul(e[n+1])),Wd(e,f,n,!0),Wd(e,f,n,!1),$b(t,f,e,n,s),u=Jo(c,m),s?t.classBindings=u:t.styleBindings=u}function $b(e,t,r,n,a){let s=a?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&Bi(s,t)>=0&&(r[n+1]=ll(r[n+1]))}function Wd(e,t,r,n){let a=e[r+1],s=t===null,u=n?_r(a):Kr(a),c=!1;for(;u!==0&&(c===!1||s);){let m=e[u],_=e[u+1];Wb(m,t)&&(c=!0,e[u+1]=n?ll(_):ul(_)),u=n?_r(_):Kr(_)}c&&(e[r+1]=n?ul(a):ll(a))}function Wb(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Bi(e,t)>=0:!1}function dn(e,t,r){let n=dt(),a=Ph();if(qa(n,a,t)){let s=fn(),u=zh();W_(s,u,n,e,t,n[kt],r,!1)}return dn}function Zd(e,t,r,n,a){Hl(t,e,r,a?"class":"style",n)}function Ya(e,t){return Zb(e,t,null,!0),Ya}function Zb(e,t,r,n){let a=dt(),s=fn(),u=cy(2);if(s.firstUpdatePass&&Yb(s,e,u,n),t!==Gi&&qa(a,u,t)){let c=s.data[Ui()];ew(s,c,a,a[kt],e,a[u+1]=tw(t,r),n,u)}}function qb(e,t){return t>=e.expandoStartIndex}function Yb(e,t,r,n){let a=e.data;if(a[r+1]===null){let s=a[Ui()],u=qb(e,r);nw(s,n)&&t===null&&!u&&(t=!1),t=Qb(a,s,t,n),Gb(a,s,t,r,u,n)}}function Qb(e,t,r,n){let a=py(e),s=n?t.residualClasses:t.residualStyles;if(a===null)(n?t.classBindings:t.styleBindings)===0&&(r=vu(null,e,t,r,n),r=Fi(r,t.attrs,n),s=null);else{let u=t.directiveStylingLast;if(u===-1||e[u]!==a)if(r=vu(a,e,t,r,n),s===null){let m=Xb(e,t,n);m!==void 0&&Array.isArray(m)&&(m=vu(null,e,t,m[1],n),m=Fi(m,t.attrs,n),Kb(e,t,n,m))}else s=Jb(e,t,n)}return s!==void 0&&(n?t.residualClasses=s:t.residualStyles=s),r}function Xb(e,t,r){let n=r?t.classBindings:t.styleBindings;if(Kr(n)!==0)return e[_r(n)]}function Kb(e,t,r,n){let a=r?t.classBindings:t.styleBindings;e[_r(a)]=n}function Jb(e,t,r){let n,a=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<a;s++){let u=e[s].hostAttrs;n=Fi(n,u,r)}return Fi(n,t.attrs,r)}function vu(e,t,r,n,a){let s=null,u=r.directiveEnd,c=r.directiveStylingLast;for(c===-1?c=r.directiveStart:c++;c<u&&(s=t[c],n=Fi(n,s.hostAttrs,a),s!==e);)c++;return e!==null&&(r.directiveStylingLast=c),n}function Fi(e,t,r){let n=r?1:2,a=-1;if(t!==null)for(let s=0;s<t.length;s++){let u=t[s];typeof u=="number"?a=u:a===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Mv(e,u,r?!0:t[++s]))}return e===void 0?null:e}function ew(e,t,r,n,a,s,u,c){if(!(t.type&3))return;let m=e.data,_=m[c+1],f=Vb(_)?qd(m,t,r,a,Kr(_),u):void 0;if(!Sa(f)){Sa(s)||Hb(_)&&(s=qd(m,null,r,a,c,u));let h=qv(Ui(),r);y1(n,u,h,a,s)}}function qd(e,t,r,n,a,s){let u=t===null,c;for(;a>0;){let m=e[a],_=Array.isArray(m),f=_?m[1]:m,h=f===null,l=r[a+1];l===Gi&&(l=h?sn:void 0);let o=h?su(l,n):f===n?l:void 0;if(_&&!Sa(o)&&(o=su(m,n)),Sa(o)&&(c=o,u))return c;let i=e[a+1];a=u?_r(i):Kr(i)}if(t!==null){let m=s?t.residualClasses:t.residualStyles;m!=null&&(c=su(m,n))}return c}function Sa(e){return e!==void 0}function tw(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=jt(jn(e)))),e}function nw(e,t){return(e.flags&(t?8:16))!==0}function xt(e,t,r,n){let a=dt(),s=fn(),u=Nn+e,c=a[kt],m=s.firstCreatePass?d0(u,s,a,t,Zp,Rh(),r,n):s.data[u],_=rw(s,a,m,c,t,e);a[u]=_;let f=ml(m);return ji(m,!0),Hp(c,_,m),!qp(m)&&Dl()&&$l(s,a,_,m),(ey()===0||f)&&Hi(_,a),ty(),f&&(Ul(s,a,m),xp(s,m,a)),n!==null&&Wp(a,m),xt}function At(){let e=En();Oh()?sy():(e=e.parent,ji(e,!1));let t=e;iy(t)&&oy(),ny();let r=fn();return r.firstCreatePass&&h0(r,t),t.classesWithoutHost!=null&&wy(t)&&Zd(r,t,dt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Ey(t)&&Zd(r,t,dt(),t.stylesWithoutHost,!1),At}function Jt(e,t,r,n){return xt(e,t,r,n),At(),Jt}var rw=(e,t,r,n,a,s)=>(Cl(!0),jp(n,a,yy()));function tc(){return dt()}var Ia="en-US";var iw=Ia;function ow(e){typeof e=="string"&&(iw=e.toLowerCase().replace(/_/g,"-"))}function Yd(e,t,r){return function n(a){if(a===Function)return r;let s=ei(e)?_n(e.index,t):t;Zl(s,5);let u=t[Ut],c=Qd(t,u,r,a),m=n.__ngNextListenerFn__;for(;m;)c=Qd(t,u,m,a)&&c,m=m.__ngNextListenerFn__;return c}}function Qd(e,t,r,n){let a=nt(null);try{return ut(6,t,r),r(n)!==!1}catch(s){return aw(e,s),!1}finally{ut(7,t,r),nt(a)}}function aw(e,t){let r=e[Zr],n=r?r.get(kn,null):null;n&&n.handleError(t)}function Xd(e,t,r,n,a,s){let u=t[r],c=t[Je],_=c.data[r].outputs[n],f=u[_],h=c.firstCreatePass?bl(c):null,l=_l(t),o=f.subscribe(s),i=l.length;l.push(s,o),h&&h.push(a,e.index,i,-(i+1))}function Er(e,t,r,n){let a=dt(),s=fn(),u=En();return uw(s,a,a[kt],u,e,t,n),Er}function sw(e,t,r,n){let a=e.cleanup;if(a!=null)for(let s=0;s<a.length-1;s+=2){let u=a[s];if(u===r&&a[s+1]===n){let c=t[da],m=a[s+2];return c.length>m?c[m]:null}typeof u=="string"&&(s+=2)}return null}function uw(e,t,r,n,a,s,u){let c=ml(n),_=e.firstCreatePass?bl(e):null,f=_l(t),h=!0;if(n.type&3||u){let l=wn(n,t),o=u?u(l):l,i=f.length,g=u?d=>u(yn(d[n.index])):n.index,y=null;if(!u&&c&&(y=sw(e,t,a,n.index)),y!==null){let d=y.__ngLastListenerFn__||y;d.__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,h=!1}else{s=Yd(n,t,s),r_(t,o,a,s);let d=r.listen(o,a,s);f.push(s,d),_&&_.push(a,g,i,i+1)}}else s=Yd(n,t,s);if(h){let l=n.outputs?.[a],o=n.hostDirectiveOutputs?.[a];if(o&&o.length)for(let i=0;i<o.length;i+=2){let g=o[i],y=o[i+1];Xd(n,t,g,y,a,s)}if(l&&l.length)for(let i of l)Xd(n,t,i,a,a,s)}}function qi(e=1){return my(e)}function Yi(e,t,r){bb(e,t,r)}function Qi(e){let t=dt(),r=fn(),n=Lh();wl(n+1);let a=Ql(r,n);if(e.dirty&&Yv(t)===((a.metadata.flags&2)===2)){if(a.matches===null)e.reset([]);else{let s=xb(t,n);e.reset(s,Wy),e.notifyOnChanges()}return!0}return!1}function Xi(){return yb(dt(),Lh())}function hn(e,t=""){let r=dt(),n=fn(),a=e+Nn,s=n.firstCreatePass?Yl(n,a,1,t,null):n.data[a],u=lw(n,r,s,t,e);r[a]=u,Dl()&&$l(n,r,u,s),ji(s,!1)}var lw=(e,t,r,n,a)=>(Cl(!0),P_(t[kt],n));function E0(e,t,r,n){return fw(dt(),uy(),e,t,r,n)}function cw(e,t){let r=e[t];return r===Gi?void 0:r}function fw(e,t,r,n,a,s){let u=t+r;return qa(e,u,a)?Ab(e,u+1,s?n.call(s,a):n(a)):cw(e,u+1)}var cl=class{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}},x0=(()=>{class e{compileModuleSync(r){return new al(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let n=this.compileModuleSync(r),a=gh(r),s=Fp(a.declarations).reduce((u,c)=>{let m=Wr(c);return m&&u.push(new Li(m)),u},[]);return new cl(n,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var dw=(()=>{class e{zone=Le(mt);changeDetectionScheduler=Le(ki);applicationRef=Le(tr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hw=new Ve("",{factory:()=>!1});function D0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new mt(ft(Ue({},S0()),{scheduleInRootZone:r})),[{provide:mt,useFactory:e},{provide:$r,multi:!0,useFactory:()=>{let n=Le(dw,{optional:!0});return()=>n.initialize()}},{provide:$r,multi:!0,useFactory:()=>{let n=Le(pw);return()=>{n.initialize()}}},t===!0?{provide:ap,useValue:!0}:[],{provide:sp,useValue:r??op}]}function C0(e){let t=e?.ignoreChangesOutsideZone,r=e?.scheduleInRootZone,n=D0({ngZoneFactory:()=>{let a=S0(e);return a.scheduleInRootZone=r,a.shouldCoalesceEventChangeDetection&&kl("NgZone_CoalesceEvent"),new mt(a)},ignoreChangesOutsideZone:t,scheduleInRootZone:r});return Oa([{provide:hw,useValue:!0},{provide:ja,useValue:!1},n])}function S0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var pw=(()=>{class e{subscription=new _t;initialized=!1;zone=Le(mt);pendingTasks=Le(ii);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{mt.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{mt.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var gw=(()=>{class e{appRef=Le(tr);taskService=Le(ii);ngZone=Le(mt);zonelessEnabled=Le(ja);tracing=Le(Ua,{optional:!0});disableScheduling=Le(ap,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _t;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Le(sp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ou||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;let n=!1;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,n=!0;break}case 12:{this.appRef.dirtyFlags|=16,n=!0;break}case 13:{this.appRef.dirtyFlags|=2,n=!0;break}case 11:{n=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(n))return;let a=this.useMicrotaskScheduler?Dd:up;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>a(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(n){throw this.taskService.remove(r),n}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Dd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mw(){return typeof $localize<"u"&&$localize.locale||Ia}var nc=new Ve("",{providedIn:"root",factory:()=>Le(nc,qe.Optional|qe.SkipSelf)||mw()});var fl=new Ve(""),vw=new Ve("");function Ii(e){return!e.moduleRef}function yw(e){let t=Ii(e)?e.r3Injector:e.moduleRef.injector,r=t.get(mt);return r.run(()=>{Ii(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let n=t.get(kn,null),a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:s=>{n.handleError(s)}})}),Ii(e)){let s=()=>t.destroy(),u=e.platformInjector.get(fl);u.add(s),t.onDestroy(()=>{a.unsubscribe(),u.delete(s)})}else{let s=()=>e.moduleRef.destroy(),u=e.platformInjector.get(fl);u.add(s),e.moduleRef.onDestroy(()=>{ia(e.allPlatformModules,e.moduleRef),a.unsubscribe(),u.delete(s)})}return bw(n,r,()=>{let s=t.get(w0);return s.runInitializers(),s.donePromise.then(()=>{let u=t.get(nc,Ia);if(ow(u||Ia),!t.get(vw,!0))return Ii(e)?t.get(tr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ii(e)){let m=t.get(tr);return e.rootComponent!==void 0&&m.bootstrap(e.rootComponent),m}else return _w(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function _w(e,t){let r=e.injector.get(tr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(n=>r.bootstrap(n));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(r);else throw new He(-403,!1);t.push(e)}function bw(e,t,r){try{let n=r();return Zi(n)?n.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}var oa=null;function ww(e=[],t){return On.create({name:t,providers:[{provide:ka,useValue:"platform"},{provide:fl,useValue:new Set([()=>oa=null])},...e]})}function Ew(e=[]){if(oa)return oa;let t=ww(e);return oa=t,Fb(),xw(t),t}function xw(e){let t=e.get(Nl,null);ln(e,()=>{t?.forEach(r=>r())})}var rc=(()=>{class e{static __NG_ELEMENT_ID__=Dw}return e})();function Dw(e){return Cw(En(),dt(),(e&16)===16)}function Cw(e,t,r){if(ei(e)&&!r){let n=_n(e.index,t);return new Pi(n,n)}else if(e.type&175){let n=t[vn];return new Pi(n,t)}return null}function I0(e){ut(8);try{let{rootComponent:t,appProviders:r,platformProviders:n}=e,a=Ew(n),s=[D0({}),{provide:ki,useExisting:gw},...r||[]],u=new Ca({providers:s,parent:a,debugName:"",runEnvironmentInitializers:!1});return yw({r3Injector:u.injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ut(9)}}var Kd=class{[Sr];constructor(t){this[Sr]=t}destroy(){this[Sr].destroy()}};var Rt=new Ve("");var A0=null;function Gn(){return A0}function ic(e){A0??=e}var Ki=class{},oc=(()=>{class e{historyGo(r){throw new Error("")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:()=>Le(R0),providedIn:"platform"})}return e})();var R0=(()=>{class e extends oc{_location;_history;_doc=Le(Rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gn().getBaseHref(this._doc)}onPopState(r){let n=Gn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",r,!1),()=>n.removeEventListener("popstate",r)}onHashChange(r){let n=Gn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",r,!1),()=>n.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,n,a){this._history.pushState(r,n,a)}replaceState(r,n,a){this._history.replaceState(r,n,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function N0(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function M0(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function ir(e){return e&&e[0]!=="?"?`?${e}`:e}var Qa=(()=>{class e{historyGo(r){throw new Error("")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:()=>Le(k0),providedIn:"root"})}return e})(),O0=new Ve(""),k0=(()=>{class e extends Qa{_platformLocation;_baseHref;_removeListenerFns=[];constructor(r,n){super(),this._platformLocation=r,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??Le(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return N0(this._baseHref,r)}path(r=!1){let n=this._platformLocation.pathname+ir(this._platformLocation.search),a=this._platformLocation.hash;return a&&r?`${n}${a}`:n}pushState(r,n,a,s){let u=this.prepareExternalUrl(a+ir(s));this._platformLocation.pushState(r,n,u)}replaceState(r,n,a,s){let u=this.prepareExternalUrl(a+ir(s));this._platformLocation.replaceState(r,n,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static \u0275fac=function(n){return new(n||e)(Ye(oc),Ye(O0,8))};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),si=(()=>{class e{_subject=new Dt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(r){this._locationStrategy=r;let n=this._locationStrategy.getBaseHref();this._basePath=Mw(M0(T0(n))),this._locationStrategy.onPopState(a=>{this._subject.next({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,n=""){return this.path()==this.normalize(r+ir(n))}normalize(r){return e.stripTrailingSlash(Iw(this._basePath,T0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,n="",a=null){this._locationStrategy.pushState(a,"",r,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ir(n)),a)}replaceState(r,n="",a=null){this._locationStrategy.replaceState(a,"",r,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ir(n)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",n){this._urlChangeListeners.forEach(a=>a(r,n))}subscribe(r,n,a){return this._subject.subscribe({next:r,error:n??void 0,complete:a??void 0})}static normalizeQueryParams=ir;static joinWithSlash=N0;static stripTrailingSlash=M0;static \u0275fac=function(n){return new(n||e)(Ye(Qa))};static \u0275prov=Ge({token:e,factory:()=>Sw(),providedIn:"root"})}return e})();function Sw(){return new si(Ye(Qa))}function Iw(e,t){if(!e||!t.startsWith(e))return t;let r=t.substring(e.length);return r===""||["/",";","?","#"].includes(r[0])?r:t}function T0(e){return e.replace(/\/index.html$/,"")}function Mw(e){if(new RegExp("^(https?:)?//").test(e)){let[,r]=e.split(/\/\/[^\/]+/);return r}return e}var ac=/\s+/,P0=[],sc=(()=>{class e{_ngEl;_renderer;initialClasses=P0;rawClass;stateMap=new Map;constructor(r,n){this._ngEl=r,this._renderer=n}set klass(r){this.initialClasses=r!=null?r.trim().split(ac):P0}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(ac):r}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let n of r)this._updateState(n,!0);else if(r!=null)for(let n of Object.keys(r))this._updateState(n,!!r[n]);this._applyStateDiff()}_updateState(r,n){let a=this.stateMap.get(r);a!==void 0?(a.enabled!==n&&(a.changed=!0,a.enabled=n),a.touched=!0):this.stateMap.set(r,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let n=r[0],a=r[1];a.changed?(this._toggleClass(n,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),a.touched=!1}}_toggleClass(r,n){r=r.trim(),r.length>0&&r.split(ac).forEach(a=>{n?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}static \u0275fac=function(n){return new(n||e)(zn(ai),zn(l0))};static \u0275dir=$i({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var uc=(()=>{class e{_viewContainer;_context=new Xa;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(r,n){this._viewContainer=r,this._thenTemplateRef=n}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){L0(r,!1),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){L0(r,!1),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(r,n){return!0}static \u0275fac=function(n){return new(n||e)(zn(wr),zn(Yr))};static \u0275dir=$i({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Xa=class{$implicit=null;ngIf=null};function L0(e,t){if(e&&!e.createEmbeddedView)throw new He(2020,!1)}var Ka=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Za({type:e});static \u0275inj=Ta({})}return e})();function lc(e,t){t=encodeURIComponent(t);for(let r of e.split(";")){let n=r.indexOf("="),[a,s]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(a.trim()===t)return decodeURIComponent(s)}return null}var cc="browser",F0="server";function Ja(e){return e===F0}var Ji=class{};var ns=new Ve(""),pc=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(r,n){this._zone=n,r.forEach(a=>{a.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,n,a,s){return this._findPluginFor(n).addEventListener(r,n,a,s)}getZone(){return this._zone}_findPluginFor(r){let n=this._eventNameToPlugin.get(r);if(n)return n;if(n=this._plugins.find(s=>s.supports(r)),!n)throw new He(5101,!1);return this._eventNameToPlugin.set(r,n),n}static \u0275fac=function(n){return new(n||e)(Ye(ns),Ye(mt))};static \u0275prov=Ge({token:e,factory:e.\u0275fac})}return e})(),eo=class{_doc;constructor(t){this._doc=t}manager},es="ng-app-id";function B0(e){for(let t of e)t.remove()}function j0(e,t){let r=t.createElement("style");return r.textContent=e,r}function Rw(e,t,r,n){let a=e.head?.querySelectorAll(`style[${es}="${t}"],link[${es}="${t}"]`);if(a)for(let s of a)s.removeAttribute(es),s instanceof HTMLLinkElement?n.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&r.set(s.textContent,{usage:0,elements:[s]})}function dc(e,t){let r=t.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("href",e),r}var gc=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(r,n,a,s={}){this.doc=r,this.appId=n,this.nonce=a,this.isServer=Ja(s),Rw(r,n,this.inline,this.external),this.hosts.add(r.head)}addStyles(r,n){for(let a of r)this.addUsage(a,this.inline,j0);n?.forEach(a=>this.addUsage(a,this.external,dc))}removeStyles(r,n){for(let a of r)this.removeUsage(a,this.inline);n?.forEach(a=>this.removeUsage(a,this.external))}addUsage(r,n,a){let s=n.get(r);s?s.usage++:n.set(r,{usage:1,elements:[...this.hosts].map(u=>this.addElement(u,a(r,this.doc)))})}removeUsage(r,n){let a=n.get(r);a&&(a.usage--,a.usage<=0&&(B0(a.elements),n.delete(r)))}ngOnDestroy(){for(let[,{elements:r}]of[...this.inline,...this.external])B0(r);this.hosts.clear()}addHost(r){this.hosts.add(r);for(let[n,{elements:a}]of this.inline)a.push(this.addElement(r,j0(n,this.doc)));for(let[n,{elements:a}]of this.external)a.push(this.addElement(r,dc(n,this.doc)))}removeHost(r){this.hosts.delete(r)}addElement(r,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(es,this.appId),r.appendChild(n)}static \u0275fac=function(n){return new(n||e)(Ye(Rt),Ye(Rl),Ye(Ol,8),Ye(zi))};static \u0275prov=Ge({token:e,factory:e.\u0275fac})}return e})(),fc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mc=/%COMP%/g;var H0="%COMP%",Nw=`_nghost-${H0}`,Ow=`_ngcontent-${H0}`,kw=!0,Pw=new Ve("",{providedIn:"root",factory:()=>kw});function Lw(e){return Ow.replace(mc,e)}function Fw(e){return Nw.replace(mc,e)}function z0(e,t){return t.map(r=>r.replace(mc,e))}var vc=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(r,n,a,s,u,c,m,_=null,f=null){this.eventManager=r,this.sharedStylesHost=n,this.appId=a,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=c,this.ngZone=m,this.nonce=_,this.tracingService=f,this.platformIsServer=Ja(c),this.defaultRenderer=new to(r,u,m,this.platformIsServer,this.tracingService)}createRenderer(r,n){if(!r||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===bn.ShadowDom&&(n=ft(Ue({},n),{encapsulation:bn.Emulated}));let a=this.getOrCreateRenderer(r,n);return a instanceof ts?a.applyToHost(r):a instanceof no&&a.applyStyles(),a}getOrCreateRenderer(r,n){let a=this.rendererByCompId,s=a.get(n.id);if(!s){let u=this.doc,c=this.ngZone,m=this.eventManager,_=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer,l=this.tracingService;switch(n.encapsulation){case bn.Emulated:s=new ts(m,_,n,this.appId,f,u,c,h,l);break;case bn.ShadowDom:return new hc(m,_,r,n,u,c,this.nonce,h,l);default:s=new no(m,_,n,f,u,c,h,l);break}a.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(r){this.rendererByCompId.delete(r)}static \u0275fac=function(n){return new(n||e)(Ye(pc),Ye(gc),Ye(Rl),Ye(Pw),Ye(Rt),Ye(zi),Ye(mt),Ye(Ol),Ye(Ua,8))};static \u0275prov=Ge({token:e,factory:e.\u0275fac})}return e})(),to=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,r,n,a,s){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=a,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,r){return r?this.doc.createElementNS(fc[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(U0(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(U0(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){r.remove()}selectRootElement(t,r){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new He(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,a){if(a){r=a+":"+r;let s=fc[a];s?t.setAttributeNS(s,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){let a=fc[n];a?t.removeAttributeNS(a,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,a){a&(Ln.DashCase|Ln.Important)?t.style.setProperty(r,n,a&Ln.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&Ln.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){t!=null&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n,a){if(typeof t=="string"&&(t=Gn().getGlobalEventTarget(this.doc,t),!t))throw new He(5102,!1);let s=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,r,s)),this.eventManager.addEventListener(t,r,s,a)}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function U0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var hc=class extends to{sharedStylesHost;hostEl;shadowRoot;constructor(t,r,n,a,s,u,c,m,_){super(t,s,u,m,_),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=a.styles;f=z0(a.id,f);for(let l of f){let o=document.createElement("style");c&&o.setAttribute("nonce",c),o.textContent=l,this.shadowRoot.appendChild(o)}let h=a.getExternalStyles?.();if(h)for(let l of h){let o=dc(l,s);c&&o.setAttribute("nonce",c),this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(null,r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},no=class extends to{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,r,n,a,s,u,c,m,_){super(t,s,u,c,m),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=a;let f=n.styles;this.styles=_?z0(_,f):f,this.styleUrls=n.getExternalStyles?.(_)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ts=class extends no{contentAttr;hostAttr;constructor(t,r,n,a,s,u,c,m,_){let f=a+"-"+n.id;super(t,r,n,s,u,c,m,_,f),this.contentAttr=Lw(f),this.hostAttr=Fw(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}};var rs=class e extends Ki{supportsDOMEvents=!0;static makeCurrent(){ic(new e)}onAndCancel(t,r,n,a){return t.addEventListener(r,n,a),()=>{t.removeEventListener(r,n,a)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.remove()}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=Bw();return r==null?null:jw(r)}resetBaseElement(){ro=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return lc(document.cookie,t)}},ro=null;function Bw(){return ro=ro||document.head.querySelector("base"),ro?ro.getAttribute("href"):null}function jw(e){return new URL(e,document.baseURI).pathname}var Uw=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac})}return e})(),G0=(()=>{class e extends eo{constructor(r){super(r)}supports(r){return!0}addEventListener(r,n,a,s){return r.addEventListener(n,a,s),()=>this.removeEventListener(r,n,a,s)}removeEventListener(r,n,a,s){return r.removeEventListener(n,a,s)}static \u0275fac=function(n){return new(n||e)(Ye(Rt))};static \u0275prov=Ge({token:e,factory:e.\u0275fac})}return e})(),V0=["alt","control","meta","shift"],Hw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zw={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},$0=(()=>{class e extends eo{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,n,a,s){let u=e.parseEventName(n),c=e.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gn().onAndCancel(r,u.domEventName,c,s))}static parseEventName(r){let n=r.toLowerCase().split("."),a=n.shift();if(n.length===0||!(a==="keydown"||a==="keyup"))return null;let s=e._normalizeKey(n.pop()),u="",c=n.indexOf("code");if(c>-1&&(n.splice(c,1),u="code."),V0.forEach(_=>{let f=n.indexOf(_);f>-1&&(n.splice(f,1),u+=_+".")}),u+=s,n.length!=0||s.length===0)return null;let m={};return m.domEventName=a,m.fullKey=u,m}static matchEventFullKeyCode(r,n){let a=Hw[r.key]||r.key,s="";return n.indexOf("code.")>-1&&(a=r.code,s="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),V0.forEach(u=>{if(u!==a){let c=zw[u];c(r)&&(s+=u+".")}}),s+=a,s===n)}static eventCallback(r,n,a){return s=>{e.matchEventFullKeyCode(s,r)&&a.runGuarded(()=>n(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}static \u0275fac=function(n){return new(n||e)(Ye(Rt))};static \u0275prov=Ge({token:e,factory:e.\u0275fac})}return e})();function yc(e,t){return I0(Ue({rootComponent:e},Vw(t)))}function Vw(e){return{appProviders:[...qw,...e?.providers??[]],platformProviders:Zw}}function Gw(){rs.makeCurrent()}function $w(){return new kn}function Ww(){return vp(document),document}var Zw=[{provide:zi,useValue:cc},{provide:Nl,useValue:Gw,multi:!0},{provide:Rt,useFactory:Ww}];var qw=[{provide:ka,useValue:"root"},{provide:kn,useFactory:$w},{provide:ns,useClass:G0,multi:!0,deps:[Rt]},{provide:ns,useClass:$0,multi:!0,deps:[Rt]},vc,gc,pc,{provide:Qr,useExisting:vc},{provide:Ji,useClass:Uw},[]];var W0=(()=>{class e{_doc;constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static \u0275fac=function(n){return new(n||e)(Ye(Rt))};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var _c=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:function(n){let a=null;return n?a=new(n||e):a=Ye(Yw),a},providedIn:"root"})}return e})(),Yw=(()=>{class e extends _c{_doc;constructor(r){super(),this._doc=r}sanitize(r,n){if(n==null)return null;switch(r){case xn.NONE:return n;case xn.HTML:return nr(n,"HTML")?jn(n):Pl(this._doc,String(n)).toString();case xn.STYLE:return nr(n,"Style")?jn(n):n;case xn.SCRIPT:if(nr(n,"Script"))return jn(n);throw new He(5200,!1);case xn.URL:return nr(n,"URL")?jn(n):za(String(n));case xn.RESOURCE_URL:if(nr(n,"ResourceURL"))return jn(n);throw new He(5201,!1);default:throw new He(5202,!1)}}bypassSecurityTrustHtml(r){return Dp(r)}bypassSecurityTrustStyle(r){return Cp(r)}bypassSecurityTrustScript(r){return Sp(r)}bypassSecurityTrustUrl(r){return Ip(r)}bypassSecurityTrustResourceUrl(r){return Mp(r)}static \u0275fac=function(n){return new(n||e)(Ye(Rt))};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Qe="primary",mo=Symbol("RouteTitle"),Dc=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function hi(e){return new Dc(e)}function Qw(e,t,r){let n=r.path.split("/");if(n.length>e.length||r.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let a={};for(let s=0;s<n.length;s++){let u=n[s],c=e[s];if(u[0]===":")a[u.substring(1)]=c;else if(u!==c.path)return null}return{consumed:e.slice(0,n.length),posParams:a}}function Xw(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Dn(e[r],t[r]))return!1;return!0}function Dn(e,t){let r=e?Cc(e):void 0,n=t?Cc(t):void 0;if(!r||!n||r.length!=n.length)return!1;let a;for(let s=0;s<r.length;s++)if(a=r[s],!tg(e[a],t[a]))return!1;return!0}function Cc(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function tg(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let r=[...e].sort(),n=[...t].sort();return r.every((a,s)=>n[s]===a)}else return e===t}function ng(e){return e.length>0?e[e.length-1]:null}function sr(e){return nu(e)?e:Zi(e)?bt(Promise.resolve(e)):We(e)}var Kw={exact:ig,subset:og},rg={exact:Jw,subset:eE,ignored:()=>!0};function q0(e,t,r){return Kw[r.paths](e.root,t.root,r.matrixParams)&&rg[r.queryParams](e.queryParams,t.queryParams)&&!(r.fragment==="exact"&&e.fragment!==t.fragment)}function Jw(e,t){return Dn(e,t)}function ig(e,t,r){if(!Dr(e.segments,t.segments)||!as(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!ig(e.children[n],t.children[n],r))return!1;return!0}function eE(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>tg(e[r],t[r]))}function og(e,t,r){return ag(e,t,t.segments,r)}function ag(e,t,r,n){if(e.segments.length>r.length){let a=e.segments.slice(0,r.length);return!(!Dr(a,r)||t.hasChildren()||!as(a,r,n))}else if(e.segments.length===r.length){if(!Dr(e.segments,r)||!as(e.segments,r,n))return!1;for(let a in t.children)if(!e.children[a]||!og(e.children[a],t.children[a],n))return!1;return!0}else{let a=r.slice(0,e.segments.length),s=r.slice(e.segments.length);return!Dr(e.segments,a)||!as(e.segments,a,n)||!e.children[Qe]?!1:ag(e.children[Qe],t,s,n)}}function as(e,t,r){return t.every((n,a)=>rg[r](e[a].parameters,n.parameters))}var Wn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ot([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=hi(this.queryParams),this._queryParamMap}toString(){return rE.serialize(this)}},ot=class{segments;children;parent=null;constructor(t,r){this.segments=t,this.children=r,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ss(this)}},xr=class{path;parameters;_parameterMap;constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=hi(this.parameters),this._parameterMap}toString(){return ug(this)}};function tE(e,t){return Dr(e,t)&&e.every((r,n)=>Dn(r.parameters,t[n].parameters))}function Dr(e,t){return e.length!==t.length?!1:e.every((r,n)=>r.path===t[n].path)}function nE(e,t){let r=[];return Object.entries(e.children).forEach(([n,a])=>{n===Qe&&(r=r.concat(t(a,n)))}),Object.entries(e.children).forEach(([n,a])=>{n!==Qe&&(r=r.concat(t(a,n)))}),r}var bs=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:()=>new pi,providedIn:"root"})}return e})(),pi=class{parse(t){let r=new Ic(t);return new Wn(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){let r=`/${io(t.root,!0)}`,n=aE(t.queryParams),a=typeof t.fragment=="string"?`#${iE(t.fragment)}`:"";return`${r}${n}${a}`}},rE=new pi;function ss(e){return e.segments.map(t=>ug(t)).join("/")}function io(e,t){if(!e.hasChildren())return ss(e);if(t){let r=e.children[Qe]?io(e.children[Qe],!1):"",n=[];return Object.entries(e.children).forEach(([a,s])=>{a!==Qe&&n.push(`${a}:${io(s,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=nE(e,(n,a)=>a===Qe?[io(e.children[Qe],!1)]:[`${a}:${io(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[Qe]!=null?`${ss(e)}/${r[0]}`:`${ss(e)}/(${r.join("//")})`}}function sg(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function is(e){return sg(e).replace(/%3B/gi,";")}function iE(e){return encodeURI(e)}function Sc(e){return sg(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function us(e){return decodeURIComponent(e)}function Y0(e){return us(e.replace(/\+/g,"%20"))}function ug(e){return`${Sc(e.path)}${oE(e.parameters)}`}function oE(e){return Object.entries(e).map(([t,r])=>`;${Sc(t)}=${Sc(r)}`).join("")}function aE(e){let t=Object.entries(e).map(([r,n])=>Array.isArray(n)?n.map(a=>`${is(r)}=${is(a)}`).join("&"):`${is(r)}=${is(n)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}var sE=/^[^\/()?;#]+/;function bc(e){let t=e.match(sE);return t?t[0]:""}var uE=/^[^\/()?;=#]+/;function lE(e){let t=e.match(uE);return t?t[0]:""}var cE=/^[^=?&#]+/;function fE(e){let t=e.match(cE);return t?t[0]:""}var dE=/^[^&#]+/;function hE(e){let t=e.match(dE);return t?t[0]:""}var Ic=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ot([],{}):new ot([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[Qe]=new ot(t,r)),n}parseSegment(){let t=bc(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new He(4009,!1);return this.capture(t),new xr(us(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let r=lE(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let a=bc(this.remaining);a&&(n=a,this.capture(n))}t[us(r)]=us(n)}parseQueryParam(t){let r=fE(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let u=hE(this.remaining);u&&(n=u,this.capture(n))}let a=Y0(r),s=Y0(n);if(t.hasOwnProperty(a)){let u=t[a];Array.isArray(u)||(u=[u],t[a]=u),u.push(s)}else t[a]=s}parseParens(t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=bc(this.remaining),a=this.remaining[n.length];if(a!=="/"&&a!==")"&&a!==";")throw new He(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Qe);let u=this.parseChildren();r[s]=Object.keys(u).length===1?u[Qe]:new ot([],u),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new He(4011,!1)}};function lg(e){return e.segments.length>0?new ot([],{[Qe]:e}):e}function cg(e){let t={};for(let[n,a]of Object.entries(e.children)){let s=cg(a);if(n===Qe&&s.segments.length===0&&s.hasChildren())for(let[u,c]of Object.entries(s.children))t[u]=c;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}let r=new ot(e.segments,t);return pE(r)}function pE(e){if(e.numberOfChildren===1&&e.children[Qe]){let t=e.children[Qe];return new ot(e.segments.concat(t.segments),t.children)}return e}function gi(e){return e instanceof Wn}function gE(e,t,r=null,n=null){let a=fg(e);return dg(a,t,r,n)}function fg(e){let t;function r(s){let u={};for(let m of s.children){let _=r(m);u[m.outlet]=_}let c=new ot(s.url,u);return s===e&&(t=c),c}let n=r(e.root),a=lg(n);return t??a}function dg(e,t,r,n){let a=e;for(;a.parent;)a=a.parent;if(t.length===0)return wc(a,a,a,r,n);let s=mE(t);if(s.toRoot())return wc(a,a,new ot([],{}),r,n);let u=vE(s,a,e),c=u.processChildren?ao(u.segmentGroup,u.index,s.commands):pg(u.segmentGroup,u.index,s.commands);return wc(a,u.segmentGroup,c,r,n)}function cs(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function uo(e){return typeof e=="object"&&e!=null&&e.outlets}function wc(e,t,r,n,a){let s={};n&&Object.entries(n).forEach(([m,_])=>{s[m]=Array.isArray(_)?_.map(f=>`${f}`):`${_}`});let u;e===t?u=r:u=hg(e,t,r);let c=lg(cg(u));return new Wn(c,s,a)}function hg(e,t,r){let n={};return Object.entries(e.children).forEach(([a,s])=>{s===t?n[a]=r:n[a]=hg(s,t,r)}),new ot(e.segments,n)}var fs=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&cs(n[0]))throw new He(4003,!1);let a=n.find(uo);if(a&&a!==ng(n))throw new He(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mE(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new fs(!0,0,e);let t=0,r=!1,n=e.reduce((a,s,u)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([m,_])=>{c[m]=typeof _=="string"?_.split("/"):_}),[...a,{outlets:c}]}if(s.segmentPath)return[...a,s.segmentPath]}return typeof s!="string"?[...a,s]:u===0?(s.split("/").forEach((c,m)=>{m==0&&c==="."||(m==0&&c===""?r=!0:c===".."?t++:c!=""&&a.push(c))}),a):[...a,s]},[]);return new fs(r,t,n)}var ci=class{segmentGroup;processChildren;index;constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}};function vE(e,t,r){if(e.isAbsolute)return new ci(t,!0,0);if(!r)return new ci(t,!1,NaN);if(r.parent===null)return new ci(r,!0,0);let n=cs(e.commands[0])?0:1,a=r.segments.length-1+n;return yE(r,a,e.numberOfDoubleDots)}function yE(e,t,r){let n=e,a=t,s=r;for(;s>a;){if(s-=a,n=n.parent,!n)throw new He(4005,!1);a=n.segments.length}return new ci(n,!1,a-s)}function _E(e){return uo(e[0])?e[0].outlets:{[Qe]:e}}function pg(e,t,r){if(e??=new ot([],{}),e.segments.length===0&&e.hasChildren())return ao(e,t,r);let n=bE(e,t,r),a=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let s=new ot(e.segments.slice(0,n.pathIndex),{});return s.children[Qe]=new ot(e.segments.slice(n.pathIndex),e.children),ao(s,0,a)}else return n.match&&a.length===0?new ot(e.segments,{}):n.match&&!e.hasChildren()?Mc(e,t,r):n.match?ao(e,0,a):Mc(e,t,r)}function ao(e,t,r){if(r.length===0)return new ot(e.segments,{});{let n=_E(r),a={};if(Object.keys(n).some(s=>s!==Qe)&&e.children[Qe]&&e.numberOfChildren===1&&e.children[Qe].segments.length===0){let s=ao(e.children[Qe],t,r);return new ot(e.segments,s.children)}return Object.entries(n).forEach(([s,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(a[s]=pg(e.children[s],t,u))}),Object.entries(e.children).forEach(([s,u])=>{n[s]===void 0&&(a[s]=u)}),new ot(e.segments,a)}}function bE(e,t,r){let n=0,a=t,s={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(n>=r.length)return s;let u=e.segments[a],c=r[n];if(uo(c))break;let m=`${c}`,_=n<r.length-1?r[n+1]:null;if(a>0&&m===void 0)break;if(m&&_&&typeof _=="object"&&_.outlets===void 0){if(!X0(m,_,u))return s;n+=2}else{if(!X0(m,{},u))return s;n++}a++}return{match:!0,pathIndex:a,commandIndex:n}}function Mc(e,t,r){let n=e.segments.slice(0,t),a=0;for(;a<r.length;){let s=r[a];if(uo(s)){let m=wE(s.outlets);return new ot(n,m)}if(a===0&&cs(r[0])){let m=e.segments[t];n.push(new xr(m.path,Q0(r[0]))),a++;continue}let u=uo(s)?s.outlets[Qe]:`${s}`,c=a<r.length-1?r[a+1]:null;u&&c&&cs(c)?(n.push(new xr(u,Q0(c))),a+=2):(n.push(new xr(u,{})),a++)}return new ot(n,{})}function wE(e){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[r]=Mc(new ot([],{}),0,n))}),t}function Q0(e){let t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function X0(e,t,r){return e==r.path&&Dn(t,r.parameters)}var ls="imperative",Nt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Nt||{}),en=class{id;url;constructor(t,r){this.id=t,this.url=r}},mi=class extends en{type=Nt.NavigationStart;navigationTrigger;restoredState;constructor(t,r,n="imperative",a=null){super(t,r),this.navigationTrigger=n,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},or=class extends en{urlAfterRedirects;type=Nt.NavigationEnd;constructor(t,r,n){super(t,r),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$t=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}($t||{}),ds=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ds||{}),$n=class extends en{reason;code;type=Nt.NavigationCancel;constructor(t,r,n,a){super(t,r),this.reason=n,this.code=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ar=class extends en{reason;code;type=Nt.NavigationSkipped;constructor(t,r,n,a){super(t,r),this.reason=n,this.code=a}},lo=class extends en{error;target;type=Nt.NavigationError;constructor(t,r,n,a){super(t,r),this.error=n,this.target=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hs=class extends en{urlAfterRedirects;state;type=Nt.RoutesRecognized;constructor(t,r,n,a){super(t,r),this.urlAfterRedirects=n,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tc=class extends en{urlAfterRedirects;state;type=Nt.GuardsCheckStart;constructor(t,r,n,a){super(t,r),this.urlAfterRedirects=n,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ac=class extends en{urlAfterRedirects;state;shouldActivate;type=Nt.GuardsCheckEnd;constructor(t,r,n,a,s){super(t,r),this.urlAfterRedirects=n,this.state=a,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rc=class extends en{urlAfterRedirects;state;type=Nt.ResolveStart;constructor(t,r,n,a){super(t,r),this.urlAfterRedirects=n,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nc=class extends en{urlAfterRedirects;state;type=Nt.ResolveEnd;constructor(t,r,n,a){super(t,r),this.urlAfterRedirects=n,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oc=class{route;type=Nt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kc=class{route;type=Nt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pc=class{snapshot;type=Nt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lc=class{snapshot;type=Nt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fc=class{snapshot;type=Nt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bc=class{snapshot;type=Nt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var co=class{},vi=class{url;navigationBehaviorOptions;constructor(t,r){this.url=t,this.navigationBehaviorOptions=r}};function EE(e,t){return e.providers&&!e._injector&&(e._injector=Wa(e.providers,t,`Route: ${e.path}`)),e._injector??t}function pn(e){return e.outlet||Qe}function xE(e,t){let r=e.filter(n=>pn(n)===t);return r.push(...e.filter(n=>pn(n)!==t)),r}function vo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var jc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return vo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new yo(this.rootInjector)}},yo=(()=>{class e{rootInjector;contexts=new Map;constructor(r){this.rootInjector=r}onChildOutletCreated(r,n){let a=this.getOrCreateContext(r);a.outlet=n,this.contexts.set(r,a)}onChildOutletDestroyed(r){let n=this.getContext(r);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let n=this.getContext(r);return n||(n=new jc(this.rootInjector),this.contexts.set(r,n)),n}getContext(r){return this.contexts.get(r)||null}static \u0275fac=function(n){return new(n||e)(Ye(Kt))};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ps=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){let r=Uc(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){let r=Uc(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){let r=Hc(t,this._root);return r.length<2?[]:r[r.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Hc(t,this._root).map(r=>r.value)}};function Uc(e,t){if(e===t.value)return t;for(let r of t.children){let n=Uc(e,r);if(n)return n}return null}function Hc(e,t){if(e===t.value)return[t];for(let r of t.children){let n=Hc(e,r);if(n.length)return n.unshift(t),n}return[]}var Gt=class{value;children;constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}};function li(e){let t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}var gs=class extends ps{snapshot;constructor(t,r){super(t),this.snapshot=r,Qc(this,t)}toString(){return this.snapshot.toString()}};function gg(e){let t=DE(e),r=new Mt([new xr("",{})]),n=new Mt({}),a=new Mt({}),s=new Mt({}),u=new Mt(""),c=new Cr(r,n,s,u,a,Qe,e,t.root);return c.snapshot=t.root,new gs(new Gt(c,[]),t)}function DE(e){let t={},r={},n={},a="",s=new fi([],t,n,a,r,Qe,e,null,{});return new vs("",new Gt(s,[]))}var Cr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,r,n,a,s,u,c,m){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=a,this.dataSubject=s,this.outlet=u,this.component=c,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(rt(_=>_[mo]))??We(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=a,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(rt(t=>hi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(rt(t=>hi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ms(e,t,r="emptyOnly"){let n,{routeConfig:a}=e;return t!==null&&(r==="always"||a?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:Ue(Ue({},t.params),e.params),data:Ue(Ue({},t.data),e.data),resolve:Ue(Ue(Ue(Ue({},e.data),t.data),a?.data),e._resolvedData)}:n={params:Ue({},e.params),data:Ue({},e.data),resolve:Ue(Ue({},e.data),e._resolvedData??{})},a&&vg(a)&&(n.resolve[mo]=a.title),n}var fi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[mo]}constructor(t,r,n,a,s,u,c,m,_){this.url=t,this.params=r,this.queryParams=n,this.fragment=a,this.data=s,this.outlet=u,this.component=c,this.routeConfig=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${r}')`}},vs=class extends ps{url;constructor(t,r){super(r),this.url=t,Qc(this,r)}toString(){return mg(this._root)}};function Qc(e,t){t.value._routerState=e,t.children.forEach(r=>Qc(e,r))}function mg(e){let t=e.children.length>0?` { ${e.children.map(mg).join(", ")} } `:"";return`${e.value}${t}`}function Ec(e){if(e.snapshot){let t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Dn(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Dn(t.params,r.params)||e.paramsSubject.next(r.params),Xw(t.url,r.url)||e.urlSubject.next(r.url),Dn(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function zc(e,t){let r=Dn(e.params,t.params)&&tE(e.url,t.url),n=!e.parent!=!t.parent;return r&&!n&&(!e.parent||zc(e.parent,t.parent))}function vg(e){return typeof e.title=="string"||e.title===null}var CE=new Ve(""),yg=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Qe;activateEvents=new Bt;deactivateEvents=new Bt;attachEvents=new Bt;detachEvents=new Bt;routerOutletData=cp(void 0);parentContexts=Le(yo);location=Le(wr);changeDetector=Le(rc);inputBinder=Le(ws,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(r){if(r.name){let{firstChange:n,previousValue:a}=r.name;if(n)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new He(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new He(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new He(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,n){this.activated=r,this._activatedRoute=n,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new He(4013,!1);this._activatedRoute=r;let a=this.location,u=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,m=new Vc(r,c,a.injector,this.routerOutletData);this.activated=a.createComponent(u,{index:a.length,injector:m,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||e)};static \u0275dir=$i({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vl]})}return e})(),Vc=class{route;childContexts;parent;outletData;constructor(t,r,n,a){this.route=t,this.childContexts=r,this.parent=n,this.outletData=a}get(t,r){return t===Cr?this.route:t===yo?this.childContexts:t===CE?this.outletData:this.parent.get(t,r)}},ws=new Ve("");var _g=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=rr({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,a){n&1&&Jt(0,"router-outlet")},dependencies:[yg],encapsulation:2})}return e})();function Xc(e){let t=e.children&&e.children.map(Xc),r=t?ft(Ue({},e),{children:t}):Ue({},e);return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Qe&&(r.component=_g),r}function SE(e,t,r){let n=fo(e,t._root,r?r._root:void 0);return new gs(n,t)}function fo(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=t.value;let a=IE(e,t,r);return new Gt(n,a)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(c=>fo(e,c)),u}}let n=ME(t.value),a=t.children.map(s=>fo(e,s));return new Gt(n,a)}}function IE(e,t,r){return t.children.map(n=>{for(let a of r.children)if(e.shouldReuseRoute(n.value,a.value.snapshot))return fo(e,n,a);return fo(e,n)})}function ME(e){return new Cr(new Mt(e.url),new Mt(e.params),new Mt(e.queryParams),new Mt(e.fragment),new Mt(e.data),e.outlet,e.component,e)}var ho=class{redirectTo;navigationBehaviorOptions;constructor(t,r){this.redirectTo=t,this.navigationBehaviorOptions=r}},bg="ngNavigationCancelingError";function ys(e,t){let{redirectTo:r,navigationBehaviorOptions:n}=gi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=wg(!1,$t.Redirect);return a.url=r,a.navigationBehaviorOptions=n,a}function wg(e,t){let r=new Error(`NavigationCancelingError: ${e||""}`);return r[bg]=!0,r.cancellationCode=t,r}function TE(e){return Eg(e)&&gi(e.url)}function Eg(e){return!!e&&e[bg]}var AE=(e,t,r,n)=>rt(a=>(new Gc(t,a.targetRouterState,a.currentRouterState,r,n).activate(e),a)),Gc=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,r,n,a,s){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=a,this.inputBindingEnabled=s}activate(t){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),Ec(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){let a=li(r);t.children.forEach(s=>{let u=s.value.outlet;this.deactivateRoutes(s,a[u],n),delete a[u]}),Object.values(a).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,r,n){let a=t.value,s=r?r.value:null;if(a===s)if(a.component){let u=n.getContext(a.outlet);u&&this.deactivateChildRoutes(t,r,u.children)}else this.deactivateChildRoutes(t,r,n);else s&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){let n=r.getContext(t.value.outlet),a=n&&t.value.component?n.children:r,s=li(t);for(let u of Object.values(s))this.deactivateRouteAndItsChildren(u,a);if(n&&n.outlet){let u=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:c})}}deactivateRouteAndOutlet(t,r){let n=r.getContext(t.value.outlet),a=n&&t.value.component?n.children:r,s=li(t);for(let u of Object.values(s))this.deactivateRouteAndItsChildren(u,a);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){let a=li(r);t.children.forEach(s=>{this.activateRoutes(s,a[s.value.outlet],n),this.forwardEvent(new Bc(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Lc(t.value.snapshot))}activateRoutes(t,r,n){let a=t.value,s=r?r.value:null;if(Ec(a),a===s)if(a.component){let u=n.getOrCreateContext(a.outlet);this.activateChildRoutes(t,r,u.children)}else this.activateChildRoutes(t,r,n);else if(a.component){let u=n.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let c=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),u.children.onOutletReAttached(c.contexts),u.attachRef=c.componentRef,u.route=c.route.value,u.outlet&&u.outlet.attach(c.componentRef,c.route.value),Ec(c.route.value),this.activateChildRoutes(t,null,u.children)}else u.attachRef=null,u.route=a,u.outlet&&u.outlet.activateWith(a,u.injector),this.activateChildRoutes(t,null,u.children)}else this.activateChildRoutes(t,null,n)}},_s=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},di=class{component;route;constructor(t,r){this.component=t,this.route=r}};function RE(e,t,r){let n=e._root,a=t?t._root:null;return oo(n,a,r,[n.value])}function NE(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function _i(e,t){let r=Symbol(),n=t.get(e,r);return n===r?typeof e=="function"&&!oh(e)?e:t.get(e):n}function oo(e,t,r,n,a={canDeactivateChecks:[],canActivateChecks:[]}){let s=li(t);return e.children.forEach(u=>{OE(u,s[u.value.outlet],r,n.concat([u.value]),a),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,c])=>so(c,r.getContext(u),a)),a}function OE(e,t,r,n,a={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,u=t?t.value:null,c=r?r.getContext(e.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){let m=kE(u,s,s.routeConfig.runGuardsAndResolvers);m?a.canActivateChecks.push(new _s(n)):(s.data=u.data,s._resolvedData=u._resolvedData),s.component?oo(e,t,c?c.children:null,n,a):oo(e,t,r,n,a),m&&c&&c.outlet&&c.outlet.isActivated&&a.canDeactivateChecks.push(new di(c.outlet.component,u))}else u&&so(t,c,a),a.canActivateChecks.push(new _s(n)),s.component?oo(e,null,c?c.children:null,n,a):oo(e,null,r,n,a);return a}function kE(e,t,r){if(typeof r=="function")return r(e,t);switch(r){case"pathParamsChange":return!Dr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Dr(e.url,t.url)||!Dn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zc(e,t)||!Dn(e.queryParams,t.queryParams);case"paramsChange":default:return!zc(e,t)}}function so(e,t,r){let n=li(e),a=e.value;Object.entries(n).forEach(([s,u])=>{a.component?t?so(u,t.children.getContext(s),r):so(u,null,r):so(u,t,r)}),a.component?t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new di(t.outlet.component,a)):r.canDeactivateChecks.push(new di(null,a)):r.canDeactivateChecks.push(new di(null,a))}function _o(e){return typeof e=="function"}function PE(e){return typeof e=="boolean"}function LE(e){return e&&_o(e.canLoad)}function FE(e){return e&&_o(e.canActivate)}function BE(e){return e&&_o(e.canActivateChild)}function jE(e){return e&&_o(e.canDeactivate)}function UE(e){return e&&_o(e.canMatch)}function xg(e){return e instanceof In||e?.name==="EmptyError"}var os=Symbol("INITIAL_VALUE");function yi(){return on(e=>Zo(e.map(t=>t.pipe(Mn(1),ou(os)))).pipe(rt(t=>{for(let r of t)if(r!==!0){if(r===os)return os;if(r===!1||HE(r))return r}return!0}),rn(t=>t!==os),Mn(1)))}function HE(e){return gi(e)||e instanceof ho}function zE(e,t){return Et(r=>{let{targetSnapshot:n,currentSnapshot:a,guards:{canActivateChecks:s,canDeactivateChecks:u}}=r;return u.length===0&&s.length===0?We(ft(Ue({},r),{guardsResult:!0})):VE(u,n,a,e).pipe(Et(c=>c&&PE(c)?GE(n,s,e,t):We(c)),rt(c=>ft(Ue({},r),{guardsResult:c})))})}function VE(e,t,r,n){return bt(e).pipe(Et(a=>YE(a.component,a.route,r,t,n)),Tn(a=>a!==!0,!0))}function GE(e,t,r,n){return bt(t).pipe(Lr(a=>Pr(WE(a.route.parent,n),$E(a.route,n),qE(e,a.path,r),ZE(e,a.route,r))),Tn(a=>a!==!0,!0))}function $E(e,t){return e!==null&&t&&t(new Fc(e)),We(!0)}function WE(e,t){return e!==null&&t&&t(new Pc(e)),We(!0)}function ZE(e,t,r){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return We(!0);let a=n.map(s=>qo(()=>{let u=vo(t)??r,c=_i(s,u),m=FE(c)?c.canActivate(t,e):ln(u,()=>c(t,e));return sr(m).pipe(Tn())}));return We(a).pipe(yi())}function qE(e,t,r){let n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>NE(u)).filter(u=>u!==null).map(u=>qo(()=>{let c=u.guards.map(m=>{let _=vo(u.node)??r,f=_i(m,_),h=BE(f)?f.canActivateChild(n,e):ln(_,()=>f(n,e));return sr(h).pipe(Tn())});return We(c).pipe(yi())}));return We(s).pipe(yi())}function YE(e,t,r,n,a){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return We(!0);let u=s.map(c=>{let m=vo(t)??a,_=_i(c,m),f=jE(_)?_.canDeactivate(e,t,r,n):ln(m,()=>_(e,t,r,n));return sr(f).pipe(Tn())});return We(u).pipe(yi())}function QE(e,t,r,n){let a=t.canLoad;if(a===void 0||a.length===0)return We(!0);let s=a.map(u=>{let c=_i(u,e),m=LE(c)?c.canLoad(t,r):ln(e,()=>c(t,r));return sr(m)});return We(s).pipe(yi(),Dg(n))}function Dg(e){return Ks(Tt(t=>{if(typeof t!="boolean")throw ys(e,t)}),rt(t=>t===!0))}function XE(e,t,r,n){let a=t.canMatch;if(!a||a.length===0)return We(!0);let s=a.map(u=>{let c=_i(u,e),m=UE(c)?c.canMatch(t,r):ln(e,()=>c(t,r));return sr(m)});return We(s).pipe(yi(),Dg(n))}var po=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},go=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ui(e){return kr(new po(e))}function KE(e){return kr(new He(4e3,!1))}function JE(e){return kr(wg(!1,$t.GuardRejected))}var $c=class{urlSerializer;urlTree;constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],a=r.root;for(;;){if(n=n.concat(a.segments),a.numberOfChildren===0)return We(n);if(a.numberOfChildren>1||!a.children[Qe])return KE(`${t.redirectTo}`);a=a.children[Qe]}}applyRedirectCommands(t,r,n,a,s){if(typeof r!="string"){let c=r,{queryParams:m,fragment:_,routeConfig:f,url:h,outlet:l,params:o,data:i,title:g}=a,y=ln(s,()=>c({params:o,data:i,queryParams:m,fragment:_,routeConfig:f,url:h,outlet:l,title:g}));if(y instanceof Wn)throw new go(y);r=y}let u=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r[0]==="/")throw new go(u);return u}applyRedirectCreateUrlTree(t,r,n,a){let s=this.createSegmentGroup(t,r.root,n,a);return new Wn(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){let n={};return Object.entries(t).forEach(([a,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);n[a]=r[c]}else n[a]=s}),n}createSegmentGroup(t,r,n,a){let s=this.createSegments(t,r.segments,n,a),u={};return Object.entries(r.children).forEach(([c,m])=>{u[c]=this.createSegmentGroup(t,m,n,a)}),new ot(s,u)}createSegments(t,r,n,a){return r.map(s=>s.path[0]===":"?this.findPosParam(t,s,a):this.findOrReturn(s,n))}findPosParam(t,r,n){let a=n[r.path.substring(1)];if(!a)throw new He(4001,!1);return a}findOrReturn(t,r){let n=0;for(let a of r){if(a.path===t.path)return r.splice(n),a;n++}return t}},Wc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ex(e,t,r,n,a){let s=Cg(e,t,r);return s.matched?(n=EE(t,n),XE(n,t,r,a).pipe(rt(u=>u===!0?s:Ue({},Wc)))):We(s)}function Cg(e,t,r){if(t.path==="**")return tx(r);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||r.length>0)?Ue({},Wc):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let a=(t.matcher||Qw)(r,e,t);if(!a)return Ue({},Wc);let s={};Object.entries(a.posParams??{}).forEach(([c,m])=>{s[c]=m.path});let u=a.consumed.length>0?Ue(Ue({},s),a.consumed[a.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:a.consumed,remainingSegments:r.slice(a.consumed.length),parameters:u,positionalParamSegments:a.posParams??{}}}function tx(e){return{matched:!0,parameters:e.length>0?ng(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function K0(e,t,r,n){return r.length>0&&ix(e,r,n)?{segmentGroup:new ot(t,rx(n,new ot(r,e.children))),slicedSegments:[]}:r.length===0&&ox(e,r,n)?{segmentGroup:new ot(e.segments,nx(e,r,n,e.children)),slicedSegments:r}:{segmentGroup:new ot(e.segments,e.children),slicedSegments:r}}function nx(e,t,r,n){let a={};for(let s of r)if(Es(e,t,s)&&!n[pn(s)]){let u=new ot([],{});a[pn(s)]=u}return Ue(Ue({},n),a)}function rx(e,t){let r={};r[Qe]=t;for(let n of e)if(n.path===""&&pn(n)!==Qe){let a=new ot([],{});r[pn(n)]=a}return r}function ix(e,t,r){return r.some(n=>Es(e,t,n)&&pn(n)!==Qe)}function ox(e,t,r){return r.some(n=>Es(e,t,n))}function Es(e,t,r){return(e.hasChildren()||t.length>0)&&r.pathMatch==="full"?!1:r.path===""}function ax(e,t,r){return t.length===0&&!e.children[r]}var Zc=class{};function sx(e,t,r,n,a,s,u="emptyOnly"){return new qc(e,t,r,n,a,u,s).recognize()}var ux=31,qc=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,r,n,a,s,u,c){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=a,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=c,this.applyRedirects=new $c(this.urlSerializer,this.urlTree)}noMatchError(t){return new He(4002,`'${t.segmentGroup}'`)}recognize(){let t=K0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(rt(({children:r,rootSnapshot:n})=>{let a=new Gt(n,r),s=new vs("",a),u=gE(n,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),{state:s,tree:u}}))}match(t){let r=new fi([],Object.freeze({}),Object.freeze(Ue({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Qe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Qe,r).pipe(rt(n=>({children:n,rootSnapshot:r})),Xn(n=>{if(n instanceof go)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof po?this.noMatchError(n):n}))}processSegmentGroup(t,r,n,a,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,r,n,s):this.processSegment(t,r,n,n.segments,a,!0,s).pipe(rt(u=>u instanceof Gt?[u]:[]))}processChildren(t,r,n,a){let s=[];for(let u of Object.keys(n.children))u==="primary"?s.unshift(u):s.push(u);return bt(s).pipe(Lr(u=>{let c=n.children[u],m=xE(r,u);return this.processSegmentGroup(t,m,c,u,a)}),iu((u,c)=>(u.push(...c),u)),Kn(null),ru(),Et(u=>{if(u===null)return ui(n);let c=Sg(u);return lx(c),We(c)}))}processSegment(t,r,n,a,s,u,c){return bt(r).pipe(Lr(m=>this.processSegmentAgainstRoute(m._injector??t,r,m,n,a,s,u,c).pipe(Xn(_=>{if(_ instanceof po)return We(null);throw _}))),Tn(m=>!!m),Xn(m=>{if(xg(m))return ax(n,a,s)?We(new Zc):ui(n);throw m}))}processSegmentAgainstRoute(t,r,n,a,s,u,c,m){return pn(n)!==u&&(u===Qe||!Es(a,s,n))?ui(a):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,a,n,s,u,m):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,a,r,n,s,u,m):ui(a)}expandSegmentAgainstRouteUsingRedirect(t,r,n,a,s,u,c){let{matched:m,parameters:_,consumedSegments:f,positionalParamSegments:h,remainingSegments:l}=Cg(r,a,s);if(!m)return ui(r);typeof a.redirectTo=="string"&&a.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ux&&(this.allowRedirects=!1));let o=new fi(s,_,Object.freeze(Ue({},this.urlTree.queryParams)),this.urlTree.fragment,J0(a),pn(a),a.component??a._loadedComponent??null,a,eg(a)),i=ms(o,c,this.paramsInheritanceStrategy);o.params=Object.freeze(i.params),o.data=Object.freeze(i.data);let g=this.applyRedirects.applyRedirectCommands(f,a.redirectTo,h,o,t);return this.applyRedirects.lineralizeSegments(a,g).pipe(Et(y=>this.processSegment(t,n,r,y.concat(l),u,!1,c)))}matchSegmentAgainstRoute(t,r,n,a,s,u){let c=ex(r,n,a,t,this.urlSerializer);return n.path==="**"&&(r.children={}),c.pipe(on(m=>m.matched?(t=n._injector??t,this.getChildConfig(t,n,a).pipe(on(({routes:_})=>{let f=n._loadedInjector??t,{parameters:h,consumedSegments:l,remainingSegments:o}=m,i=new fi(l,h,Object.freeze(Ue({},this.urlTree.queryParams)),this.urlTree.fragment,J0(n),pn(n),n.component??n._loadedComponent??null,n,eg(n)),g=ms(i,u,this.paramsInheritanceStrategy);i.params=Object.freeze(g.params),i.data=Object.freeze(g.data);let{segmentGroup:y,slicedSegments:d}=K0(r,l,o,_);if(d.length===0&&y.hasChildren())return this.processChildren(f,_,y,i).pipe(rt(p=>new Gt(i,p)));if(_.length===0&&d.length===0)return We(new Gt(i,[]));let v=pn(n)===s;return this.processSegment(f,_,y,d,v?Qe:s,!0,i).pipe(rt(p=>new Gt(i,p instanceof Gt?[p]:[])))}))):ui(r)))}getChildConfig(t,r,n){return r.children?We({routes:r.children,injector:t}):r.loadChildren?r._loadedRoutes!==void 0?We({routes:r._loadedRoutes,injector:r._loadedInjector}):QE(t,r,n,this.urlSerializer).pipe(Et(a=>a?this.configLoader.loadChildren(t,r).pipe(Tt(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):JE(r))):We({routes:[],injector:t})}};function lx(e){e.sort((t,r)=>t.value.outlet===Qe?-1:r.value.outlet===Qe?1:t.value.outlet.localeCompare(r.value.outlet))}function cx(e){let t=e.value.routeConfig;return t&&t.path===""}function Sg(e){let t=[],r=new Set;for(let n of e){if(!cx(n)){t.push(n);continue}let a=t.find(s=>n.value.routeConfig===s.value.routeConfig);a!==void 0?(a.children.push(...n.children),r.add(a)):t.push(n)}for(let n of r){let a=Sg(n.children);t.push(new Gt(n.value,a))}return t.filter(n=>!r.has(n))}function J0(e){return e.data||{}}function eg(e){return e.resolve||{}}function fx(e,t,r,n,a,s){return Et(u=>sx(e,t,r,n,u.extractedUrl,a,s).pipe(rt(({state:c,tree:m})=>ft(Ue({},u),{targetSnapshot:c,urlAfterRedirects:m}))))}function dx(e,t){return Et(r=>{let{targetSnapshot:n,guards:{canActivateChecks:a}}=r;if(!a.length)return We(r);let s=new Set(a.map(m=>m.route)),u=new Set;for(let m of s)if(!u.has(m))for(let _ of Ig(m))u.add(_);let c=0;return bt(u).pipe(Lr(m=>s.has(m)?hx(m,n,e,t):(m.data=ms(m,m.parent,e).resolve,We(void 0))),Tt(()=>c++),Fr(1),Et(m=>c===u.size?We(r):Lt))})}function Ig(e){let t=e.children.map(r=>Ig(r)).flat();return[e,...t]}function hx(e,t,r,n){let a=e.routeConfig,s=e._resolve;return a?.title!==void 0&&!vg(a)&&(s[mo]=a.title),px(s,e,t,n).pipe(rt(u=>(e._resolvedData=u,e.data=ms(e,e.parent,r).resolve,null)))}function px(e,t,r,n){let a=Cc(e);if(a.length===0)return We({});let s={};return bt(a).pipe(Et(u=>gx(e[u],t,r,n).pipe(Tn(),Tt(c=>{if(c instanceof ho)throw ys(new pi,c);s[u]=c}))),Fr(1),rt(()=>s),Xn(u=>xg(u)?Lt:kr(u)))}function gx(e,t,r,n){let a=vo(t)??n,s=_i(e,a),u=s.resolve?s.resolve(t,r):ln(a,()=>s(t,r));return sr(u)}function xc(e){return on(t=>{let r=e(t);return r?bt(r).pipe(rt(()=>t)):We(t)})}var Mg=(()=>{class e{buildTitle(r){let n,a=r.root;for(;a!==void 0;)n=this.getResolvedTitleForRoute(a)??n,a=a.children.find(s=>s.outlet===Qe);return n}getResolvedTitleForRoute(r){return r.data[mo]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:()=>Le(mx),providedIn:"root"})}return e})(),mx=(()=>{class e extends Mg{title;constructor(r){super(),this.title=r}updateTitle(r){let n=this.buildTitle(r);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||e)(Ye(W0))};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xs=new Ve("",{providedIn:"root",factory:()=>({})}),Ds=new Ve(""),Tg=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Le(x0);loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return We(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let n=sr(r.loadComponent()).pipe(rt(Ag),Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Si(()=>{this.componentLoaders.delete(r)})),a=new Or(n,()=>new Dt).pipe(Nr());return this.componentLoaders.set(r,a),a}loadChildren(r,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return We({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let s=vx(n,this.compiler,r,this.onLoadEndListener).pipe(Si(()=>{this.childrenLoaders.delete(n)})),u=new Or(s,()=>new Dt).pipe(Nr());return this.childrenLoaders.set(n,u),u}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vx(e,t,r,n){return sr(e.loadChildren()).pipe(rt(Ag),Et(a=>a instanceof Xl||Array.isArray(a)?We(a):bt(t.compileModuleAsync(a))),rt(a=>{n&&n(e);let s,u,c=!1;return Array.isArray(a)?(u=a,c=!0):(s=a.create(r).injector,u=s.get(Ds,[],{optional:!0,self:!0}).flat()),{routes:u.map(Xc),injector:s}}))}function yx(e){return e&&typeof e=="object"&&"default"in e}function Ag(e){return yx(e)?e.default:e}var Kc=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:()=>Le(_x),providedIn:"root"})}return e})(),_x=(()=>{class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,n){return r}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rg=new Ve("");var Ng=new Ve(""),Og=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Dt;transitionAbortSubject=new Dt;configLoader=Le(Tg);environmentInjector=Le(Kt);destroyRef=Le(Ba);urlSerializer=Le(bs);rootContexts=Le(yo);location=Le(si);inputBindingEnabled=Le(ws,{optional:!0})!==null;titleStrategy=Le(Mg);options=Le(xs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Le(Kc);createViewTransition=Le(Rg,{optional:!0});navigationErrorHandler=Le(Ng,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>We(void 0);rootComponentType=null;destroyed=!1;constructor(){let r=a=>this.events.next(new Oc(a)),n=a=>this.events.next(new kc(a));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=r,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(r){let n=++this.navigationId;this.transitions?.next(ft(Ue({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(r){return this.transitions=new Mt(null),this.transitions.pipe(rn(n=>n!==null),on(n=>{let a=!1,s=!1;return We(n).pipe(on(u=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",$t.SupersededByNewNavigation),Lt;this.currentTransition=n,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ft(Ue({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!c&&m!=="reload"){let _="";return this.events.next(new ar(u.id,this.urlSerializer.serialize(u.rawUrl),_,ds.IgnoredSameUrlNavigation)),u.resolve(!1),Lt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return We(u).pipe(on(_=>(this.events.next(new mi(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),_.id!==this.navigationId?Lt:Promise.resolve(_))),fx(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Tt(_=>{n.targetSnapshot=_.targetSnapshot,n.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=ft(Ue({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let f=new hs(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:_,extractedUrl:f,source:h,restoredState:l,extras:o}=u,i=new mi(_,this.urlSerializer.serialize(f),h,l);this.events.next(i);let g=gg(this.rootComponentType).snapshot;return this.currentTransition=n=ft(Ue({},u),{targetSnapshot:g,urlAfterRedirects:f,extras:ft(Ue({},o),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,We(n)}else{let _="";return this.events.next(new ar(u.id,this.urlSerializer.serialize(u.extractedUrl),_,ds.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Lt}}),Tt(u=>{let c=new Tc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),rt(u=>(this.currentTransition=n=ft(Ue({},u),{guards:RE(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),n)),zE(this.environmentInjector,u=>this.events.next(u)),Tt(u=>{if(n.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ys(this.urlSerializer,u.guardsResult);let c=new Ac(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),rn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",$t.GuardRejected),!1)),xc(u=>{if(u.guards.canActivateChecks.length!==0)return We(u).pipe(Tt(c=>{let m=new Rc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(m)}),on(c=>{let m=!1;return We(c).pipe(dx(this.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(c,"",$t.NoDataFromResolver)}}))}),Tt(c=>{let m=new Nc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(m)}))}),xc(u=>{let c=m=>{let _=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(m.routeConfig).pipe(Tt(f=>{m.component=f}),rt(()=>{})));for(let f of m.children)_.push(...c(f));return _};return Zo(c(u.targetSnapshot.root)).pipe(Kn(null),Mn(1))}),xc(()=>this.afterPreactivation()),on(()=>{let{currentSnapshot:u,targetSnapshot:c}=n,m=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return m?bt(m).pipe(rt(()=>n)):We(n)}),rt(u=>{let c=SE(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=n=ft(Ue({},u),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,n}),Tt(()=>{this.events.next(new co)}),AE(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Mn(1),Tt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new or(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),au(this.transitionAbortSubject.pipe(Tt(u=>{throw u}))),Si(()=>{!a&&!s&&this.cancelNavigationTransition(n,"",$t.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xn(u=>{if(this.destroyed)return n.resolve(!1),Lt;if(s=!0,Eg(u))this.events.next(new $n(n.id,this.urlSerializer.serialize(n.extractedUrl),u.message,u.cancellationCode)),TE(u)?this.events.next(new vi(u.url,u.navigationBehaviorOptions)):n.resolve(!1);else{let c=new lo(n.id,this.urlSerializer.serialize(n.extractedUrl),u,n.targetSnapshot??void 0);try{let m=ln(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(m instanceof ho){let{message:_,cancellationCode:f}=ys(this.urlSerializer,m);this.events.next(new $n(n.id,this.urlSerializer.serialize(n.extractedUrl),_,f)),this.events.next(new vi(m.redirectTo,m.navigationBehaviorOptions))}else throw this.events.next(c),u}catch(m){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(m)}}return Lt}))}))}cancelNavigationTransition(r,n,a){let s=new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),n,a);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bx(e){return e!==ls}var wx=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:()=>Le(Ex),providedIn:"root"})}return e})(),Yc=class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}},Ex=(()=>{class e extends Yc{static \u0275fac=(()=>{let r;return function(a){return(r||(r=Ml(e)))(a||e)}})();static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kg=(()=>{class e{urlSerializer=Le(bs);options=Le(xs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Le(si);urlHandlingStrategy=Le(Kc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Wn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:r,initialUrl:n,targetBrowserUrl:a}){let s=r!==void 0?this.urlHandlingStrategy.merge(r,n):n,u=a??s;return u instanceof Wn?this.urlSerializer.serialize(u):u}commitTransition({targetRouterState:r,finalUrl:n,initialUrl:a}){n&&r?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,a),this.routerState=r):this.rawUrlTree=a}routerState=gg(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:r}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r??this.rawUrlTree)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:()=>Le(xx),providedIn:"root"})}return e})(),xx=(()=>{class e extends kg{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{r(n.url,n.state,"popstate")})})}handleRouterEvent(r,n){r instanceof mi?this.updateStateMemento():r instanceof ar?this.commitTransition(n):r instanceof hs?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):r instanceof co?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):r instanceof $n&&(r.code===$t.GuardRejected||r.code===$t.NoDataFromResolver)?this.restoreHistory(n):r instanceof lo?this.restoreHistory(n,!0):r instanceof or&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,{extras:n,id:a}){let{replaceUrl:s,state:u}=n;if(this.location.isCurrentPathEqualTo(r)||s){let c=this.browserPageId,m=Ue(Ue({},u),this.generateNgRouterState(a,c));this.location.replaceState(r,"",m)}else{let c=Ue(Ue({},u),this.generateNgRouterState(a,this.browserPageId+1));this.location.go(r,"",c)}}restoreHistory(r,n=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,s=this.currentPageId-a;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===r.finalUrl&&s===0&&(this.resetInternalState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(r),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,n){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:n}:{navigationId:r}}static \u0275fac=(()=>{let r;return function(a){return(r||(r=Ml(e)))(a||e)}})();static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Pg(e,t){e.events.pipe(rn(r=>r instanceof or||r instanceof $n||r instanceof lo||r instanceof ar),rt(r=>r instanceof or||r instanceof ar?0:(r instanceof $n?r.code===$t.Redirect||r.code===$t.SupersededByNewNavigation:!1)?2:1),rn(r=>r!==2),Mn(1)).subscribe(()=>{t()})}var Dx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jc=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Le(Kl);stateManager=Le(kg);options=Le(xs,{optional:!0})||{};pendingTasks=Le(ii);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Le(Og);urlSerializer=Le(bs);location=Le(si);urlHandlingStrategy=Le(Kc);_events=new Dt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Le(wx);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Le(Ds,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Le(ws,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _t;subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(n=>{try{let a=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(a!==null&&s!==null){if(this.stateManager.handleRouterEvent(n,s),n instanceof $n&&n.code!==$t.Redirect&&n.code!==$t.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof or)this.navigated=!0;else if(n instanceof vi){let u=n.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(n.url,a.currentRawUrl),m=Ue({browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bx(a.source)},u);this.scheduleNavigation(c,ls,null,m,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}Ix(n)&&this._events.next(n)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ls,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,n,a)=>{this.navigateToSyncWithBrowser(r,a,n)})}navigateToSyncWithBrowser(r,n,a){let s={replaceUrl:!0},u=a?.navigationId?a:null;if(a){let m=Ue({},a);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(s.state=m)}let c=this.parseUrl(r);this.scheduleNavigation(c,n,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Xc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,n={}){let{relativeTo:a,queryParams:s,fragment:u,queryParamsHandling:c,preserveFragment:m}=n,_=m?this.currentUrlTree.fragment:u,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=Ue(Ue({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let l=a?a.snapshot:this.routerState.snapshot.root;h=fg(l)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),h=this.currentUrlTree.root}return dg(h,r,f,_??null)}navigateByUrl(r,n={skipLocationChange:!1}){let a=gi(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(s,ls,null,n)}navigate(r,n={skipLocationChange:!1}){return Sx(r),this.navigateByUrl(this.createUrlTree(r,n),n)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,n){let a;if(n===!0?a=Ue({},Dx):n===!1?a=Ue({},Cx):a=n,gi(r))return q0(this.currentUrlTree,r,a);let s=this.parseUrl(r);return q0(this.currentUrlTree,s,a)}removeEmptyProps(r){return Object.entries(r).reduce((n,[a,s])=>(s!=null&&(n[a]=s),n),{})}scheduleNavigation(r,n,a,s,u){if(this.disposed)return Promise.resolve(!1);let c,m,_;u?(c=u.resolve,m=u.reject,_=u.promise):_=new Promise((h,l)=>{c=h,m=l});let f=this.pendingTasks.add();return Pg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(h=>Promise.reject(h))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sx(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new He(4008,!1)}function Ix(e){return!(e instanceof co)&&!(e instanceof vi)}var Mx=new Ve("");function ef(e,...t){return Oa([{provide:Ds,multi:!0,useValue:e},[],{provide:Cr,useFactory:Tx,deps:[Jc]},{provide:Jl,multi:!0,useFactory:Ax},t.map(r=>r.\u0275providers)])}function Tx(e){return e.routerState.root}function Ax(){let e=Le(On);return t=>{let r=e.get(tr);if(t!==r.components[0])return;let n=e.get(Jc),a=e.get(Rx);e.get(Nx)===1&&n.initialNavigation(),e.get(Ox,null,qe.Optional)?.setUpPreloading(),e.get(Mx,null,qe.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var Rx=new Ve("",{factory:()=>new Dt}),Nx=new Ve("",{providedIn:"root",factory:()=>1});var Ox=new Ve("");var Lg=[];var Fg={providers:[C0({eventCoalescing:!0}),ef(Lg)]};var As=Cm(gm());var rD=["canvas"],iD=["posterizedCheckbox"],oD=["colorTraceButton"],aD=["bwTraceButton"],sD=e=>({showCanvas:e});function uD(e,t){e&1&&(xt(0,"label",22),Jt(1,"i",23),hn(2," Upload Image "),At())}function lD(e,t){if(e&1){let r=tc();xt(0,"button",24),Er("click",function(){ni(r);let a=qi();return ri(a.checkTraceMode())}),Jt(1,"i",25),hn(2," Convert to SVG "),At()}if(e&2){let r=qi();dn("disabled",!r.imageData)}}function cD(e,t){if(e&1&&Jt(0,"div",26),e&2){let r=qi();dn("innerHTML",r.svgOutput,kp)}}function fD(e,t){if(e&1&&(xt(0,"a",27),Jt(1,"i",28),hn(2,` Download SVG
`),At()),e&2){let r=qi();dn("href",r.svgDownloadUrl,Pp)}}var Ts=class e{constructor(t,r){this.sanitizer=t;this.ngZone=r}canvasRef;posterizedCheckboxRef;colorTraceButton;bwTraceButton;imageData;svgOutput="";svgDownloadUrl="";activeButton="";showUpload=!1;showConvert=!1;checkBoxChecked=!1;checkBoxDisabled=!0;setActive(t){if(t===this.activeButton){this.activeButton="",this.checkBoxDisabled=!0,this.checkBoxChecked=!1,this.posterizedCheckboxRef?.nativeElement&&(this.posterizedCheckboxRef.nativeElement.checked=!1);return}this.activeButton=t,this.displayUpload(),t==="bwBtn"?this.checkBoxDisabled=!1:(this.checkBoxDisabled=!0,this.checkBoxChecked=!1,this.posterizedCheckboxRef?.nativeElement&&(this.posterizedCheckboxRef.nativeElement.checked=!1))}displayUpload(){this.showUpload=!0}onFileSelected(t){let r=t.target;if(!r.files||r.files.length===0)return;let n=r.files[0],a=new Image,s=this.canvasRef.nativeElement,u=s.getContext("2d");a.onload=()=>{s.width=a.width,s.height=a.height,u.clearRect(0,0,s.width,s.height),u.drawImage(a,0,0),this.imageData=u.getImageData(0,0,s.width,s.height),this.showConvert=!0},a.src=URL.createObjectURL(n)}checkTraceMode(){if(this.activeButton=="colorBtn"){this.traceColor();return}else if(this.activeButton=="bwBtn"){if(this.checkBoxChecked){this.posterize();return}this.traceBW();return}else{console.error("No mode found!");return}}traceColor(){let t=ImageTracer.imagedataToSVG(this.imageData,{pathomit:16,numberofcolors:8,colorquantcycles:3,blurradius:0});this.setSvg(t)}traceBW(){this.canvasRef.nativeElement.toBlob(r=>{r&&As.trace(URL.createObjectURL(r),{},(n,a)=>{if(n){console.error(n);return}this.ngZone.run(()=>{this.setSvg(a)})})})}posterize(){this.canvasRef.nativeElement.toBlob(r=>{r&&As.posterize(URL.createObjectURL(r),{},(n,a)=>{if(n){console.error(n);return}this.ngZone.run(()=>{this.setSvg(a)})})})}setSvg(t){let r=t.match(/width="(\d+)"/),n=t.match(/height="(\d+)"/);if(r&&n){let a=r[1],s=n[1];t=t.replace(/<svg([^>]*)>/,`<svg$1 viewBox="0 0 ${a} ${s}" width="100%" height="auto">`).replace(/width="[^"]+"/,'width="100%"').replace(/height="[^"]+"/,'height="auto"')}this.svgOutput=this.sanitizer.bypassSecurityTrustHtml(t),this.svgDownloadUrl="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(t)}static \u0275fac=function(r){return new(r||e)(zn(_c),zn(mt))};static \u0275cmp=rr({type:e,selectors:[["app-converter"]],viewQuery:function(r,n){if(r&1&&(Yi(rD,5),Yi(iD,5),Yi(oD,5),Yi(aD,5)),r&2){let a;Qi(a=Xi())&&(n.canvasRef=a.first),Qi(a=Xi())&&(n.posterizedCheckboxRef=a.first),Qi(a=Xi())&&(n.colorTraceButton=a.first),Qi(a=Xi())&&(n.bwTraceButton=a.first)}},decls:29,vars:13,consts:[["colorTraceButton",""],["bwTraceButton",""],["posterizedCheckbox",""],["canvas",""],[1,"btnSelectContainer"],[1,"colorTrace","traceBtn",3,"click"],[1,"actual-text"],["aria-hidden","true",1,"hover-text"],[1,"bwTrace","traceBtn",3,"click"],[1,"checkboxContainer"],["id","posterizedCheckbox","type","checkbox",3,"click","checked"],["id","checkboxCheckmark","viewBox","0 0 64 64","height","2em","width","2em"],["d","M 0 16 V 56 A 8 8 90 0 0 8 64 H 56 A 8 8 90 0 0 64 56 V 8 A 8 8 90 0 0 56 0 H 8 A 8 8 90 0 0 0 8 V 16 L 32 48 L 64 16 V 8 A 8 8 90 0 0 56 0 H 8 A 8 8 90 0 0 0 8 V 56 A 8 8 90 0 0 8 64 H 56 A 8 8 90 0 0 64 56 V 16","pathLength","575.0541381835938",1,"path"],[1,"form-desc"],["title","Runs the B/W Algorithm (Potrace) multiple times for a smoother result"],[1,"img-canvas",3,"ngClass"],[1,"uploadWrapper"],["for","imgUpload","class","imgUploadLabel",4,"ngIf"],["id","imgUpload","type","file","accept","image/*","hidden","",3,"change"],["class","convertBtn",3,"disabled","click",4,"ngIf"],["id","svgOutput",3,"innerHTML",4,"ngIf"],["download","converted.svg","class","downloadBtn",3,"href",4,"ngIf"],["for","imgUpload",1,"imgUploadLabel"],[1,"uploadIcon"],[1,"convertBtn",3,"click","disabled"],[1,"convertIcon"],["id","svgOutput",3,"innerHTML"],["download","converted.svg",1,"downloadBtn",3,"href"],[1,"downloadIcon"]],template:function(r,n){if(r&1){let a=tc();xt(0,"div",4)(1,"button",5,0),Er("click",function(){return ni(a),ri(n.setActive("colorBtn"))}),xt(3,"span",6),hn(4,"\xA0Color\xA0Trace\xA0"),At(),xt(5,"span",7),hn(6,"\xA0Color\xA0Trace\xA0"),At()(),xt(7,"button",8,1),Er("click",function(){return ni(a),ri(n.setActive("bwBtn"))}),xt(9,"span",6),hn(10,"\xA0B/W\xA0Trace\xA0"),At(),xt(11,"span",7),hn(12,"\xA0B/W\xA0Trace\xA0"),At()(),xt(13,"label",9)(14,"input",10,2),Er("click",function(){return ni(a),ri(n.checkBoxChecked=!n.checkBoxChecked)}),At(),Vh(),xt(16,"svg",11),Jt(17,"path",12),At(),Gh(),xt(18,"span",13)(19,"abbr",14),hn(20,"Posterized Trace"),At()()()(),Jt(21,"canvas",15,3),xt(23,"div",16),Wi(24,uD,3,0,"label",17),xt(25,"input",18),Er("change",function(u){return ni(a),ri(n.onFileSelected(u))}),At(),Wi(26,lD,3,1,"button",19),At(),Wi(27,cD,1,1,"div",20)(28,fD,3,1,"a",21)}r&2&&(Hn(),Ya("active",n.activeButton==="colorBtn"),Hn(6),Ya("active",n.activeButton==="bwBtn"),Hn(7),dn("checked",n.checkBoxChecked),ec("disabled",n.checkBoxDisabled?!0:null),Hn(7),dn("ngClass",E0(11,sD,n.imageData)),Hn(3),dn("ngIf",n.showUpload),Hn(2),dn("ngIf",n.showConvert),Hn(),dn("ngIf",n.svgOutput),Hn(),dn("ngIf",n.svgOutput))},dependencies:[Ka,sc,uc],styles:['.btnSelectContainer[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:3rem;margin-left:auto;margin-right:auto;width:fit-content;display:flex;justify-content:center;gap:3rem;position:relative}.btnSelectContainer[_ngcontent-%COMP%]   .traceBtn[_ngcontent-%COMP%]{height:auto;background:transparent;padding:0;border:none;cursor:pointer;--border-right: 6px;--text-stroke-color: rgba(255,255,255,.6);--green-glow: #37FF8B;--fs-size: 2em;letter-spacing:3px;text-decoration:none;font-size:var(--fs-size);font-family:Arial;position:relative;text-transform:uppercase;color:transparent;-webkit-text-stroke:1px var(--text-stroke-color)}.btnSelectContainer[_ngcontent-%COMP%]   .traceBtn[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;box-sizing:border-box;content:attr(data-text);color:var(--green-glow);width:0%;inset:0;border-right:var(--border-right) solid var(--green-glow);overflow:hidden;transition:.5s;-webkit-text-stroke:1px var(--green-glow)}.btnSelectContainer[_ngcontent-%COMP%]   .traceBtn[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .btnSelectContainer[_ngcontent-%COMP%]   .traceBtn.active[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{width:100%;filter:drop-shadow(0 0 23px var(--green-glow))}.checkboxContainer[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:-175px;display:flex;align-items:center;gap:.5rem}.checkboxContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.checkboxContainer[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{overflow:visible}.path[_ngcontent-%COMP%]{fill:none;stroke:#37ff8b;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;transition:stroke-dasharray .5s ease,stroke-dashoffset .5s ease;stroke-dasharray:241 9999999;stroke-dashoffset:0;filter:drop-shadow(0 1em .25em var(--green-glow),0 0 4em 1em var(--green-glow),inset 0 0 .75em .25em var(--green-glow));-webkit-filter:drop-shadow(0 1em .25em var(--green-glow),0 0 4em 1em var(--green-glow),inset 0 0 .75em .25em var(--green-glow));-webkit-svg-shadow:0 1em .25em var(--green-glow),0 0 4em 1em var(--green-glow),inset 0 0 .75em .25em var(--green-glow)}#checkboxCheckmark[_ngcontent-%COMP%]{filter:drop-shadow(0 0 .75em var(--green-glow))}.checkboxContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ svg[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:70.5096664429 9999999;stroke-dashoffset:-262.2723388672}#posterizedCheckbox[disabled][_ngcontent-%COMP%] ~ #checkboxCheckmark[_ngcontent-%COMP%], #posterizedCheckbox[disabled][_ngcontent-%COMP%] ~ .form-desc[_ngcontent-%COMP%]{cursor:not-allowed}#posterizedCheckbox[disabled][_ngcontent-%COMP%] ~ #checkboxCheckmark[_ngcontent-%COMP%]{filter:invert(.5) grayscale(1)}#posterizedCheckbox[disabled][_ngcontent-%COMP%] ~ .form-desc[_ngcontent-%COMP%]{color:#ffffff80;text-shadow:none}.checkboxContainer[_ngcontent-%COMP%]:has(#posterizedCheckbox:disabled){cursor:not-allowed}.form-desc[_ngcontent-%COMP%]{color:var(--green-glow);text-shadow:0 0 .5em var(--green-glow)}.img-canvas[_ngcontent-%COMP%]{display:auto;margin-left:auto;margin-right:auto;max-width:80%;max-height:60vh}.img-canvas[_ngcontent-%COMP%]:hover{position:relative}.showCanvas[_ngcontent-%COMP%]{display:block}.uploadWrapper[_ngcontent-%COMP%]{width:40%;margin-left:auto;margin-right:auto;margin-top:3rem;margin-bottom:3rem;display:flex;justify-content:center;align-items:center;gap:3rem}.imgUploadLabel[_ngcontent-%COMP%]{color:var(--green-glow);background-color:var(--dark-green);padding:1rem;border:1px solid var(--green-glow);border-radius:8px;box-shadow:4px 4px 10px -3px var(--green-glow);display:flex;justify-content:center;transition:.2s ease-in-out;position:relative;left:0;top:0;cursor:pointer}.imgUploadLabel[_ngcontent-%COMP%]:hover{left:4px;top:4px;box-shadow:var(--green-glow) 0 0 0 0}.imgUploadLabel[_ngcontent-%COMP%]:active{background-color:var(--medium-green)}.labelWrapper[_ngcontent-%COMP%]{justify-content:center;align-items:center}.uploadIcon[_ngcontent-%COMP%]{mask-image:url("./media/upload_icon-GW2FB572.svg");background:var(--green-glow);display:inline-block;height:1.5rem;width:1.5rem;mask-size:contain;mask-position:center;mask-repeat:no-repeat}.convertBtn[_ngcontent-%COMP%]{color:var(--green-glow);background-color:var(--dark-green);padding:1rem;border:1px solid var(--green-glow);border-radius:8px;box-shadow:4px 4px 10px -3px var(--green-glow);display:flex;justify-content:center;transition:.2s ease-in-out;position:relative;left:0;top:0;cursor:pointer}.convertBtn[_ngcontent-%COMP%]:hover{left:4px;top:4px;box-shadow:var(--green-glow) 0 0 0 0}.convertBtn[_ngcontent-%COMP%]:active{background-color:var(--medium-green)}.convertIcon[_ngcontent-%COMP%]{mask-image:url("./media/convert_icon-JXJUA6P5.svg");background:var(--green-glow);display:inline-block;height:1.5rem;width:1.5rem;mask-size:contain;mask-position:center;mask-repeat:no-repeat;margin-right:3px}#svgOutput[_ngcontent-%COMP%]{max-width:80%;width:fit-content;margin-left:auto;margin-right:auto;margin-top:3rem;margin-bottom:3rem;border:1px solid var(--border-color);background:#fff}.downloadBtn[_ngcontent-%COMP%]{color:var(--green-glow);background-color:var(--dark-green);padding:1rem;border:1px solid var(--green-glow);border-radius:8px;box-shadow:4px 4px 10px -3px var(--green-glow);display:flex;justify-content:center;width:fit-content;margin-left:auto;margin-right:auto;margin-top:3rem;margin-bottom:3rem;transition:.2s ease-in-out;position:relative;left:0;top:0;cursor:pointer}.downloadBtn[_ngcontent-%COMP%]:hover{left:4px;top:4px;box-shadow:var(--green-glow) 0 0 0 0}.downloadBtn[_ngcontent-%COMP%]:active{background-color:var(--medium-green)}.downloadIcon[_ngcontent-%COMP%]{mask-image:url("./media/download_icon-52LN57A5.svg");background:var(--green-glow);display:inline-block;height:1.5rem;width:1.5rem;mask-size:contain;mask-position:center;mask-repeat:no-repeat}@media only screen and (max-width: 900px){.btnSelectContainer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;margin-bottom:5rem;--fs-size-mobile: 1em}.btnSelectContainer[_ngcontent-%COMP%]   .traceBtn[_ngcontent-%COMP%]{font-size:var(--fs-size-mobile)}.checkboxContainer[_ngcontent-%COMP%]{left:0;bottom:-50px}.uploadWrapper[_ngcontent-%COMP%]{width:100%;gap:1rem}}']})};var Rs=class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=rr({type:e,selectors:[["app-headline"]],decls:2,vars:0,consts:[[1,"headline"]],template:function(r,n){r&1&&(xt(0,"h1",0),hn(1,"Image to SVG Converter"),At())},styles:[".headline[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;font-weight:700;color:var(--secondary-text-color);margin-top:1rem}@media only screen and (max-width: 900px){.headline[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var Ns=class e{title="img-to-svg-converter";static \u0275fac=function(r){return new(r||e)};static \u0275cmp=rr({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(r,n){r&1&&Jt(0,"app-headline")(1,"app-converter")},dependencies:[Ts,Rs],encapsulation:2})};yc(Ns,Fg).catch(e=>console.error(e));
